function Mw(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function Ho(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function zw(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var hd={exports:{}},bo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg;function Dw(){if(Wg)return bo;Wg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,a){var u=null;if(a!==void 0&&(u=""+a),o.key!==void 0&&(u=""+o.key),"key"in o){a={};for(var d in o)d!=="key"&&(a[d]=o[d])}else a=o;return o=a.ref,{$$typeof:t,type:r,key:u,ref:o!==void 0?o:null,props:a}}return bo.Fragment=e,bo.jsx=n,bo.jsxs=n,bo}var Zg;function Uw(){return Zg||(Zg=1,hd.exports=Dw()),hd.exports}var S=Uw(),pd={exports:{}},Ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function Pw(){if(ey)return Ee;ey=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),x=Symbol.iterator;function b(z){return z===null||typeof z!="object"?null:(z=x&&z[x]||z["@@iterator"],typeof z=="function"?z:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,R={};function k(z,q,C){this.props=z,this.context=q,this.refs=R,this.updater=C||T}k.prototype.isReactComponent={},k.prototype.setState=function(z,q){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,q,"setState")},k.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function P(){}P.prototype=k.prototype;function N(z,q,C){this.props=z,this.context=q,this.refs=R,this.updater=C||T}var F=N.prototype=new P;F.constructor=N,A(F,k.prototype),F.isPureReactComponent=!0;var W=Array.isArray;function U(){}var $={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function Z(z,q,C){var Y=C.ref;return{$$typeof:t,type:z,key:q,ref:Y!==void 0?Y:null,props:C}}function ae(z,q){return Z(z.type,q,z.props)}function ne(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function Q(z){var q={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(C){return q[C]})}var me=/\/+/g;function ce(z,q){return typeof z=="object"&&z!==null&&z.key!=null?Q(""+z.key):q.toString(36)}function ie(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(U,U):(z.status="pending",z.then(function(q){z.status==="pending"&&(z.status="fulfilled",z.value=q)},function(q){z.status==="pending"&&(z.status="rejected",z.reason=q)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function L(z,q,C,Y,de){var he=typeof z;(he==="undefined"||he==="boolean")&&(z=null);var we=!1;if(z===null)we=!0;else switch(he){case"bigint":case"string":case"number":we=!0;break;case"object":switch(z.$$typeof){case t:case e:we=!0;break;case y:return we=z._init,L(we(z._payload),q,C,Y,de)}}if(we)return de=de(z),we=Y===""?"."+ce(z,0):Y,W(de)?(C="",we!=null&&(C=we.replace(me,"$&/")+"/"),L(de,q,C,"",function($t){return $t})):de!=null&&(ne(de)&&(de=ae(de,C+(de.key==null||z&&z.key===de.key?"":(""+de.key).replace(me,"$&/")+"/")+we)),q.push(de)),1;we=0;var Ye=Y===""?".":Y+":";if(W(z))for(var Ae=0;Ae<z.length;Ae++)Y=z[Ae],he=Ye+ce(Y,Ae),we+=L(Y,q,C,he,de);else if(Ae=b(z),typeof Ae=="function")for(z=Ae.call(z),Ae=0;!(Y=z.next()).done;)Y=Y.value,he=Ye+ce(Y,Ae++),we+=L(Y,q,C,he,de);else if(he==="object"){if(typeof z.then=="function")return L(ie(z),q,C,Y,de);throw q=String(z),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return we}function ee(z,q,C){if(z==null)return z;var Y=[],de=0;return L(z,Y,"","",function(he){return q.call(C,he,de++)}),Y}function fe(z){if(z._status===-1){var q=z._result;q=q(),q.then(function(C){(z._status===0||z._status===-1)&&(z._status=1,z._result=C)},function(C){(z._status===0||z._status===-1)&&(z._status=2,z._result=C)}),z._status===-1&&(z._status=0,z._result=q)}if(z._status===1)return z._result.default;throw z._result}var Re=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},I={map:ee,forEach:function(z,q,C){ee(z,function(){q.apply(this,arguments)},C)},count:function(z){var q=0;return ee(z,function(){q++}),q},toArray:function(z){return ee(z,function(q){return q})||[]},only:function(z){if(!ne(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Ee.Activity=_,Ee.Children=I,Ee.Component=k,Ee.Fragment=n,Ee.Profiler=o,Ee.PureComponent=N,Ee.StrictMode=r,Ee.Suspense=p,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(z){return $.H.useMemoCache(z)}},Ee.cache=function(z){return function(){return z.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(z,q,C){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var Y=A({},z.props),de=z.key;if(q!=null)for(he in q.key!==void 0&&(de=""+q.key),q)!se.call(q,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&q.ref===void 0||(Y[he]=q[he]);var he=arguments.length-2;if(he===1)Y.children=C;else if(1<he){for(var we=Array(he),Ye=0;Ye<he;Ye++)we[Ye]=arguments[Ye+2];Y.children=we}return Z(z.type,de,Y)},Ee.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:a,_context:z},z},Ee.createElement=function(z,q,C){var Y,de={},he=null;if(q!=null)for(Y in q.key!==void 0&&(he=""+q.key),q)se.call(q,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(de[Y]=q[Y]);var we=arguments.length-2;if(we===1)de.children=C;else if(1<we){for(var Ye=Array(we),Ae=0;Ae<we;Ae++)Ye[Ae]=arguments[Ae+2];de.children=Ye}if(z&&z.defaultProps)for(Y in we=z.defaultProps,we)de[Y]===void 0&&(de[Y]=we[Y]);return Z(z,he,de)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(z){return{$$typeof:d,render:z}},Ee.isValidElement=ne,Ee.lazy=function(z){return{$$typeof:y,_payload:{_status:-1,_result:z},_init:fe}},Ee.memo=function(z,q){return{$$typeof:f,type:z,compare:q===void 0?null:q}},Ee.startTransition=function(z){var q=$.T,C={};$.T=C;try{var Y=z(),de=$.S;de!==null&&de(C,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(U,Re)}catch(he){Re(he)}finally{q!==null&&C.types!==null&&(q.types=C.types),$.T=q}},Ee.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Ee.use=function(z){return $.H.use(z)},Ee.useActionState=function(z,q,C){return $.H.useActionState(z,q,C)},Ee.useCallback=function(z,q){return $.H.useCallback(z,q)},Ee.useContext=function(z){return $.H.useContext(z)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(z,q){return $.H.useDeferredValue(z,q)},Ee.useEffect=function(z,q){return $.H.useEffect(z,q)},Ee.useEffectEvent=function(z){return $.H.useEffectEvent(z)},Ee.useId=function(){return $.H.useId()},Ee.useImperativeHandle=function(z,q,C){return $.H.useImperativeHandle(z,q,C)},Ee.useInsertionEffect=function(z,q){return $.H.useInsertionEffect(z,q)},Ee.useLayoutEffect=function(z,q){return $.H.useLayoutEffect(z,q)},Ee.useMemo=function(z,q){return $.H.useMemo(z,q)},Ee.useOptimistic=function(z,q){return $.H.useOptimistic(z,q)},Ee.useReducer=function(z,q,C){return $.H.useReducer(z,q,C)},Ee.useRef=function(z){return $.H.useRef(z)},Ee.useState=function(z){return $.H.useState(z)},Ee.useSyncExternalStore=function(z,q,C){return $.H.useSyncExternalStore(z,q,C)},Ee.useTransition=function(){return $.H.useTransition()},Ee.version="19.2.0",Ee}var ty;function xf(){return ty||(ty=1,pd.exports=Pw()),pd.exports}var Te=xf();const t_=Ho(Te);var md={exports:{}},So={},gd={exports:{}},yd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function Ow(){return ny||(ny=1,(function(t){function e(L,ee){var fe=L.length;L.push(ee);e:for(;0<fe;){var Re=fe-1>>>1,I=L[Re];if(0<o(I,ee))L[Re]=ee,L[fe]=I,fe=Re;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var ee=L[0],fe=L.pop();if(fe!==ee){L[0]=fe;e:for(var Re=0,I=L.length,z=I>>>1;Re<z;){var q=2*(Re+1)-1,C=L[q],Y=q+1,de=L[Y];if(0>o(C,fe))Y<I&&0>o(de,C)?(L[Re]=de,L[Y]=fe,Re=Y):(L[Re]=C,L[q]=fe,Re=q);else if(Y<I&&0>o(de,fe))L[Re]=de,L[Y]=fe,Re=Y;else break e}}return ee}function o(L,ee){var fe=L.sortIndex-ee.sortIndex;return fe!==0?fe:L.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var p=[],f=[],y=1,_=null,x=3,b=!1,T=!1,A=!1,R=!1,k=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function F(L){for(var ee=n(f);ee!==null;){if(ee.callback===null)r(f);else if(ee.startTime<=L)r(f),ee.sortIndex=ee.expirationTime,e(p,ee);else break;ee=n(f)}}function W(L){if(A=!1,F(L),!T)if(n(p)!==null)T=!0,U||(U=!0,Q());else{var ee=n(f);ee!==null&&ie(W,ee.startTime-L)}}var U=!1,$=-1,se=5,Z=-1;function ae(){return R?!0:!(t.unstable_now()-Z<se)}function ne(){if(R=!1,U){var L=t.unstable_now();Z=L;var ee=!0;try{e:{T=!1,A&&(A=!1,P($),$=-1),b=!0;var fe=x;try{t:{for(F(L),_=n(p);_!==null&&!(_.expirationTime>L&&ae());){var Re=_.callback;if(typeof Re=="function"){_.callback=null,x=_.priorityLevel;var I=Re(_.expirationTime<=L);if(L=t.unstable_now(),typeof I=="function"){_.callback=I,F(L),ee=!0;break t}_===n(p)&&r(p),F(L)}else r(p);_=n(p)}if(_!==null)ee=!0;else{var z=n(f);z!==null&&ie(W,z.startTime-L),ee=!1}}break e}finally{_=null,x=fe,b=!1}ee=void 0}}finally{ee?Q():U=!1}}}var Q;if(typeof N=="function")Q=function(){N(ne)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,ce=me.port2;me.port1.onmessage=ne,Q=function(){ce.postMessage(null)}}else Q=function(){k(ne,0)};function ie(L,ee){$=k(function(){L(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(L){switch(x){case 1:case 2:case 3:var ee=3;break;default:ee=x}var fe=x;x=ee;try{return L()}finally{x=fe}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(L,ee){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var fe=x;x=L;try{return ee()}finally{x=fe}},t.unstable_scheduleCallback=function(L,ee,fe){var Re=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Re+fe:Re):fe=Re,L){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=fe+I,L={id:y++,callback:ee,priorityLevel:L,startTime:fe,expirationTime:I,sortIndex:-1},fe>Re?(L.sortIndex=fe,e(f,L),n(p)===null&&L===n(f)&&(A?(P($),$=-1):A=!0,ie(W,fe-Re))):(L.sortIndex=I,e(p,L),T||b||(T=!0,U||(U=!0,Q()))),L},t.unstable_shouldYield=ae,t.unstable_wrapCallback=function(L){var ee=x;return function(){var fe=x;x=ee;try{return L.apply(this,arguments)}finally{x=fe}}}})(yd)),yd}var iy;function Lw(){return iy||(iy=1,gd.exports=Ow()),gd.exports}var vd={exports:{}},At={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function qw(){if(ry)return At;ry=1;var t=xf();function e(p){var f="https://react.dev/errors/"+p;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function a(p,f,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:p,containerInfo:f,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,f){if(p==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return At.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,At.createPortal=function(p,f){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(p,f,null,y)},At.flushSync=function(p){var f=u.T,y=r.p;try{if(u.T=null,r.p=2,p)return p()}finally{u.T=f,r.p=y,r.d.f()}},At.preconnect=function(p,f){typeof p=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(p,f))},At.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},At.preinit=function(p,f){if(typeof p=="string"&&f&&typeof f.as=="string"){var y=f.as,_=d(y,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;y==="style"?r.d.S(p,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:_,integrity:x,fetchPriority:b}):y==="script"&&r.d.X(p,{crossOrigin:_,integrity:x,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},At.preinitModule=function(p,f){if(typeof p=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var y=d(f.as,f.crossOrigin);r.d.M(p,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(p)},At.preload=function(p,f){if(typeof p=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var y=f.as,_=d(y,f.crossOrigin);r.d.L(p,y,{crossOrigin:_,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},At.preloadModule=function(p,f){if(typeof p=="string")if(f){var y=d(f.as,f.crossOrigin);r.d.m(p,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(p)},At.requestFormReset=function(p){r.d.r(p)},At.unstable_batchedUpdates=function(p,f){return p(f)},At.useFormState=function(p,f,y){return u.H.useFormState(p,f,y)},At.useFormStatus=function(){return u.H.useHostTransitionStatus()},At.version="19.2.0",At}var sy;function n_(){if(sy)return vd.exports;sy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vd.exports=qw(),vd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function Bw(){if(oy)return So;oy=1;var t=Lw(),e=xf(),n=n_();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function p(i){if(a(i)!==i)throw Error(r(188))}function f(i){var s=i.alternate;if(!s){if(s=a(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,c=s;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(c=g.return,c!==null){l=c;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return p(g),i;if(v===c)return p(g),s;v=v.sibling}throw Error(r(188))}if(l.return!==c.return)l=g,c=v;else{for(var w=!1,E=g.child;E;){if(E===l){w=!0,l=g,c=v;break}if(E===c){w=!0,c=g,l=v;break}E=E.sibling}if(!w){for(E=v.child;E;){if(E===l){w=!0,l=v,c=g;break}if(E===c){w=!0,c=v,l=g;break}E=E.sibling}if(!w)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function y(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=y(i),s!==null)return s;i=i.sibling}return null}var _=Object.assign,x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),N=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function Q(i){return i===null||typeof i!="object"?null:(i=ne&&i[ne]||i["@@iterator"],typeof i=="function"?i:null)}var me=Symbol.for("react.client.reference");function ce(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===me?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case A:return"Fragment";case k:return"Profiler";case R:return"StrictMode";case W:return"Suspense";case U:return"SuspenseList";case Z:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case T:return"Portal";case N:return i.displayName||"Context";case P:return(i._context.displayName||"Context")+".Consumer";case F:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case $:return s=i.displayName||null,s!==null?s:ce(i.type)||"Memo";case se:s=i._payload,i=i._init;try{return ce(i(s))}catch{}}return null}var ie=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Re=[],I=-1;function z(i){return{current:i}}function q(i){0>I||(i.current=Re[I],Re[I]=null,I--)}function C(i,s){I++,Re[I]=i.current,i.current=s}var Y=z(null),de=z(null),he=z(null),we=z(null);function Ye(i,s){switch(C(he,s),C(de,i),C(Y,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?bg(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=bg(s),i=Sg(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}q(Y),C(Y,i)}function Ae(){q(Y),q(de),q(he)}function $t(i){i.memoizedState!==null&&C(we,i);var s=Y.current,l=Sg(s,i.type);s!==l&&(C(de,i),C(Y,l))}function jt(i){de.current===i&&(q(Y),q(de)),we.current===i&&(q(we),yo._currentValue=fe)}var Dn,fr;function Un(i){if(Dn===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Dn=s&&s[1]||"",fr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dn+i+fr}var hr=!1;function pr(i,s){if(!i||hr)return"";hr=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(G){var V=G}Reflect.construct(i,[],X)}else{try{X.call()}catch(G){V=G}i.call(X.prototype)}}else{try{throw Error()}catch(G){V=G}(X=i())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(G){if(G&&V&&typeof G.stack=="string")return[G.stack,V.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),w=v[0],E=v[1];if(w&&E){var M=w.split(`
`),H=E.split(`
`);for(g=c=0;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;for(;g<H.length&&!H[g].includes("DetermineComponentFrameRoot");)g++;if(c===M.length||g===H.length)for(c=M.length-1,g=H.length-1;1<=c&&0<=g&&M[c]!==H[g];)g--;for(;1<=c&&0<=g;c--,g--)if(M[c]!==H[g]){if(c!==1||g!==1)do if(c--,g--,0>g||M[c]!==H[g]){var j=`
`+M[c].replace(" at new "," at ");return i.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",i.displayName)),j}while(1<=c&&0<=g);break}}}finally{hr=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Un(l):""}function $o(i,s){switch(i.tag){case 26:case 27:case 5:return Un(i.type);case 16:return Un("Lazy");case 13:return i.child!==s&&s!==null?Un("Suspense Fallback"):Un("Suspense");case 19:return Un("SuspenseList");case 0:case 15:return pr(i.type,!1);case 11:return pr(i.type.render,!1);case 1:return pr(i.type,!0);case 31:return Un("Activity");default:return""}}function jo(i){try{var s="",l=null;do s+=$o(i,l),l=i,i=i.return;while(i);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var mr=Object.prototype.hasOwnProperty,gr=t.unstable_scheduleCallback,ks=t.unstable_cancelCallback,Wl=t.unstable_shouldYield,Zl=t.unstable_requestPaint,It=t.unstable_now,eu=t.unstable_getCurrentPriorityLevel,J=t.unstable_ImmediatePriority,re=t.unstable_UserBlockingPriority,be=t.unstable_NormalPriority,Ie=t.unstable_LowPriority,Ve=t.unstable_IdlePriority,Jt=t.log,Pn=t.unstable_setDisableYieldValue,Mt=null,mt=null;function Dt(i){if(typeof Jt=="function"&&Pn(i),mt&&typeof mt.setStrictMode=="function")try{mt.setStrictMode(Mt,i)}catch{}}var Ke=Math.clz32?Math.clz32:vb,si=Math.log,_n=Math.LN2;function vb(i){return i>>>=0,i===0?32:31-(si(i)/_n|0)|0}var Jo=256,Yo=262144,Ko=4194304;function qi(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Xo(i,s,l){var c=i.pendingLanes;if(c===0)return 0;var g=0,v=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var E=c&134217727;return E!==0?(c=E&~v,c!==0?g=qi(c):(w&=E,w!==0?g=qi(w):l||(l=E&~i,l!==0&&(g=qi(l))))):(E=c&~v,E!==0?g=qi(E):w!==0?g=qi(w):l||(l=c&~i,l!==0&&(g=qi(l)))),g===0?0:s!==0&&s!==g&&(s&v)===0&&(v=g&-g,l=s&-s,v>=l||v===32&&(l&4194048)!==0)?s:g}function Ns(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function _b(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nh(){var i=Ko;return Ko<<=1,(Ko&62914560)===0&&(Ko=4194304),i}function tu(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Rs(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function xb(i,s,l,c,g,v){var w=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var E=i.entanglements,M=i.expirationTimes,H=i.hiddenUpdates;for(l=w&~l;0<l;){var j=31-Ke(l),X=1<<j;E[j]=0,M[j]=-1;var V=H[j];if(V!==null)for(H[j]=null,j=0;j<V.length;j++){var G=V[j];G!==null&&(G.lane&=-536870913)}l&=~X}c!==0&&ih(i,c,0),v!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=v&~(w&~s))}function ih(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-Ke(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|l&261930}function rh(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var c=31-Ke(l),g=1<<c;g&s|i[c]&s&&(i[c]|=s),l&=~g}}function sh(i,s){var l=s&-s;return l=(l&42)!==0?1:nu(l),(l&(i.suspendedLanes|s))!==0?0:l}function nu(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function iu(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function oh(){var i=ee.p;return i!==0?i:(i=window.event,i===void 0?32:$g(i.type))}function ah(i,s){var l=ee.p;try{return ee.p=i,s()}finally{ee.p=l}}var oi=Math.random().toString(36).slice(2),bt="__reactFiber$"+oi,Ut="__reactProps$"+oi,yr="__reactContainer$"+oi,ru="__reactEvents$"+oi,bb="__reactListeners$"+oi,Sb="__reactHandles$"+oi,lh="__reactResources$"+oi,Is="__reactMarker$"+oi;function su(i){delete i[bt],delete i[Ut],delete i[ru],delete i[bb],delete i[Sb]}function vr(i){var s=i[bt];if(s)return s;for(var l=i.parentNode;l;){if(s=l[yr]||l[bt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=Ng(i);i!==null;){if(l=i[bt])return l;i=Ng(i)}return s}i=l,l=i.parentNode}return null}function _r(i){if(i=i[bt]||i[yr]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Ms(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function xr(i){var s=i[lh];return s||(s=i[lh]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function _t(i){i[Is]=!0}var uh=new Set,ch={};function Bi(i,s){br(i,s),br(i+"Capture",s)}function br(i,s){for(ch[i]=s,i=0;i<s.length;i++)uh.add(s[i])}var wb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dh={},fh={};function Eb(i){return mr.call(fh,i)?!0:mr.call(dh,i)?!1:wb.test(i)?fh[i]=!0:(dh[i]=!0,!1)}function Qo(i,s,l){if(Eb(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function Wo(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function On(i,s,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+c)}}function an(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function hh(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Tb(i,s,l){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,v=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(w){l=""+w,v.call(this,w)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function ou(i){if(!i._valueTracker){var s=hh(i)?"checked":"value";i._valueTracker=Tb(i,s,""+i[s])}}function ph(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return i&&(c=hh(i)?i.checked?"true":"false":i.value),i=c,i!==l?(s.setValue(i),!0):!1}function Zo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Cb=/[\n"\\]/g;function ln(i){return i.replace(Cb,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function au(i,s,l,c,g,v,w,E){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),s!=null?w==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+an(s)):i.value!==""+an(s)&&(i.value=""+an(s)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),s!=null?lu(i,w,an(s)):l!=null?lu(i,w,an(l)):c!=null&&i.removeAttribute("value"),g==null&&v!=null&&(i.defaultChecked=!!v),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.name=""+an(E):i.removeAttribute("name")}function mh(i,s,l,c,g,v,w,E){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),s!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||s!=null)){ou(i);return}l=l!=null?""+an(l):"",s=s!=null?""+an(s):l,E||s===i.value||(i.value=s),i.defaultValue=s}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=E?i.checked:!!c,i.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w),ou(i)}function lu(i,s,l){s==="number"&&Zo(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Sr(i,s,l,c){if(i=i.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=s.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&c&&(i[l].defaultSelected=!0)}else{for(l=""+an(l),s=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,c&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function gh(i,s,l){if(s!=null&&(s=""+an(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+an(l):""}function yh(i,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(r(92));if(ie(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=an(s),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c),ou(i)}function wr(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var Ab=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vh(i,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,l):typeof l!="number"||l===0||Ab.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function _h(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var g in s)c=s[g],s.hasOwnProperty(g)&&l[g]!==c&&vh(i,g,c)}else for(var v in s)s.hasOwnProperty(v)&&vh(i,v,s[v])}function uu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ea(i){return Nb.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ln(){}var cu=null;function du(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Er=null,Tr=null;function xh(i){var s=_r(i);if(s&&(i=s.stateNode)){var l=i[Ut]||null;e:switch(i=s.stateNode,s.type){case"input":if(au(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+ln(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==i&&c.form===i.form){var g=c[Ut]||null;if(!g)throw Error(r(90));au(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===i.form&&ph(c)}break e;case"textarea":gh(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Sr(i,!!l.multiple,s,!1)}}}var fu=!1;function bh(i,s,l){if(fu)return i(s,l);fu=!0;try{var c=i(s);return c}finally{if(fu=!1,(Er!==null||Tr!==null)&&(Ha(),Er&&(s=Er,i=Tr,Tr=Er=null,xh(s),i)))for(s=0;s<i.length;s++)xh(i[s])}}function zs(i,s){var l=i.stateNode;if(l===null)return null;var c=l[Ut]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hu=!1;if(qn)try{var Ds={};Object.defineProperty(Ds,"passive",{get:function(){hu=!0}}),window.addEventListener("test",Ds,Ds),window.removeEventListener("test",Ds,Ds)}catch{hu=!1}var ai=null,pu=null,ta=null;function Sh(){if(ta)return ta;var i,s=pu,l=s.length,c,g="value"in ai?ai.value:ai.textContent,v=g.length;for(i=0;i<l&&s[i]===g[i];i++);var w=l-i;for(c=1;c<=w&&s[l-c]===g[v-c];c++);return ta=g.slice(i,1<c?1-c:void 0)}function na(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function ia(){return!0}function wh(){return!1}function Pt(i){function s(l,c,g,v,w){this._reactName=l,this._targetInst=g,this.type=c,this.nativeEvent=v,this.target=w,this.currentTarget=null;for(var E in i)i.hasOwnProperty(E)&&(l=i[E],this[E]=l?l(v):v[E]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ia:wh,this.isPropagationStopped=wh,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ia)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ia)},persist:function(){},isPersistent:ia}),s}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ra=Pt(Hi),Us=_({},Hi,{view:0,detail:0}),Rb=Pt(Us),mu,gu,Ps,sa=_({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vu,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ps&&(Ps&&i.type==="mousemove"?(mu=i.screenX-Ps.screenX,gu=i.screenY-Ps.screenY):gu=mu=0,Ps=i),mu)},movementY:function(i){return"movementY"in i?i.movementY:gu}}),Eh=Pt(sa),Ib=_({},sa,{dataTransfer:0}),Mb=Pt(Ib),zb=_({},Us,{relatedTarget:0}),yu=Pt(zb),Db=_({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ub=Pt(Db),Pb=_({},Hi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ob=Pt(Pb),Lb=_({},Hi,{data:0}),Th=Pt(Lb),qb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vb(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Hb[i])?!!s[i]:!1}function vu(){return Vb}var Gb=_({},Us,{key:function(i){if(i.key){var s=qb[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=na(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Bb[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vu,charCode:function(i){return i.type==="keypress"?na(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?na(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Fb=Pt(Gb),$b=_({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ch=Pt($b),jb=_({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vu}),Jb=Pt(jb),Yb=_({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kb=Pt(Yb),Xb=_({},sa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Qb=Pt(Xb),Wb=_({},Hi,{newState:0,oldState:0}),Zb=Pt(Wb),eS=[9,13,27,32],_u=qn&&"CompositionEvent"in window,Os=null;qn&&"documentMode"in document&&(Os=document.documentMode);var tS=qn&&"TextEvent"in window&&!Os,Ah=qn&&(!_u||Os&&8<Os&&11>=Os),kh=" ",Nh=!1;function Rh(i,s){switch(i){case"keyup":return eS.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ih(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Cr=!1;function nS(i,s){switch(i){case"compositionend":return Ih(s);case"keypress":return s.which!==32?null:(Nh=!0,kh);case"textInput":return i=s.data,i===kh&&Nh?null:i;default:return null}}function iS(i,s){if(Cr)return i==="compositionend"||!_u&&Rh(i,s)?(i=Sh(),ta=pu=ai=null,Cr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ah&&s.locale!=="ko"?null:s.data;default:return null}}var rS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!rS[i.type]:s==="textarea"}function zh(i,s,l,c){Er?Tr?Tr.push(c):Tr=[c]:Er=c,s=Ya(s,"onChange"),0<s.length&&(l=new ra("onChange","change",null,l,c),i.push({event:l,listeners:s}))}var Ls=null,qs=null;function sS(i){mg(i,0)}function oa(i){var s=Ms(i);if(ph(s))return i}function Dh(i,s){if(i==="change")return s}var Uh=!1;if(qn){var xu;if(qn){var bu="oninput"in document;if(!bu){var Ph=document.createElement("div");Ph.setAttribute("oninput","return;"),bu=typeof Ph.oninput=="function"}xu=bu}else xu=!1;Uh=xu&&(!document.documentMode||9<document.documentMode)}function Oh(){Ls&&(Ls.detachEvent("onpropertychange",Lh),qs=Ls=null)}function Lh(i){if(i.propertyName==="value"&&oa(qs)){var s=[];zh(s,qs,i,du(i)),bh(sS,s)}}function oS(i,s,l){i==="focusin"?(Oh(),Ls=s,qs=l,Ls.attachEvent("onpropertychange",Lh)):i==="focusout"&&Oh()}function aS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return oa(qs)}function lS(i,s){if(i==="click")return oa(s)}function uS(i,s){if(i==="input"||i==="change")return oa(s)}function cS(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Yt=typeof Object.is=="function"?Object.is:cS;function Bs(i,s){if(Yt(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var g=l[c];if(!mr.call(s,g)||!Yt(i[g],s[g]))return!1}return!0}function qh(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Bh(i,s){var l=qh(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=s&&c>=s)return{node:l,offset:s-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=qh(l)}}function Hh(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Hh(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Vh(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Zo(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Zo(i.document)}return s}function Su(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var dS=qn&&"documentMode"in document&&11>=document.documentMode,Ar=null,wu=null,Hs=null,Eu=!1;function Gh(i,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Eu||Ar==null||Ar!==Zo(c)||(c=Ar,"selectionStart"in c&&Su(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Hs&&Bs(Hs,c)||(Hs=c,c=Ya(wu,"onSelect"),0<c.length&&(s=new ra("onSelect","select",null,s,l),i.push({event:s,listeners:c}),s.target=Ar)))}function Vi(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var kr={animationend:Vi("Animation","AnimationEnd"),animationiteration:Vi("Animation","AnimationIteration"),animationstart:Vi("Animation","AnimationStart"),transitionrun:Vi("Transition","TransitionRun"),transitionstart:Vi("Transition","TransitionStart"),transitioncancel:Vi("Transition","TransitionCancel"),transitionend:Vi("Transition","TransitionEnd")},Tu={},Fh={};qn&&(Fh=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);function Gi(i){if(Tu[i])return Tu[i];if(!kr[i])return i;var s=kr[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Fh)return Tu[i]=s[l];return i}var $h=Gi("animationend"),jh=Gi("animationiteration"),Jh=Gi("animationstart"),fS=Gi("transitionrun"),hS=Gi("transitionstart"),pS=Gi("transitioncancel"),Yh=Gi("transitionend"),Kh=new Map,Cu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cu.push("scrollEnd");function xn(i,s){Kh.set(i,s),Bi(s,[i])}var aa=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},un=[],Nr=0,Au=0;function la(){for(var i=Nr,s=Au=Nr=0;s<i;){var l=un[s];un[s++]=null;var c=un[s];un[s++]=null;var g=un[s];un[s++]=null;var v=un[s];if(un[s++]=null,c!==null&&g!==null){var w=c.pending;w===null?g.next=g:(g.next=w.next,w.next=g),c.pending=g}v!==0&&Xh(l,g,v)}}function ua(i,s,l,c){un[Nr++]=i,un[Nr++]=s,un[Nr++]=l,un[Nr++]=c,Au|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function ku(i,s,l,c){return ua(i,s,l,c),ca(i)}function Fi(i,s){return ua(i,null,null,s),ca(i)}function Xh(i,s,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var g=!1,v=i.return;v!==null;)v.childLanes|=l,c=v.alternate,c!==null&&(c.childLanes|=l),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(g=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,g&&s!==null&&(g=31-Ke(l),i=v.hiddenUpdates,c=i[g],c===null?i[g]=[s]:c.push(s),s.lane=l|536870912),v):null}function ca(i){if(50<uo)throw uo=0,Oc=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Rr={};function mS(i,s,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(i,s,l,c){return new mS(i,s,l,c)}function Nu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Bn(i,s){var l=i.alternate;return l===null?(l=Kt(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Qh(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function da(i,s,l,c,g,v){var w=0;if(c=i,typeof i=="function")Nu(i)&&(w=1);else if(typeof i=="string")w=xw(i,l,Y.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case Z:return i=Kt(31,l,s,g),i.elementType=Z,i.lanes=v,i;case A:return $i(l.children,g,v,s);case R:w=8,g|=24;break;case k:return i=Kt(12,l,s,g|2),i.elementType=k,i.lanes=v,i;case W:return i=Kt(13,l,s,g),i.elementType=W,i.lanes=v,i;case U:return i=Kt(19,l,s,g),i.elementType=U,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:w=10;break e;case P:w=9;break e;case F:w=11;break e;case $:w=14;break e;case se:w=16,c=null;break e}w=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=Kt(w,l,s,g),s.elementType=i,s.type=c,s.lanes=v,s}function $i(i,s,l,c){return i=Kt(7,i,c,s),i.lanes=l,i}function Ru(i,s,l){return i=Kt(6,i,null,s),i.lanes=l,i}function Wh(i){var s=Kt(18,null,null,0);return s.stateNode=i,s}function Iu(i,s,l){return s=Kt(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Zh=new WeakMap;function cn(i,s){if(typeof i=="object"&&i!==null){var l=Zh.get(i);return l!==void 0?l:(s={value:i,source:s,stack:jo(s)},Zh.set(i,s),s)}return{value:i,source:s,stack:jo(s)}}var Ir=[],Mr=0,fa=null,Vs=0,dn=[],fn=0,li=null,An=1,kn="";function Hn(i,s){Ir[Mr++]=Vs,Ir[Mr++]=fa,fa=i,Vs=s}function ep(i,s,l){dn[fn++]=An,dn[fn++]=kn,dn[fn++]=li,li=i;var c=An;i=kn;var g=32-Ke(c)-1;c&=~(1<<g),l+=1;var v=32-Ke(s)+g;if(30<v){var w=g-g%5;v=(c&(1<<w)-1).toString(32),c>>=w,g-=w,An=1<<32-Ke(s)+g|l<<g|c,kn=v+i}else An=1<<v|l<<g|c,kn=i}function Mu(i){i.return!==null&&(Hn(i,1),ep(i,1,0))}function zu(i){for(;i===fa;)fa=Ir[--Mr],Ir[Mr]=null,Vs=Ir[--Mr],Ir[Mr]=null;for(;i===li;)li=dn[--fn],dn[fn]=null,kn=dn[--fn],dn[fn]=null,An=dn[--fn],dn[fn]=null}function tp(i,s){dn[fn++]=An,dn[fn++]=kn,dn[fn++]=li,An=s.id,kn=s.overflow,li=i}var St=null,et=null,Pe=!1,ui=null,hn=!1,Du=Error(r(519));function ci(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gs(cn(s,i)),Du}function np(i){var s=i.stateNode,l=i.type,c=i.memoizedProps;switch(s[bt]=i,s[Ut]=c,l){case"dialog":ze("cancel",s),ze("close",s);break;case"iframe":case"object":case"embed":ze("load",s);break;case"video":case"audio":for(l=0;l<fo.length;l++)ze(fo[l],s);break;case"source":ze("error",s);break;case"img":case"image":case"link":ze("error",s),ze("load",s);break;case"details":ze("toggle",s);break;case"input":ze("invalid",s),mh(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ze("invalid",s);break;case"textarea":ze("invalid",s),yh(s,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||_g(s.textContent,l)?(c.popover!=null&&(ze("beforetoggle",s),ze("toggle",s)),c.onScroll!=null&&ze("scroll",s),c.onScrollEnd!=null&&ze("scrollend",s),c.onClick!=null&&(s.onclick=Ln),s=!0):s=!1,s||ci(i,!0)}function ip(i){for(St=i.return;St;)switch(St.tag){case 5:case 31:case 13:hn=!1;return;case 27:case 3:hn=!0;return;default:St=St.return}}function zr(i){if(i!==St)return!1;if(!Pe)return ip(i),Pe=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Wc(i.type,i.memoizedProps)),l=!l),l&&et&&ci(i),ip(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));et=kg(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));et=kg(i)}else s===27?(s=et,Ei(i.type)?(i=id,id=null,et=i):et=s):et=St?mn(i.stateNode.nextSibling):null;return!0}function ji(){et=St=null,Pe=!1}function Uu(){var i=ui;return i!==null&&(Bt===null?Bt=i:Bt.push.apply(Bt,i),ui=null),i}function Gs(i){ui===null?ui=[i]:ui.push(i)}var Pu=z(null),Ji=null,Vn=null;function di(i,s,l){C(Pu,s._currentValue),s._currentValue=l}function Gn(i){i._currentValue=Pu.current,q(Pu)}function Ou(i,s,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===l)break;i=i.return}}function Lu(i,s,l,c){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var v=g.dependencies;if(v!==null){var w=g.child;v=v.firstContext;e:for(;v!==null;){var E=v;v=g;for(var M=0;M<s.length;M++)if(E.context===s[M]){v.lanes|=l,E=v.alternate,E!==null&&(E.lanes|=l),Ou(v.return,l,i),c||(w=null);break e}v=E.next}}else if(g.tag===18){if(w=g.return,w===null)throw Error(r(341));w.lanes|=l,v=w.alternate,v!==null&&(v.lanes|=l),Ou(w,l,i),w=null}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===i){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}}function Dr(i,s,l,c){i=null;for(var g=s,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var w=g.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var E=g.type;Yt(g.pendingProps.value,w.value)||(i!==null?i.push(E):i=[E])}}else if(g===we.current){if(w=g.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(yo):i=[yo])}g=g.return}i!==null&&Lu(s,i,l,c),s.flags|=262144}function ha(i){for(i=i.firstContext;i!==null;){if(!Yt(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Yi(i){Ji=i,Vn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function wt(i){return rp(Ji,i)}function pa(i,s){return Ji===null&&Yi(i),rp(i,s)}function rp(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Vn===null){if(i===null)throw Error(r(308));Vn=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Vn=Vn.next=s;return l}var gS=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},yS=t.unstable_scheduleCallback,vS=t.unstable_NormalPriority,ut={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qu(){return{controller:new gS,data:new Map,refCount:0}}function Fs(i){i.refCount--,i.refCount===0&&yS(vS,function(){i.controller.abort()})}var $s=null,Bu=0,Ur=0,Pr=null;function _S(i,s){if($s===null){var l=$s=[];Bu=0,Ur=Gc(),Pr={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Bu++,s.then(sp,sp),s}function sp(){if(--Bu===0&&$s!==null){Pr!==null&&(Pr.status="fulfilled");var i=$s;$s=null,Ur=0,Pr=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function xS(i,s){var l=[],c={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(c.status="rejected",c.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),c}var op=L.S;L.S=function(i,s){Gm=It(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&_S(i,s),op!==null&&op(i,s)};var Ki=z(null);function Hu(){var i=Ki.current;return i!==null?i:Xe.pooledCache}function ma(i,s){s===null?C(Ki,Ki.current):C(Ki,s.pool)}function ap(){var i=Hu();return i===null?null:{parent:ut._currentValue,pool:i}}var Or=Error(r(460)),Vu=Error(r(474)),ga=Error(r(542)),ya={then:function(){}};function lp(i){return i=i.status,i==="fulfilled"||i==="rejected"}function up(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(Ln,Ln),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,dp(i),i;default:if(typeof s.status=="string")s.then(Ln,Ln);else{if(i=Xe,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=c}},function(c){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,dp(i),i}throw Qi=s,Or}}function Xi(i){try{var s=i._init;return s(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Qi=l,Or):l}}var Qi=null;function cp(){if(Qi===null)throw Error(r(459));var i=Qi;return Qi=null,i}function dp(i){if(i===Or||i===ga)throw Error(r(483))}var Lr=null,js=0;function va(i){var s=js;return js+=1,Lr===null&&(Lr=[]),up(Lr,i,s)}function Js(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function _a(i,s){throw s.$$typeof===x?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function fp(i){function s(O,D){if(i){var B=O.deletions;B===null?(O.deletions=[D],O.flags|=16):B.push(D)}}function l(O,D){if(!i)return null;for(;D!==null;)s(O,D),D=D.sibling;return null}function c(O){for(var D=new Map;O!==null;)O.key!==null?D.set(O.key,O):D.set(O.index,O),O=O.sibling;return D}function g(O,D){return O=Bn(O,D),O.index=0,O.sibling=null,O}function v(O,D,B){return O.index=B,i?(B=O.alternate,B!==null?(B=B.index,B<D?(O.flags|=67108866,D):B):(O.flags|=67108866,D)):(O.flags|=1048576,D)}function w(O){return i&&O.alternate===null&&(O.flags|=67108866),O}function E(O,D,B,K){return D===null||D.tag!==6?(D=Ru(B,O.mode,K),D.return=O,D):(D=g(D,B),D.return=O,D)}function M(O,D,B,K){var ye=B.type;return ye===A?j(O,D,B.props.children,K,B.key):D!==null&&(D.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===se&&Xi(ye)===D.type)?(D=g(D,B.props),Js(D,B),D.return=O,D):(D=da(B.type,B.key,B.props,null,O.mode,K),Js(D,B),D.return=O,D)}function H(O,D,B,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==B.containerInfo||D.stateNode.implementation!==B.implementation?(D=Iu(B,O.mode,K),D.return=O,D):(D=g(D,B.children||[]),D.return=O,D)}function j(O,D,B,K,ye){return D===null||D.tag!==7?(D=$i(B,O.mode,K,ye),D.return=O,D):(D=g(D,B),D.return=O,D)}function X(O,D,B){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Ru(""+D,O.mode,B),D.return=O,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case b:return B=da(D.type,D.key,D.props,null,O.mode,B),Js(B,D),B.return=O,B;case T:return D=Iu(D,O.mode,B),D.return=O,D;case se:return D=Xi(D),X(O,D,B)}if(ie(D)||Q(D))return D=$i(D,O.mode,B,null),D.return=O,D;if(typeof D.then=="function")return X(O,va(D),B);if(D.$$typeof===N)return X(O,pa(O,D),B);_a(O,D)}return null}function V(O,D,B,K){var ye=D!==null?D.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ye!==null?null:E(O,D,""+B,K);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return B.key===ye?M(O,D,B,K):null;case T:return B.key===ye?H(O,D,B,K):null;case se:return B=Xi(B),V(O,D,B,K)}if(ie(B)||Q(B))return ye!==null?null:j(O,D,B,K,null);if(typeof B.then=="function")return V(O,D,va(B),K);if(B.$$typeof===N)return V(O,D,pa(O,B),K);_a(O,B)}return null}function G(O,D,B,K,ye){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return O=O.get(B)||null,E(D,O,""+K,ye);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return O=O.get(K.key===null?B:K.key)||null,M(D,O,K,ye);case T:return O=O.get(K.key===null?B:K.key)||null,H(D,O,K,ye);case se:return K=Xi(K),G(O,D,B,K,ye)}if(ie(K)||Q(K))return O=O.get(B)||null,j(D,O,K,ye,null);if(typeof K.then=="function")return G(O,D,B,va(K),ye);if(K.$$typeof===N)return G(O,D,B,pa(D,K),ye);_a(D,K)}return null}function le(O,D,B,K){for(var ye=null,Oe=null,pe=D,ke=D=0,Ue=null;pe!==null&&ke<B.length;ke++){pe.index>ke?(Ue=pe,pe=null):Ue=pe.sibling;var Le=V(O,pe,B[ke],K);if(Le===null){pe===null&&(pe=Ue);break}i&&pe&&Le.alternate===null&&s(O,pe),D=v(Le,D,ke),Oe===null?ye=Le:Oe.sibling=Le,Oe=Le,pe=Ue}if(ke===B.length)return l(O,pe),Pe&&Hn(O,ke),ye;if(pe===null){for(;ke<B.length;ke++)pe=X(O,B[ke],K),pe!==null&&(D=v(pe,D,ke),Oe===null?ye=pe:Oe.sibling=pe,Oe=pe);return Pe&&Hn(O,ke),ye}for(pe=c(pe);ke<B.length;ke++)Ue=G(pe,O,ke,B[ke],K),Ue!==null&&(i&&Ue.alternate!==null&&pe.delete(Ue.key===null?ke:Ue.key),D=v(Ue,D,ke),Oe===null?ye=Ue:Oe.sibling=Ue,Oe=Ue);return i&&pe.forEach(function(Ni){return s(O,Ni)}),Pe&&Hn(O,ke),ye}function _e(O,D,B,K){if(B==null)throw Error(r(151));for(var ye=null,Oe=null,pe=D,ke=D=0,Ue=null,Le=B.next();pe!==null&&!Le.done;ke++,Le=B.next()){pe.index>ke?(Ue=pe,pe=null):Ue=pe.sibling;var Ni=V(O,pe,Le.value,K);if(Ni===null){pe===null&&(pe=Ue);break}i&&pe&&Ni.alternate===null&&s(O,pe),D=v(Ni,D,ke),Oe===null?ye=Ni:Oe.sibling=Ni,Oe=Ni,pe=Ue}if(Le.done)return l(O,pe),Pe&&Hn(O,ke),ye;if(pe===null){for(;!Le.done;ke++,Le=B.next())Le=X(O,Le.value,K),Le!==null&&(D=v(Le,D,ke),Oe===null?ye=Le:Oe.sibling=Le,Oe=Le);return Pe&&Hn(O,ke),ye}for(pe=c(pe);!Le.done;ke++,Le=B.next())Le=G(pe,O,ke,Le.value,K),Le!==null&&(i&&Le.alternate!==null&&pe.delete(Le.key===null?ke:Le.key),D=v(Le,D,ke),Oe===null?ye=Le:Oe.sibling=Le,Oe=Le);return i&&pe.forEach(function(Iw){return s(O,Iw)}),Pe&&Hn(O,ke),ye}function Je(O,D,B,K){if(typeof B=="object"&&B!==null&&B.type===A&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case b:e:{for(var ye=B.key;D!==null;){if(D.key===ye){if(ye=B.type,ye===A){if(D.tag===7){l(O,D.sibling),K=g(D,B.props.children),K.return=O,O=K;break e}}else if(D.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===se&&Xi(ye)===D.type){l(O,D.sibling),K=g(D,B.props),Js(K,B),K.return=O,O=K;break e}l(O,D);break}else s(O,D);D=D.sibling}B.type===A?(K=$i(B.props.children,O.mode,K,B.key),K.return=O,O=K):(K=da(B.type,B.key,B.props,null,O.mode,K),Js(K,B),K.return=O,O=K)}return w(O);case T:e:{for(ye=B.key;D!==null;){if(D.key===ye)if(D.tag===4&&D.stateNode.containerInfo===B.containerInfo&&D.stateNode.implementation===B.implementation){l(O,D.sibling),K=g(D,B.children||[]),K.return=O,O=K;break e}else{l(O,D);break}else s(O,D);D=D.sibling}K=Iu(B,O.mode,K),K.return=O,O=K}return w(O);case se:return B=Xi(B),Je(O,D,B,K)}if(ie(B))return le(O,D,B,K);if(Q(B)){if(ye=Q(B),typeof ye!="function")throw Error(r(150));return B=ye.call(B),_e(O,D,B,K)}if(typeof B.then=="function")return Je(O,D,va(B),K);if(B.$$typeof===N)return Je(O,D,pa(O,B),K);_a(O,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,D!==null&&D.tag===6?(l(O,D.sibling),K=g(D,B),K.return=O,O=K):(l(O,D),K=Ru(B,O.mode,K),K.return=O,O=K),w(O)):l(O,D)}return function(O,D,B,K){try{js=0;var ye=Je(O,D,B,K);return Lr=null,ye}catch(pe){if(pe===Or||pe===ga)throw pe;var Oe=Kt(29,pe,null,O.mode);return Oe.lanes=K,Oe.return=O,Oe}finally{}}}var Wi=fp(!0),hp=fp(!1),fi=!1;function Gu(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fu(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function hi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function pi(i,s,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Be&2)!==0){var g=c.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),c.pending=s,s=ca(i),Xh(i,null,l),s}return ua(i,c,s,l),ca(i)}function Ys(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,rh(i,l)}}function $u(i,s){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var w={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?g=v=w:v=v.next=w,l=l.next}while(l!==null);v===null?g=v=s:v=v.next=s}else g=v=s;l={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var ju=!1;function Ks(){if(ju){var i=Pr;if(i!==null)throw i}}function Xs(i,s,l,c){ju=!1;var g=i.updateQueue;fi=!1;var v=g.firstBaseUpdate,w=g.lastBaseUpdate,E=g.shared.pending;if(E!==null){g.shared.pending=null;var M=E,H=M.next;M.next=null,w===null?v=H:w.next=H,w=M;var j=i.alternate;j!==null&&(j=j.updateQueue,E=j.lastBaseUpdate,E!==w&&(E===null?j.firstBaseUpdate=H:E.next=H,j.lastBaseUpdate=M))}if(v!==null){var X=g.baseState;w=0,j=H=M=null,E=v;do{var V=E.lane&-536870913,G=V!==E.lane;if(G?(De&V)===V:(c&V)===V){V!==0&&V===Ur&&(ju=!0),j!==null&&(j=j.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var le=i,_e=E;V=s;var Je=l;switch(_e.tag){case 1:if(le=_e.payload,typeof le=="function"){X=le.call(Je,X,V);break e}X=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=_e.payload,V=typeof le=="function"?le.call(Je,X,V):le,V==null)break e;X=_({},X,V);break e;case 2:fi=!0}}V=E.callback,V!==null&&(i.flags|=64,G&&(i.flags|=8192),G=g.callbacks,G===null?g.callbacks=[V]:G.push(V))}else G={lane:V,tag:E.tag,payload:E.payload,callback:E.callback,next:null},j===null?(H=j=G,M=X):j=j.next=G,w|=V;if(E=E.next,E===null){if(E=g.shared.pending,E===null)break;G=E,E=G.next,G.next=null,g.lastBaseUpdate=G,g.shared.pending=null}}while(!0);j===null&&(M=X),g.baseState=M,g.firstBaseUpdate=H,g.lastBaseUpdate=j,v===null&&(g.shared.lanes=0),_i|=w,i.lanes=w,i.memoizedState=X}}function pp(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function mp(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)pp(l[i],s)}var qr=z(null),xa=z(0);function gp(i,s){i=Wn,C(xa,i),C(qr,s),Wn=i|s.baseLanes}function Ju(){C(xa,Wn),C(qr,qr.current)}function Yu(){Wn=xa.current,q(qr),q(xa)}var Xt=z(null),pn=null;function mi(i){var s=i.alternate;C(at,at.current&1),C(Xt,i),pn===null&&(s===null||qr.current!==null||s.memoizedState!==null)&&(pn=i)}function Ku(i){C(at,at.current),C(Xt,i),pn===null&&(pn=i)}function yp(i){i.tag===22?(C(at,at.current),C(Xt,i),pn===null&&(pn=i)):gi()}function gi(){C(at,at.current),C(Xt,Xt.current)}function Qt(i){q(Xt),pn===i&&(pn=null),q(at)}var at=z(0);function ba(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||td(l)||nd(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Fn=0,Ce=null,$e=null,ct=null,Sa=!1,Br=!1,Zi=!1,wa=0,Qs=0,Hr=null,bS=0;function st(){throw Error(r(321))}function Xu(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Yt(i[l],s[l]))return!1;return!0}function Qu(i,s,l,c,g,v){return Fn=v,Ce=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,L.H=i===null||i.memoizedState===null?em:fc,Zi=!1,v=l(c,g),Zi=!1,Br&&(v=_p(s,l,c,g)),vp(i),v}function vp(i){L.H=eo;var s=$e!==null&&$e.next!==null;if(Fn=0,ct=$e=Ce=null,Sa=!1,Qs=0,Hr=null,s)throw Error(r(300));i===null||dt||(i=i.dependencies,i!==null&&ha(i)&&(dt=!0))}function _p(i,s,l,c){Ce=i;var g=0;do{if(Br&&(Hr=null),Qs=0,Br=!1,25<=g)throw Error(r(301));if(g+=1,ct=$e=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}L.H=tm,v=s(l,c)}while(Br);return v}function SS(){var i=L.H,s=i.useState()[0];return s=typeof s.then=="function"?Ws(s):s,i=i.useState()[0],($e!==null?$e.memoizedState:null)!==i&&(Ce.flags|=1024),s}function Wu(){var i=wa!==0;return wa=0,i}function Zu(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function ec(i){if(Sa){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Sa=!1}Fn=0,ct=$e=Ce=null,Br=!1,Qs=wa=0,Hr=null}function zt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Ce.memoizedState=ct=i:ct=ct.next=i,ct}function lt(){if($e===null){var i=Ce.alternate;i=i!==null?i.memoizedState:null}else i=$e.next;var s=ct===null?Ce.memoizedState:ct.next;if(s!==null)ct=s,$e=i;else{if(i===null)throw Ce.alternate===null?Error(r(467)):Error(r(310));$e=i,i={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},ct===null?Ce.memoizedState=ct=i:ct=ct.next=i}return ct}function Ea(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ws(i){var s=Qs;return Qs+=1,Hr===null&&(Hr=[]),i=up(Hr,i,s),s=Ce,(ct===null?s.memoizedState:ct.next)===null&&(s=s.alternate,L.H=s===null||s.memoizedState===null?em:fc),i}function Ta(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ws(i);if(i.$$typeof===N)return wt(i)}throw Error(r(438,String(i)))}function tc(i){var s=null,l=Ce.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=Ce.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Ea(),Ce.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),c=0;c<i;c++)l[c]=ae;return s.index++,l}function $n(i,s){return typeof s=="function"?s(i):s}function Ca(i){var s=lt();return nc(s,$e,i)}function nc(i,s,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var g=i.baseQueue,v=c.pending;if(v!==null){if(g!==null){var w=g.next;g.next=v.next,v.next=w}s.baseQueue=g=v,c.pending=null}if(v=i.baseState,g===null)i.memoizedState=v;else{s=g.next;var E=w=null,M=null,H=s,j=!1;do{var X=H.lane&-536870913;if(X!==H.lane?(De&X)===X:(Fn&X)===X){var V=H.revertLane;if(V===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),X===Ur&&(j=!0);else if((Fn&V)===V){H=H.next,V===Ur&&(j=!0);continue}else X={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(E=M=X,w=v):M=M.next=X,Ce.lanes|=V,_i|=V;X=H.action,Zi&&l(v,X),v=H.hasEagerState?H.eagerState:l(v,X)}else V={lane:X,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(E=M=V,w=v):M=M.next=V,Ce.lanes|=X,_i|=X;H=H.next}while(H!==null&&H!==s);if(M===null?w=v:M.next=E,!Yt(v,i.memoizedState)&&(dt=!0,j&&(l=Pr,l!==null)))throw l;i.memoizedState=v,i.baseState=w,i.baseQueue=M,c.lastRenderedState=v}return g===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function ic(i){var s=lt(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,g=l.pending,v=s.memoizedState;if(g!==null){l.pending=null;var w=g=g.next;do v=i(v,w.action),w=w.next;while(w!==g);Yt(v,s.memoizedState)||(dt=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),l.lastRenderedState=v}return[v,c]}function xp(i,s,l){var c=Ce,g=lt(),v=Pe;if(v){if(l===void 0)throw Error(r(407));l=l()}else l=s();var w=!Yt(($e||g).memoizedState,l);if(w&&(g.memoizedState=l,dt=!0),g=g.queue,oc(wp.bind(null,c,g,i),[i]),g.getSnapshot!==s||w||ct!==null&&ct.memoizedState.tag&1){if(c.flags|=2048,Vr(9,{destroy:void 0},Sp.bind(null,c,g,l,s),null),Xe===null)throw Error(r(349));v||(Fn&127)!==0||bp(c,s,l)}return l}function bp(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Ce.updateQueue,s===null?(s=Ea(),Ce.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function Sp(i,s,l,c){s.value=l,s.getSnapshot=c,Ep(s)&&Tp(i)}function wp(i,s,l){return l(function(){Ep(s)&&Tp(i)})}function Ep(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Yt(i,l)}catch{return!0}}function Tp(i){var s=Fi(i,2);s!==null&&Ht(s,i,2)}function rc(i){var s=zt();if(typeof i=="function"){var l=i;if(i=l(),Zi){Dt(!0);try{l()}finally{Dt(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:i},s}function Cp(i,s,l,c){return i.baseState=l,nc(i,$e,typeof c=="function"?c:$n)}function wS(i,s,l,c,g){if(Na(i))throw Error(r(485));if(i=s.action,i!==null){var v={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){v.listeners.push(w)}};L.T!==null?l(!0):v.isTransition=!1,c(v),l=s.pending,l===null?(v.next=s.pending=v,Ap(s,v)):(v.next=l.next,s.pending=l.next=v)}}function Ap(i,s){var l=s.action,c=s.payload,g=i.state;if(s.isTransition){var v=L.T,w={};L.T=w;try{var E=l(g,c),M=L.S;M!==null&&M(w,E),kp(i,s,E)}catch(H){sc(i,s,H)}finally{v!==null&&w.types!==null&&(v.types=w.types),L.T=v}}else try{v=l(g,c),kp(i,s,v)}catch(H){sc(i,s,H)}}function kp(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Np(i,s,c)},function(c){return sc(i,s,c)}):Np(i,s,l)}function Np(i,s,l){s.status="fulfilled",s.value=l,Rp(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,Ap(i,l)))}function sc(i,s,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,Rp(s),s=s.next;while(s!==c)}i.action=null}function Rp(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Ip(i,s){return s}function Mp(i,s){if(Pe){var l=Xe.formState;if(l!==null){e:{var c=Ce;if(Pe){if(et){t:{for(var g=et,v=hn;g.nodeType!==8;){if(!v){g=null;break t}if(g=mn(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){et=mn(g.nextSibling),c=g.data==="F!";break e}}ci(c)}c=!1}c&&(s=l[0])}}return l=zt(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ip,lastRenderedState:s},l.queue=c,l=Qp.bind(null,Ce,c),c.dispatch=l,c=rc(!1),v=dc.bind(null,Ce,!1,c.queue),c=zt(),g={state:s,dispatch:null,action:i,pending:null},c.queue=g,l=wS.bind(null,Ce,g,v,l),g.dispatch=l,c.memoizedState=i,[s,l,!1]}function zp(i){var s=lt();return Dp(s,$e,i)}function Dp(i,s,l){if(s=nc(i,s,Ip)[0],i=Ca($n)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Ws(s)}catch(w){throw w===Or?ga:w}else c=s;s=lt();var g=s.queue,v=g.dispatch;return l!==s.memoizedState&&(Ce.flags|=2048,Vr(9,{destroy:void 0},ES.bind(null,g,l),null)),[c,v,i]}function ES(i,s){i.action=s}function Up(i){var s=lt(),l=$e;if(l!==null)return Dp(s,l,i);lt(),s=s.memoizedState,l=lt();var c=l.queue.dispatch;return l.memoizedState=i,[s,c,!1]}function Vr(i,s,l,c){return i={tag:i,create:l,deps:c,inst:s,next:null},s=Ce.updateQueue,s===null&&(s=Ea(),Ce.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,s.lastEffect=i),i}function Pp(){return lt().memoizedState}function Aa(i,s,l,c){var g=zt();Ce.flags|=i,g.memoizedState=Vr(1|s,{destroy:void 0},l,c===void 0?null:c)}function ka(i,s,l,c){var g=lt();c=c===void 0?null:c;var v=g.memoizedState.inst;$e!==null&&c!==null&&Xu(c,$e.memoizedState.deps)?g.memoizedState=Vr(s,v,l,c):(Ce.flags|=i,g.memoizedState=Vr(1|s,v,l,c))}function Op(i,s){Aa(8390656,8,i,s)}function oc(i,s){ka(2048,8,i,s)}function TS(i){Ce.flags|=4;var s=Ce.updateQueue;if(s===null)s=Ea(),Ce.updateQueue=s,s.events=[i];else{var l=s.events;l===null?s.events=[i]:l.push(i)}}function Lp(i){var s=lt().memoizedState;return TS({ref:s,nextImpl:i}),function(){if((Be&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function qp(i,s){return ka(4,2,i,s)}function Bp(i,s){return ka(4,4,i,s)}function Hp(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Vp(i,s,l){l=l!=null?l.concat([i]):null,ka(4,4,Hp.bind(null,s,i),l)}function ac(){}function Gp(i,s){var l=lt();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&Xu(s,c[1])?c[0]:(l.memoizedState=[i,s],i)}function Fp(i,s){var l=lt();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&Xu(s,c[1]))return c[0];if(c=i(),Zi){Dt(!0);try{i()}finally{Dt(!1)}}return l.memoizedState=[c,s],c}function lc(i,s,l){return l===void 0||(Fn&1073741824)!==0&&(De&261930)===0?i.memoizedState=s:(i.memoizedState=l,i=$m(),Ce.lanes|=i,_i|=i,l)}function $p(i,s,l,c){return Yt(l,s)?l:qr.current!==null?(i=lc(i,l,c),Yt(i,s)||(dt=!0),i):(Fn&42)===0||(Fn&1073741824)!==0&&(De&261930)===0?(dt=!0,i.memoizedState=l):(i=$m(),Ce.lanes|=i,_i|=i,s)}function jp(i,s,l,c,g){var v=ee.p;ee.p=v!==0&&8>v?v:8;var w=L.T,E={};L.T=E,dc(i,!1,s,l);try{var M=g(),H=L.S;if(H!==null&&H(E,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var j=xS(M,c);Zs(i,s,j,en(i))}else Zs(i,s,c,en(i))}catch(X){Zs(i,s,{then:function(){},status:"rejected",reason:X},en())}finally{ee.p=v,w!==null&&E.types!==null&&(w.types=E.types),L.T=w}}function CS(){}function uc(i,s,l,c){if(i.tag!==5)throw Error(r(476));var g=Jp(i).queue;jp(i,g,s,fe,l===null?CS:function(){return Yp(i),l(c)})}function Jp(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:fe},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Yp(i){var s=Jp(i);s.next===null&&(s=i.alternate.memoizedState),Zs(i,s.next.queue,{},en())}function cc(){return wt(yo)}function Kp(){return lt().memoizedState}function Xp(){return lt().memoizedState}function AS(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=en();i=hi(l);var c=pi(s,i,l);c!==null&&(Ht(c,s,l),Ys(c,s,l)),s={cache:qu()},i.payload=s;return}s=s.return}}function kS(i,s,l){var c=en();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Na(i)?Wp(s,l):(l=ku(i,s,l,c),l!==null&&(Ht(l,i,c),Zp(l,s,c)))}function Qp(i,s,l){var c=en();Zs(i,s,l,c)}function Zs(i,s,l,c){var g={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Na(i))Wp(s,g);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var w=s.lastRenderedState,E=v(w,l);if(g.hasEagerState=!0,g.eagerState=E,Yt(E,w))return ua(i,s,g,0),Xe===null&&la(),!1}catch{}finally{}if(l=ku(i,s,g,c),l!==null)return Ht(l,i,c),Zp(l,s,c),!0}return!1}function dc(i,s,l,c){if(c={lane:2,revertLane:Gc(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Na(i)){if(s)throw Error(r(479))}else s=ku(i,l,c,2),s!==null&&Ht(s,i,2)}function Na(i){var s=i.alternate;return i===Ce||s!==null&&s===Ce}function Wp(i,s){Br=Sa=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function Zp(i,s,l){if((l&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,rh(i,l)}}var eo={readContext:wt,use:Ta,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st};eo.useEffectEvent=st;var em={readContext:wt,use:Ta,useCallback:function(i,s){return zt().memoizedState=[i,s===void 0?null:s],i},useContext:wt,useEffect:Op,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Aa(4194308,4,Hp.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Aa(4194308,4,i,s)},useInsertionEffect:function(i,s){Aa(4,2,i,s)},useMemo:function(i,s){var l=zt();s=s===void 0?null:s;var c=i();if(Zi){Dt(!0);try{i()}finally{Dt(!1)}}return l.memoizedState=[c,s],c},useReducer:function(i,s,l){var c=zt();if(l!==void 0){var g=l(s);if(Zi){Dt(!0);try{l(s)}finally{Dt(!1)}}}else g=s;return c.memoizedState=c.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},c.queue=i,i=i.dispatch=kS.bind(null,Ce,i),[c.memoizedState,i]},useRef:function(i){var s=zt();return i={current:i},s.memoizedState=i},useState:function(i){i=rc(i);var s=i.queue,l=Qp.bind(null,Ce,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:ac,useDeferredValue:function(i,s){var l=zt();return lc(l,i,s)},useTransition:function(){var i=rc(!1);return i=jp.bind(null,Ce,i.queue,!0,!1),zt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var c=Ce,g=zt();if(Pe){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),Xe===null)throw Error(r(349));(De&127)!==0||bp(c,s,l)}g.memoizedState=l;var v={value:l,getSnapshot:s};return g.queue=v,Op(wp.bind(null,c,v,i),[i]),c.flags|=2048,Vr(9,{destroy:void 0},Sp.bind(null,c,v,l,s),null),l},useId:function(){var i=zt(),s=Xe.identifierPrefix;if(Pe){var l=kn,c=An;l=(c&~(1<<32-Ke(c)-1)).toString(32)+l,s="_"+s+"R_"+l,l=wa++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=bS++,s="_"+s+"r_"+l.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:cc,useFormState:Mp,useActionState:Mp,useOptimistic:function(i){var s=zt();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=dc.bind(null,Ce,!0,l),l.dispatch=s,[i,s]},useMemoCache:tc,useCacheRefresh:function(){return zt().memoizedState=AS.bind(null,Ce)},useEffectEvent:function(i){var s=zt(),l={impl:i};return s.memoizedState=l,function(){if((Be&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},fc={readContext:wt,use:Ta,useCallback:Gp,useContext:wt,useEffect:oc,useImperativeHandle:Vp,useInsertionEffect:qp,useLayoutEffect:Bp,useMemo:Fp,useReducer:Ca,useRef:Pp,useState:function(){return Ca($n)},useDebugValue:ac,useDeferredValue:function(i,s){var l=lt();return $p(l,$e.memoizedState,i,s)},useTransition:function(){var i=Ca($n)[0],s=lt().memoizedState;return[typeof i=="boolean"?i:Ws(i),s]},useSyncExternalStore:xp,useId:Kp,useHostTransitionStatus:cc,useFormState:zp,useActionState:zp,useOptimistic:function(i,s){var l=lt();return Cp(l,$e,i,s)},useMemoCache:tc,useCacheRefresh:Xp};fc.useEffectEvent=Lp;var tm={readContext:wt,use:Ta,useCallback:Gp,useContext:wt,useEffect:oc,useImperativeHandle:Vp,useInsertionEffect:qp,useLayoutEffect:Bp,useMemo:Fp,useReducer:ic,useRef:Pp,useState:function(){return ic($n)},useDebugValue:ac,useDeferredValue:function(i,s){var l=lt();return $e===null?lc(l,i,s):$p(l,$e.memoizedState,i,s)},useTransition:function(){var i=ic($n)[0],s=lt().memoizedState;return[typeof i=="boolean"?i:Ws(i),s]},useSyncExternalStore:xp,useId:Kp,useHostTransitionStatus:cc,useFormState:Up,useActionState:Up,useOptimistic:function(i,s){var l=lt();return $e!==null?Cp(l,$e,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:tc,useCacheRefresh:Xp};tm.useEffectEvent=Lp;function hc(i,s,l,c){s=i.memoizedState,l=l(c,s),l=l==null?s:_({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var pc={enqueueSetState:function(i,s,l){i=i._reactInternals;var c=en(),g=hi(c);g.payload=s,l!=null&&(g.callback=l),s=pi(i,g,c),s!==null&&(Ht(s,i,c),Ys(s,i,c))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var c=en(),g=hi(c);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=pi(i,g,c),s!==null&&(Ht(s,i,c),Ys(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=en(),c=hi(l);c.tag=2,s!=null&&(c.callback=s),s=pi(i,c,l),s!==null&&(Ht(s,i,l),Ys(s,i,l))}};function nm(i,s,l,c,g,v,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,v,w):s.prototype&&s.prototype.isPureReactComponent?!Bs(l,c)||!Bs(g,v):!0}function im(i,s,l,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==i&&pc.enqueueReplaceState(s,s.state,null)}function er(i,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(i=i.defaultProps){l===s&&(l=_({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}function rm(i){aa(i)}function sm(i){console.error(i)}function om(i){aa(i)}function Ra(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function am(i,s,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function mc(i,s,l){return l=hi(l),l.tag=3,l.payload={element:null},l.callback=function(){Ra(i,s)},l}function lm(i){return i=hi(i),i.tag=3,i}function um(i,s,l,c){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var v=c.value;i.payload=function(){return g(v)},i.callback=function(){am(s,l,c)}}var w=l.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){am(s,l,c),typeof g!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var E=c.stack;this.componentDidCatch(c.value,{componentStack:E!==null?E:""})})}function NS(i,s,l,c,g){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&Dr(s,l,g,!0),l=Xt.current,l!==null){switch(l.tag){case 31:case 13:return pn===null?Va():l.alternate===null&&ot===0&&(ot=3),l.flags&=-257,l.flags|=65536,l.lanes=g,c===ya?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),Bc(i,c,g)),!1;case 22:return l.flags|=65536,c===ya?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),Bc(i,c,g)),!1}throw Error(r(435,l.tag))}return Bc(i,c,g),Va(),!1}if(Pe)return s=Xt.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,c!==Du&&(i=Error(r(422),{cause:c}),Gs(cn(i,l)))):(c!==Du&&(s=Error(r(423),{cause:c}),Gs(cn(s,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,c=cn(c,l),g=mc(i.stateNode,c,g),$u(i,g),ot!==4&&(ot=2)),!1;var v=Error(r(520),{cause:c});if(v=cn(v,l),lo===null?lo=[v]:lo.push(v),ot!==4&&(ot=2),s===null)return!0;c=cn(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=mc(l.stateNode,c,i),$u(l,i),!1;case 1:if(s=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(xi===null||!xi.has(v))))return l.flags|=65536,g&=-g,l.lanes|=g,g=lm(g),um(g,i,l,c),$u(l,g),!1}l=l.return}while(l!==null);return!1}var gc=Error(r(461)),dt=!1;function Et(i,s,l,c){s.child=i===null?hp(s,null,l,c):Wi(s,i.child,l,c)}function cm(i,s,l,c,g){l=l.render;var v=s.ref;if("ref"in c){var w={};for(var E in c)E!=="ref"&&(w[E]=c[E])}else w=c;return Yi(s),c=Qu(i,s,l,w,v,g),E=Wu(),i!==null&&!dt?(Zu(i,s,g),jn(i,s,g)):(Pe&&E&&Mu(s),s.flags|=1,Et(i,s,c,g),s.child)}function dm(i,s,l,c,g){if(i===null){var v=l.type;return typeof v=="function"&&!Nu(v)&&v.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=v,fm(i,s,v,c,g)):(i=da(l.type,null,c,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(v=i.child,!Ec(i,g)){var w=v.memoizedProps;if(l=l.compare,l=l!==null?l:Bs,l(w,c)&&i.ref===s.ref)return jn(i,s,g)}return s.flags|=1,i=Bn(v,c),i.ref=s.ref,i.return=s,s.child=i}function fm(i,s,l,c,g){if(i!==null){var v=i.memoizedProps;if(Bs(v,c)&&i.ref===s.ref)if(dt=!1,s.pendingProps=c=v,Ec(i,g))(i.flags&131072)!==0&&(dt=!0);else return s.lanes=i.lanes,jn(i,s,g)}return yc(i,s,l,c,g)}function hm(i,s,l,c){var g=c.children,v=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(v=v!==null?v.baseLanes|l:l,i!==null){for(c=s.child=i.child,g=0;c!==null;)g=g|c.lanes|c.childLanes,c=c.sibling;c=g&~v}else c=0,s.child=null;return pm(i,s,v,l,c)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&ma(s,v!==null?v.cachePool:null),v!==null?gp(s,v):Ju(),yp(s);else return c=s.lanes=536870912,pm(i,s,v!==null?v.baseLanes|l:l,l,c)}else v!==null?(ma(s,v.cachePool),gp(s,v),gi(),s.memoizedState=null):(i!==null&&ma(s,null),Ju(),gi());return Et(i,s,g,l),s.child}function to(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function pm(i,s,l,c,g){var v=Hu();return v=v===null?null:{parent:ut._currentValue,pool:v},s.memoizedState={baseLanes:l,cachePool:v},i!==null&&ma(s,null),Ju(),yp(s),i!==null&&Dr(i,s,c,!0),s.childLanes=g,null}function Ia(i,s){return s=za({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function mm(i,s,l){return Wi(s,i.child,null,l),i=Ia(s,s.pendingProps),i.flags|=2,Qt(s),s.memoizedState=null,i}function RS(i,s,l){var c=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Pe){if(c.mode==="hidden")return i=Ia(s,c),s.lanes=536870912,to(null,i);if(Ku(s),(i=et)?(i=Ag(i,hn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:li!==null?{id:An,overflow:kn}:null,retryLane:536870912,hydrationErrors:null},l=Wh(i),l.return=s,s.child=l,St=s,et=null)):i=null,i===null)throw ci(s);return s.lanes=536870912,null}return Ia(s,c)}var v=i.memoizedState;if(v!==null){var w=v.dehydrated;if(Ku(s),g)if(s.flags&256)s.flags&=-257,s=mm(i,s,l);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(dt||Dr(i,s,l,!1),g=(l&i.childLanes)!==0,dt||g){if(c=Xe,c!==null&&(w=sh(c,l),w!==0&&w!==v.retryLane))throw v.retryLane=w,Fi(i,w),Ht(c,i,w),gc;Va(),s=mm(i,s,l)}else i=v.treeContext,et=mn(w.nextSibling),St=s,Pe=!0,ui=null,hn=!1,i!==null&&tp(s,i),s=Ia(s,c),s.flags|=4096;return s}return i=Bn(i.child,{mode:c.mode,children:c.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Ma(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function yc(i,s,l,c,g){return Yi(s),l=Qu(i,s,l,c,void 0,g),c=Wu(),i!==null&&!dt?(Zu(i,s,g),jn(i,s,g)):(Pe&&c&&Mu(s),s.flags|=1,Et(i,s,l,g),s.child)}function gm(i,s,l,c,g,v){return Yi(s),s.updateQueue=null,l=_p(s,c,l,g),vp(i),c=Wu(),i!==null&&!dt?(Zu(i,s,v),jn(i,s,v)):(Pe&&c&&Mu(s),s.flags|=1,Et(i,s,l,v),s.child)}function ym(i,s,l,c,g){if(Yi(s),s.stateNode===null){var v=Rr,w=l.contextType;typeof w=="object"&&w!==null&&(v=wt(w)),v=new l(c,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=pc,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=c,v.state=s.memoizedState,v.refs={},Gu(s),w=l.contextType,v.context=typeof w=="object"&&w!==null?wt(w):Rr,v.state=s.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(hc(s,l,w,c),v.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(w=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),w!==v.state&&pc.enqueueReplaceState(v,v.state,null),Xs(s,c,v,g),Ks(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){v=s.stateNode;var E=s.memoizedProps,M=er(l,E);v.props=M;var H=v.context,j=l.contextType;w=Rr,typeof j=="object"&&j!==null&&(w=wt(j));var X=l.getDerivedStateFromProps;j=typeof X=="function"||typeof v.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,j||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E||H!==w)&&im(s,v,c,w),fi=!1;var V=s.memoizedState;v.state=V,Xs(s,c,v,g),Ks(),H=s.memoizedState,E||V!==H||fi?(typeof X=="function"&&(hc(s,l,X,c),H=s.memoizedState),(M=fi||nm(s,l,M,c,V,H,w))?(j||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=H),v.props=c,v.state=H,v.context=w,c=M):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{v=s.stateNode,Fu(i,s),w=s.memoizedProps,j=er(l,w),v.props=j,X=s.pendingProps,V=v.context,H=l.contextType,M=Rr,typeof H=="object"&&H!==null&&(M=wt(H)),E=l.getDerivedStateFromProps,(H=typeof E=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==X||V!==M)&&im(s,v,c,M),fi=!1,V=s.memoizedState,v.state=V,Xs(s,c,v,g),Ks();var G=s.memoizedState;w!==X||V!==G||fi||i!==null&&i.dependencies!==null&&ha(i.dependencies)?(typeof E=="function"&&(hc(s,l,E,c),G=s.memoizedState),(j=fi||nm(s,l,j,c,V,G,M)||i!==null&&i.dependencies!==null&&ha(i.dependencies))?(H||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,G,M),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,G,M)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||w===i.memoizedProps&&V===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&V===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=G),v.props=c,v.state=G,v.context=M,c=j):(typeof v.componentDidUpdate!="function"||w===i.memoizedProps&&V===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&V===i.memoizedState||(s.flags|=1024),c=!1)}return v=c,Ma(i,s),c=(s.flags&128)!==0,v||c?(v=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,i!==null&&c?(s.child=Wi(s,i.child,null,g),s.child=Wi(s,null,l,g)):Et(i,s,l,g),s.memoizedState=v.state,i=s.child):i=jn(i,s,g),i}function vm(i,s,l,c){return ji(),s.flags|=256,Et(i,s,l,c),s.child}var vc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _c(i){return{baseLanes:i,cachePool:ap()}}function xc(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=Zt),i}function _m(i,s,l){var c=s.pendingProps,g=!1,v=(s.flags&128)!==0,w;if((w=v)||(w=i!==null&&i.memoizedState===null?!1:(at.current&2)!==0),w&&(g=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,i===null){if(Pe){if(g?mi(s):gi(),(i=et)?(i=Ag(i,hn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:li!==null?{id:An,overflow:kn}:null,retryLane:536870912,hydrationErrors:null},l=Wh(i),l.return=s,s.child=l,St=s,et=null)):i=null,i===null)throw ci(s);return nd(i)?s.lanes=32:s.lanes=536870912,null}var E=c.children;return c=c.fallback,g?(gi(),g=s.mode,E=za({mode:"hidden",children:E},g),c=$i(c,g,l,null),E.return=s,c.return=s,E.sibling=c,s.child=E,c=s.child,c.memoizedState=_c(l),c.childLanes=xc(i,w,l),s.memoizedState=vc,to(null,c)):(mi(s),bc(s,E))}var M=i.memoizedState;if(M!==null&&(E=M.dehydrated,E!==null)){if(v)s.flags&256?(mi(s),s.flags&=-257,s=Sc(i,s,l)):s.memoizedState!==null?(gi(),s.child=i.child,s.flags|=128,s=null):(gi(),E=c.fallback,g=s.mode,c=za({mode:"visible",children:c.children},g),E=$i(E,g,l,null),E.flags|=2,c.return=s,E.return=s,c.sibling=E,s.child=c,Wi(s,i.child,null,l),c=s.child,c.memoizedState=_c(l),c.childLanes=xc(i,w,l),s.memoizedState=vc,s=to(null,c));else if(mi(s),nd(E)){if(w=E.nextSibling&&E.nextSibling.dataset,w)var H=w.dgst;w=H,c=Error(r(419)),c.stack="",c.digest=w,Gs({value:c,source:null,stack:null}),s=Sc(i,s,l)}else if(dt||Dr(i,s,l,!1),w=(l&i.childLanes)!==0,dt||w){if(w=Xe,w!==null&&(c=sh(w,l),c!==0&&c!==M.retryLane))throw M.retryLane=c,Fi(i,c),Ht(w,i,c),gc;td(E)||Va(),s=Sc(i,s,l)}else td(E)?(s.flags|=192,s.child=i.child,s=null):(i=M.treeContext,et=mn(E.nextSibling),St=s,Pe=!0,ui=null,hn=!1,i!==null&&tp(s,i),s=bc(s,c.children),s.flags|=4096);return s}return g?(gi(),E=c.fallback,g=s.mode,M=i.child,H=M.sibling,c=Bn(M,{mode:"hidden",children:c.children}),c.subtreeFlags=M.subtreeFlags&65011712,H!==null?E=Bn(H,E):(E=$i(E,g,l,null),E.flags|=2),E.return=s,c.return=s,c.sibling=E,s.child=c,to(null,c),c=s.child,E=i.child.memoizedState,E===null?E=_c(l):(g=E.cachePool,g!==null?(M=ut._currentValue,g=g.parent!==M?{parent:M,pool:M}:g):g=ap(),E={baseLanes:E.baseLanes|l,cachePool:g}),c.memoizedState=E,c.childLanes=xc(i,w,l),s.memoizedState=vc,to(i.child,c)):(mi(s),l=i.child,i=l.sibling,l=Bn(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,i!==null&&(w=s.deletions,w===null?(s.deletions=[i],s.flags|=16):w.push(i)),s.child=l,s.memoizedState=null,l)}function bc(i,s){return s=za({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function za(i,s){return i=Kt(22,i,null,s),i.lanes=0,i}function Sc(i,s,l){return Wi(s,i.child,null,l),i=bc(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function xm(i,s,l){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),Ou(i.return,s,l)}function wc(i,s,l,c,g,v){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:g,treeForkCount:v}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=c,w.tail=l,w.tailMode=g,w.treeForkCount=v)}function bm(i,s,l){var c=s.pendingProps,g=c.revealOrder,v=c.tail;c=c.children;var w=at.current,E=(w&2)!==0;if(E?(w=w&1|2,s.flags|=128):w&=1,C(at,w),Et(i,s,c,l),c=Pe?Vs:0,!E&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&xm(i,l,s);else if(i.tag===19)xm(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(l=s.child,g=null;l!==null;)i=l.alternate,i!==null&&ba(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),wc(s,!1,g,l,v,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&ba(i)===null){s.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}wc(s,!0,l,null,v,c);break;case"together":wc(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function jn(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),_i|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Dr(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=Bn(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Bn(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function Ec(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&ha(i)))}function IS(i,s,l){switch(s.tag){case 3:Ye(s,s.stateNode.containerInfo),di(s,ut,i.memoizedState.cache),ji();break;case 27:case 5:$t(s);break;case 4:Ye(s,s.stateNode.containerInfo);break;case 10:di(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Ku(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(mi(s),s.flags|=128,null):(l&s.child.childLanes)!==0?_m(i,s,l):(mi(s),i=jn(i,s,l),i!==null?i.sibling:null);mi(s);break;case 19:var g=(i.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(Dr(i,s,l,!1),c=(l&s.childLanes)!==0),g){if(c)return bm(i,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),C(at,at.current),c)break;return null;case 22:return s.lanes=0,hm(i,s,l,s.pendingProps);case 24:di(s,ut,i.memoizedState.cache)}return jn(i,s,l)}function Sm(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)dt=!0;else{if(!Ec(i,l)&&(s.flags&128)===0)return dt=!1,IS(i,s,l);dt=(i.flags&131072)!==0}else dt=!1,Pe&&(s.flags&1048576)!==0&&ep(s,Vs,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(i=Xi(s.elementType),s.type=i,typeof i=="function")Nu(i)?(c=er(i,c),s.tag=1,s=ym(null,s,i,c,l)):(s.tag=0,s=yc(null,s,i,c,l));else{if(i!=null){var g=i.$$typeof;if(g===F){s.tag=11,s=cm(null,s,i,c,l);break e}else if(g===$){s.tag=14,s=dm(null,s,i,c,l);break e}}throw s=ce(i)||i,Error(r(306,s,""))}}return s;case 0:return yc(i,s,s.type,s.pendingProps,l);case 1:return c=s.type,g=er(c,s.pendingProps),ym(i,s,c,g,l);case 3:e:{if(Ye(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var v=s.memoizedState;g=v.element,Fu(i,s),Xs(s,c,null,l);var w=s.memoizedState;if(c=w.cache,di(s,ut,c),c!==v.cache&&Lu(s,[ut],l,!0),Ks(),c=w.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=vm(i,s,c,l);break e}else if(c!==g){g=cn(Error(r(424)),s),Gs(g),s=vm(i,s,c,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(et=mn(i.firstChild),St=s,Pe=!0,ui=null,hn=!0,l=hp(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ji(),c===g){s=jn(i,s,l);break e}Et(i,s,c,l)}s=s.child}return s;case 26:return Ma(i,s),i===null?(l=zg(s.type,null,s.pendingProps,null))?s.memoizedState=l:Pe||(l=s.type,i=s.pendingProps,c=Ka(he.current).createElement(l),c[bt]=s,c[Ut]=i,Tt(c,l,i),_t(c),s.stateNode=c):s.memoizedState=zg(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return $t(s),i===null&&Pe&&(c=s.stateNode=Rg(s.type,s.pendingProps,he.current),St=s,hn=!0,g=et,Ei(s.type)?(id=g,et=mn(c.firstChild)):et=g),Et(i,s,s.pendingProps.children,l),Ma(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Pe&&((g=c=et)&&(c=aw(c,s.type,s.pendingProps,hn),c!==null?(s.stateNode=c,St=s,et=mn(c.firstChild),hn=!1,g=!0):g=!1),g||ci(s)),$t(s),g=s.type,v=s.pendingProps,w=i!==null?i.memoizedProps:null,c=v.children,Wc(g,v)?c=null:w!==null&&Wc(g,w)&&(s.flags|=32),s.memoizedState!==null&&(g=Qu(i,s,SS,null,null,l),yo._currentValue=g),Ma(i,s),Et(i,s,c,l),s.child;case 6:return i===null&&Pe&&((i=l=et)&&(l=lw(l,s.pendingProps,hn),l!==null?(s.stateNode=l,St=s,et=null,i=!0):i=!1),i||ci(s)),null;case 13:return _m(i,s,l);case 4:return Ye(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=Wi(s,null,c,l):Et(i,s,c,l),s.child;case 11:return cm(i,s,s.type,s.pendingProps,l);case 7:return Et(i,s,s.pendingProps,l),s.child;case 8:return Et(i,s,s.pendingProps.children,l),s.child;case 12:return Et(i,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,di(s,s.type,c.value),Et(i,s,c.children,l),s.child;case 9:return g=s.type._context,c=s.pendingProps.children,Yi(s),g=wt(g),c=c(g),s.flags|=1,Et(i,s,c,l),s.child;case 14:return dm(i,s,s.type,s.pendingProps,l);case 15:return fm(i,s,s.type,s.pendingProps,l);case 19:return bm(i,s,l);case 31:return RS(i,s,l);case 22:return hm(i,s,l,s.pendingProps);case 24:return Yi(s),c=wt(ut),i===null?(g=Hu(),g===null&&(g=Xe,v=qu(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=l),g=v),s.memoizedState={parent:c,cache:g},Gu(s),di(s,ut,g)):((i.lanes&l)!==0&&(Fu(i,s),Xs(s,null,null,l),Ks()),g=i.memoizedState,v=s.memoizedState,g.parent!==c?(g={parent:c,cache:c},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),di(s,ut,c)):(c=v.cache,di(s,ut,c),c!==g.cache&&Lu(s,[ut],l,!0))),Et(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Jn(i){i.flags|=4}function Tc(i,s,l,c,g){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(Km())i.flags|=8192;else throw Qi=ya,Vu}else i.flags&=-16777217}function wm(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Lg(s))if(Km())i.flags|=8192;else throw Qi=ya,Vu}function Da(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?nh():536870912,i.lanes|=s,jr|=s)}function no(i,s){if(!Pe)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function tt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(s)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=c,i.childLanes=l,s}function MS(i,s,l){var c=s.pendingProps;switch(zu(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(s),null;case 1:return tt(s),null;case 3:return l=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Gn(ut),Ae(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(zr(s)?Jn(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Uu())),tt(s),null;case 26:var g=s.type,v=s.memoizedState;return i===null?(Jn(s),v!==null?(tt(s),wm(s,v)):(tt(s),Tc(s,g,null,c,l))):v?v!==i.memoizedState?(Jn(s),tt(s),wm(s,v)):(tt(s),s.flags&=-16777217):(i=i.memoizedProps,i!==c&&Jn(s),tt(s),Tc(s,g,i,c,l)),null;case 27:if(jt(s),l=he.current,g=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Jn(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return tt(s),null}i=Y.current,zr(s)?np(s):(i=Rg(g,c,l),s.stateNode=i,Jn(s))}return tt(s),null;case 5:if(jt(s),g=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Jn(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return tt(s),null}if(v=Y.current,zr(s))np(s);else{var w=Ka(he.current);switch(v){case 1:v=w.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:v=w.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":v=w.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":v=w.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":v=w.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof c.is=="string"?w.createElement("select",{is:c.is}):w.createElement("select"),c.multiple?v.multiple=!0:c.size&&(v.size=c.size);break;default:v=typeof c.is=="string"?w.createElement(g,{is:c.is}):w.createElement(g)}}v[bt]=s,v[Ut]=c;e:for(w=s.child;w!==null;){if(w.tag===5||w.tag===6)v.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===s)break e;for(;w.sibling===null;){if(w.return===null||w.return===s)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}s.stateNode=v;e:switch(Tt(v,g,c),g){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Jn(s)}}return tt(s),Tc(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,l),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&Jn(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=he.current,zr(s)){if(i=s.stateNode,l=s.memoizedProps,c=null,g=St,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}i[bt]=s,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||_g(i.nodeValue,l)),i||ci(s,!0)}else i=Ka(i).createTextNode(c),i[bt]=s,s.stateNode=i}return tt(s),null;case 31:if(l=s.memoizedState,i===null||i.memoizedState!==null){if(c=zr(s),l!==null){if(i===null){if(!c)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[bt]=s}else ji(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;tt(s),i=!1}else l=Uu(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return s.flags&256?(Qt(s),s):(Qt(s),null);if((s.flags&128)!==0)throw Error(r(558))}return tt(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=zr(s),c!==null&&c.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[bt]=s}else ji(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;tt(s),g=!1}else g=Uu(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(Qt(s),s):(Qt(s),null)}return Qt(s),(s.flags&128)!==0?(s.lanes=l,s):(l=c!==null,i=i!==null&&i.memoizedState!==null,l&&(c=s.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==g&&(c.flags|=2048)),l!==i&&l&&(s.child.flags|=8192),Da(s,s.updateQueue),tt(s),null);case 4:return Ae(),i===null&&Jc(s.stateNode.containerInfo),tt(s),null;case 10:return Gn(s.type),tt(s),null;case 19:if(q(at),c=s.memoizedState,c===null)return tt(s),null;if(g=(s.flags&128)!==0,v=c.rendering,v===null)if(g)no(c,!1);else{if(ot!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(v=ba(i),v!==null){for(s.flags|=128,no(c,!1),i=v.updateQueue,s.updateQueue=i,Da(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)Qh(l,i),l=l.sibling;return C(at,at.current&1|2),Pe&&Hn(s,c.treeForkCount),s.child}i=i.sibling}c.tail!==null&&It()>qa&&(s.flags|=128,g=!0,no(c,!1),s.lanes=4194304)}else{if(!g)if(i=ba(v),i!==null){if(s.flags|=128,g=!0,i=i.updateQueue,s.updateQueue=i,Da(s,i),no(c,!0),c.tail===null&&c.tailMode==="hidden"&&!v.alternate&&!Pe)return tt(s),null}else 2*It()-c.renderingStartTime>qa&&l!==536870912&&(s.flags|=128,g=!0,no(c,!1),s.lanes=4194304);c.isBackwards?(v.sibling=s.child,s.child=v):(i=c.last,i!==null?i.sibling=v:s.child=v,c.last=v)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=It(),i.sibling=null,l=at.current,C(at,g?l&1|2:l&1),Pe&&Hn(s,c.treeForkCount),i):(tt(s),null);case 22:case 23:return Qt(s),Yu(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(tt(s),s.subtreeFlags&6&&(s.flags|=8192)):tt(s),l=s.updateQueue,l!==null&&Da(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),i!==null&&q(Ki),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Gn(ut),tt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function zS(i,s){switch(zu(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Gn(ut),Ae(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return jt(s),null;case 31:if(s.memoizedState!==null){if(Qt(s),s.alternate===null)throw Error(r(340));ji()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Qt(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ji()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return q(at),null;case 4:return Ae(),null;case 10:return Gn(s.type),null;case 22:case 23:return Qt(s),Yu(),i!==null&&q(Ki),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Gn(ut),null;case 25:return null;default:return null}}function Em(i,s){switch(zu(s),s.tag){case 3:Gn(ut),Ae();break;case 26:case 27:case 5:jt(s);break;case 4:Ae();break;case 31:s.memoizedState!==null&&Qt(s);break;case 13:Qt(s);break;case 19:q(at);break;case 10:Gn(s.type);break;case 22:case 23:Qt(s),Yu(),i!==null&&q(Ki);break;case 24:Gn(ut)}}function io(i,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var g=c.next;l=g;do{if((l.tag&i)===i){c=void 0;var v=l.create,w=l.inst;c=v(),w.destroy=c}l=l.next}while(l!==g)}}catch(E){Fe(s,s.return,E)}}function yi(i,s,l){try{var c=s.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var v=g.next;c=v;do{if((c.tag&i)===i){var w=c.inst,E=w.destroy;if(E!==void 0){w.destroy=void 0,g=s;var M=l,H=E;try{H()}catch(j){Fe(g,M,j)}}}c=c.next}while(c!==v)}}catch(j){Fe(s,s.return,j)}}function Tm(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{mp(s,l)}catch(c){Fe(i,i.return,c)}}}function Cm(i,s,l){l.props=er(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){Fe(i,s,c)}}function ro(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(g){Fe(i,s,g)}}function Nn(i,s){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(g){Fe(i,s,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Fe(i,s,g)}else l.current=null}function Am(i){var s=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(g){Fe(i,i.return,g)}}function Cc(i,s,l){try{var c=i.stateNode;tw(c,i.type,l,s),c[Ut]=s}catch(g){Fe(i,i.return,g)}}function km(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ei(i.type)||i.tag===4}function Ac(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||km(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ei(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function kc(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Ln));else if(c!==4&&(c===27&&Ei(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(kc(i,s,l),i=i.sibling;i!==null;)kc(i,s,l),i=i.sibling}function Ua(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(c!==4&&(c===27&&Ei(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Ua(i,s,l),i=i.sibling;i!==null;)Ua(i,s,l),i=i.sibling}function Nm(i){var s=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);Tt(s,c,l),s[bt]=i,s[Ut]=l}catch(v){Fe(i,i.return,v)}}var Yn=!1,ft=!1,Nc=!1,Rm=typeof WeakSet=="function"?WeakSet:Set,xt=null;function DS(i,s){if(i=i.containerInfo,Xc=nl,i=Vh(i),Su(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var g=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var w=0,E=-1,M=-1,H=0,j=0,X=i,V=null;t:for(;;){for(var G;X!==l||g!==0&&X.nodeType!==3||(E=w+g),X!==v||c!==0&&X.nodeType!==3||(M=w+c),X.nodeType===3&&(w+=X.nodeValue.length),(G=X.firstChild)!==null;)V=X,X=G;for(;;){if(X===i)break t;if(V===l&&++H===g&&(E=w),V===v&&++j===c&&(M=w),(G=X.nextSibling)!==null)break;X=V,V=X.parentNode}X=G}l=E===-1||M===-1?null:{start:E,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(Qc={focusedElem:i,selectionRange:l},nl=!1,xt=s;xt!==null;)if(s=xt,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,xt=i;else for(;xt!==null;){switch(s=xt,v=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)g=i[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,l=s,g=v.memoizedProps,v=v.memoizedState,c=l.stateNode;try{var le=er(l.type,g);i=c.getSnapshotBeforeUpdate(le,v),c.__reactInternalSnapshotBeforeUpdate=i}catch(_e){Fe(l,l.return,_e)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)ed(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ed(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,xt=i;break}xt=s.return}}function Im(i,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Xn(i,l),c&4&&io(5,l);break;case 1:if(Xn(i,l),c&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(w){Fe(l,l.return,w)}else{var g=er(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(g,s,i.__reactInternalSnapshotBeforeUpdate)}catch(w){Fe(l,l.return,w)}}c&64&&Tm(l),c&512&&ro(l,l.return);break;case 3:if(Xn(i,l),c&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{mp(i,s)}catch(w){Fe(l,l.return,w)}}break;case 27:s===null&&c&4&&Nm(l);case 26:case 5:Xn(i,l),s===null&&c&4&&Am(l),c&512&&ro(l,l.return);break;case 12:Xn(i,l);break;case 31:Xn(i,l),c&4&&Dm(i,l);break;case 13:Xn(i,l),c&4&&Um(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=GS.bind(null,l),uw(i,l))));break;case 22:if(c=l.memoizedState!==null||Yn,!c){s=s!==null&&s.memoizedState!==null||ft,g=Yn;var v=ft;Yn=c,(ft=s)&&!v?Qn(i,l,(l.subtreeFlags&8772)!==0):Xn(i,l),Yn=g,ft=v}break;case 30:break;default:Xn(i,l)}}function Mm(i){var s=i.alternate;s!==null&&(i.alternate=null,Mm(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&su(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var it=null,Ot=!1;function Kn(i,s,l){for(l=l.child;l!==null;)zm(i,s,l),l=l.sibling}function zm(i,s,l){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(Mt,l)}catch{}switch(l.tag){case 26:ft||Nn(l,s),Kn(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ft||Nn(l,s);var c=it,g=Ot;Ei(l.type)&&(it=l.stateNode,Ot=!1),Kn(i,s,l),po(l.stateNode),it=c,Ot=g;break;case 5:ft||Nn(l,s);case 6:if(c=it,g=Ot,it=null,Kn(i,s,l),it=c,Ot=g,it!==null)if(Ot)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(l.stateNode)}catch(v){Fe(l,s,v)}else try{it.removeChild(l.stateNode)}catch(v){Fe(l,s,v)}break;case 18:it!==null&&(Ot?(i=it,Tg(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),es(i)):Tg(it,l.stateNode));break;case 4:c=it,g=Ot,it=l.stateNode.containerInfo,Ot=!0,Kn(i,s,l),it=c,Ot=g;break;case 0:case 11:case 14:case 15:yi(2,l,s),ft||yi(4,l,s),Kn(i,s,l);break;case 1:ft||(Nn(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Cm(l,s,c)),Kn(i,s,l);break;case 21:Kn(i,s,l);break;case 22:ft=(c=ft)||l.memoizedState!==null,Kn(i,s,l),ft=c;break;default:Kn(i,s,l)}}function Dm(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{es(i)}catch(l){Fe(s,s.return,l)}}}function Um(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{es(i)}catch(l){Fe(s,s.return,l)}}function US(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Rm),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Rm),s;default:throw Error(r(435,i.tag))}}function Pa(i,s){var l=US(i);s.forEach(function(c){if(!l.has(c)){l.add(c);var g=FS.bind(null,i,c);c.then(g,g)}})}function Lt(i,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var g=l[c],v=i,w=s,E=w;e:for(;E!==null;){switch(E.tag){case 27:if(Ei(E.type)){it=E.stateNode,Ot=!1;break e}break;case 5:it=E.stateNode,Ot=!1;break e;case 3:case 4:it=E.stateNode.containerInfo,Ot=!0;break e}E=E.return}if(it===null)throw Error(r(160));zm(v,w,g),it=null,Ot=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Pm(s,i),s=s.sibling}var bn=null;function Pm(i,s){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Lt(s,i),qt(i),c&4&&(yi(3,i,i.return),io(3,i),yi(5,i,i.return));break;case 1:Lt(s,i),qt(i),c&512&&(ft||l===null||Nn(l,l.return)),c&64&&Yn&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var g=bn;if(Lt(s,i),qt(i),c&512&&(ft||l===null||Nn(l,l.return)),c&4){var v=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,g=g.ownerDocument||g;t:switch(c){case"title":v=g.getElementsByTagName("title")[0],(!v||v[Is]||v[bt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(c),g.head.insertBefore(v,g.querySelector("head > title"))),Tt(v,c,l),v[bt]=i,_t(v),c=v;break e;case"link":var w=Pg("link","href",g).get(c+(l.href||""));if(w){for(var E=0;E<w.length;E++)if(v=w[E],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){w.splice(E,1);break t}}v=g.createElement(c),Tt(v,c,l),g.head.appendChild(v);break;case"meta":if(w=Pg("meta","content",g).get(c+(l.content||""))){for(E=0;E<w.length;E++)if(v=w[E],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){w.splice(E,1);break t}}v=g.createElement(c),Tt(v,c,l),g.head.appendChild(v);break;default:throw Error(r(468,c))}v[bt]=i,_t(v),c=v}i.stateNode=c}else Og(g,i.type,i.stateNode);else i.stateNode=Ug(g,c,i.memoizedProps);else v!==c?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,c===null?Og(g,i.type,i.stateNode):Ug(g,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Cc(i,i.memoizedProps,l.memoizedProps)}break;case 27:Lt(s,i),qt(i),c&512&&(ft||l===null||Nn(l,l.return)),l!==null&&c&4&&Cc(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Lt(s,i),qt(i),c&512&&(ft||l===null||Nn(l,l.return)),i.flags&32){g=i.stateNode;try{wr(g,"")}catch(le){Fe(i,i.return,le)}}c&4&&i.stateNode!=null&&(g=i.memoizedProps,Cc(i,g,l!==null?l.memoizedProps:g)),c&1024&&(Nc=!0);break;case 6:if(Lt(s,i),qt(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(le){Fe(i,i.return,le)}}break;case 3:if(Wa=null,g=bn,bn=Xa(s.containerInfo),Lt(s,i),bn=g,qt(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{es(s.containerInfo)}catch(le){Fe(i,i.return,le)}Nc&&(Nc=!1,Om(i));break;case 4:c=bn,bn=Xa(i.stateNode.containerInfo),Lt(s,i),qt(i),bn=c;break;case 12:Lt(s,i),qt(i);break;case 31:Lt(s,i),qt(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Pa(i,c)));break;case 13:Lt(s,i),qt(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(La=It()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Pa(i,c)));break;case 22:g=i.memoizedState!==null;var M=l!==null&&l.memoizedState!==null,H=Yn,j=ft;if(Yn=H||g,ft=j||M,Lt(s,i),ft=j,Yn=H,qt(i),c&8192)e:for(s=i.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||M||Yn||ft||tr(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){M=l=s;try{if(v=M.stateNode,g)w=v.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{E=M.stateNode;var X=M.memoizedProps.style,V=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(le){Fe(M,M.return,le)}}}else if(s.tag===6){if(l===null){M=s;try{M.stateNode.nodeValue=g?"":M.memoizedProps}catch(le){Fe(M,M.return,le)}}}else if(s.tag===18){if(l===null){M=s;try{var G=M.stateNode;g?Cg(G,!0):Cg(M.stateNode,!1)}catch(le){Fe(M,M.return,le)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Pa(i,l))));break;case 19:Lt(s,i),qt(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Pa(i,c)));break;case 30:break;case 21:break;default:Lt(s,i),qt(i)}}function qt(i){var s=i.flags;if(s&2){try{for(var l,c=i.return;c!==null;){if(km(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,v=Ac(i);Ua(i,v,g);break;case 5:var w=l.stateNode;l.flags&32&&(wr(w,""),l.flags&=-33);var E=Ac(i);Ua(i,E,w);break;case 3:case 4:var M=l.stateNode.containerInfo,H=Ac(i);kc(i,H,M);break;default:throw Error(r(161))}}catch(j){Fe(i,i.return,j)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Om(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Om(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Xn(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Im(i,s.alternate,s),s=s.sibling}function tr(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:yi(4,s,s.return),tr(s);break;case 1:Nn(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Cm(s,s.return,l),tr(s);break;case 27:po(s.stateNode);case 26:case 5:Nn(s,s.return),tr(s);break;case 22:s.memoizedState===null&&tr(s);break;case 30:tr(s);break;default:tr(s)}i=i.sibling}}function Qn(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,g=i,v=s,w=v.flags;switch(v.tag){case 0:case 11:case 15:Qn(g,v,l),io(4,v);break;case 1:if(Qn(g,v,l),c=v,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(H){Fe(c,c.return,H)}if(c=v,g=c.updateQueue,g!==null){var E=c.stateNode;try{var M=g.shared.hiddenCallbacks;if(M!==null)for(g.shared.hiddenCallbacks=null,g=0;g<M.length;g++)pp(M[g],E)}catch(H){Fe(c,c.return,H)}}l&&w&64&&Tm(v),ro(v,v.return);break;case 27:Nm(v);case 26:case 5:Qn(g,v,l),l&&c===null&&w&4&&Am(v),ro(v,v.return);break;case 12:Qn(g,v,l);break;case 31:Qn(g,v,l),l&&w&4&&Dm(g,v);break;case 13:Qn(g,v,l),l&&w&4&&Um(g,v);break;case 22:v.memoizedState===null&&Qn(g,v,l),ro(v,v.return);break;case 30:break;default:Qn(g,v,l)}s=s.sibling}}function Rc(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Fs(l))}function Ic(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Fs(i))}function Sn(i,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Lm(i,s,l,c),s=s.sibling}function Lm(i,s,l,c){var g=s.flags;switch(s.tag){case 0:case 11:case 15:Sn(i,s,l,c),g&2048&&io(9,s);break;case 1:Sn(i,s,l,c);break;case 3:Sn(i,s,l,c),g&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Fs(i)));break;case 12:if(g&2048){Sn(i,s,l,c),i=s.stateNode;try{var v=s.memoizedProps,w=v.id,E=v.onPostCommit;typeof E=="function"&&E(w,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(M){Fe(s,s.return,M)}}else Sn(i,s,l,c);break;case 31:Sn(i,s,l,c);break;case 13:Sn(i,s,l,c);break;case 23:break;case 22:v=s.stateNode,w=s.alternate,s.memoizedState!==null?v._visibility&2?Sn(i,s,l,c):so(i,s):v._visibility&2?Sn(i,s,l,c):(v._visibility|=2,Gr(i,s,l,c,(s.subtreeFlags&10256)!==0||!1)),g&2048&&Rc(w,s);break;case 24:Sn(i,s,l,c),g&2048&&Ic(s.alternate,s);break;default:Sn(i,s,l,c)}}function Gr(i,s,l,c,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var v=i,w=s,E=l,M=c,H=w.flags;switch(w.tag){case 0:case 11:case 15:Gr(v,w,E,M,g),io(8,w);break;case 23:break;case 22:var j=w.stateNode;w.memoizedState!==null?j._visibility&2?Gr(v,w,E,M,g):so(v,w):(j._visibility|=2,Gr(v,w,E,M,g)),g&&H&2048&&Rc(w.alternate,w);break;case 24:Gr(v,w,E,M,g),g&&H&2048&&Ic(w.alternate,w);break;default:Gr(v,w,E,M,g)}s=s.sibling}}function so(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,c=s,g=c.flags;switch(c.tag){case 22:so(l,c),g&2048&&Rc(c.alternate,c);break;case 24:so(l,c),g&2048&&Ic(c.alternate,c);break;default:so(l,c)}s=s.sibling}}var oo=8192;function Fr(i,s,l){if(i.subtreeFlags&oo)for(i=i.child;i!==null;)qm(i,s,l),i=i.sibling}function qm(i,s,l){switch(i.tag){case 26:Fr(i,s,l),i.flags&oo&&i.memoizedState!==null&&bw(l,bn,i.memoizedState,i.memoizedProps);break;case 5:Fr(i,s,l);break;case 3:case 4:var c=bn;bn=Xa(i.stateNode.containerInfo),Fr(i,s,l),bn=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=oo,oo=16777216,Fr(i,s,l),oo=c):Fr(i,s,l));break;default:Fr(i,s,l)}}function Bm(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function ao(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];xt=c,Vm(c,i)}Bm(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Hm(i),i=i.sibling}function Hm(i){switch(i.tag){case 0:case 11:case 15:ao(i),i.flags&2048&&yi(9,i,i.return);break;case 3:ao(i);break;case 12:ao(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Oa(i)):ao(i);break;default:ao(i)}}function Oa(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];xt=c,Vm(c,i)}Bm(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:yi(8,s,s.return),Oa(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Oa(s));break;default:Oa(s)}i=i.sibling}}function Vm(i,s){for(;xt!==null;){var l=xt;switch(l.tag){case 0:case 11:case 15:yi(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Fs(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,xt=c;else e:for(l=i;xt!==null;){c=xt;var g=c.sibling,v=c.return;if(Mm(c),c===l){xt=null;break e}if(g!==null){g.return=v,xt=g;break e}xt=v}}}var PS={getCacheForType:function(i){var s=wt(ut),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l},cacheSignal:function(){return wt(ut).controller.signal}},OS=typeof WeakMap=="function"?WeakMap:Map,Be=0,Xe=null,Me=null,De=0,Ge=0,Wt=null,vi=!1,$r=!1,Mc=!1,Wn=0,ot=0,_i=0,nr=0,zc=0,Zt=0,jr=0,lo=null,Bt=null,Dc=!1,La=0,Gm=0,qa=1/0,Ba=null,xi=null,gt=0,bi=null,Jr=null,Zn=0,Uc=0,Pc=null,Fm=null,uo=0,Oc=null;function en(){return(Be&2)!==0&&De!==0?De&-De:L.T!==null?Gc():oh()}function $m(){if(Zt===0)if((De&536870912)===0||Pe){var i=Yo;Yo<<=1,(Yo&3932160)===0&&(Yo=262144),Zt=i}else Zt=536870912;return i=Xt.current,i!==null&&(i.flags|=32),Zt}function Ht(i,s,l){(i===Xe&&(Ge===2||Ge===9)||i.cancelPendingCommit!==null)&&(Yr(i,0),Si(i,De,Zt,!1)),Rs(i,l),((Be&2)===0||i!==Xe)&&(i===Xe&&((Be&2)===0&&(nr|=l),ot===4&&Si(i,De,Zt,!1)),Rn(i))}function jm(i,s,l){if((Be&6)!==0)throw Error(r(327));var c=!l&&(s&127)===0&&(s&i.expiredLanes)===0||Ns(i,s),g=c?BS(i,s):qc(i,s,!0),v=c;do{if(g===0){$r&&!c&&Si(i,s,0,!1);break}else{if(l=i.current.alternate,v&&!LS(l)){g=qc(i,s,!1),v=!1;continue}if(g===2){if(v=s,i.errorRecoveryDisabledLanes&v)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var E=i;g=lo;var M=E.current.memoizedState.isDehydrated;if(M&&(Yr(E,w).flags|=256),w=qc(E,w,!1),w!==2){if(Mc&&!M){E.errorRecoveryDisabledLanes|=v,nr|=v,g=4;break e}v=Bt,Bt=g,v!==null&&(Bt===null?Bt=v:Bt.push.apply(Bt,v))}g=w}if(v=!1,g!==2)continue}}if(g===1){Yr(i,0),Si(i,s,0,!0);break}e:{switch(c=i,v=g,v){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Si(c,s,Zt,!vi);break e;case 2:Bt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(g=La+300-It(),10<g)){if(Si(c,s,Zt,!vi),Xo(c,0,!0)!==0)break e;Zn=s,c.timeoutHandle=wg(Jm.bind(null,c,l,Bt,Ba,Dc,s,Zt,nr,jr,vi,v,"Throttled",-0,0),g);break e}Jm(c,l,Bt,Ba,Dc,s,Zt,nr,jr,vi,v,null,-0,0)}}break}while(!0);Rn(i)}function Jm(i,s,l,c,g,v,w,E,M,H,j,X,V,G){if(i.timeoutHandle=-1,X=s.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ln},qm(s,v,X);var le=(v&62914560)===v?La-It():(v&4194048)===v?Gm-It():0;if(le=Sw(X,le),le!==null){Zn=v,i.cancelPendingCommit=le(tg.bind(null,i,s,v,l,c,g,w,E,M,j,X,null,V,G)),Si(i,v,w,!H);return}}tg(i,s,v,l,c,g,w,E,M)}function LS(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var g=l[c],v=g.getSnapshot;g=g.value;try{if(!Yt(v(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Si(i,s,l,c){s&=~zc,s&=~nr,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var g=s;0<g;){var v=31-Ke(g),w=1<<v;c[v]=-1,g&=~w}l!==0&&ih(i,l,s)}function Ha(){return(Be&6)===0?(co(0),!1):!0}function Lc(){if(Me!==null){if(Ge===0)var i=Me.return;else i=Me,Vn=Ji=null,ec(i),Lr=null,js=0,i=Me;for(;i!==null;)Em(i.alternate,i),i=i.return;Me=null}}function Yr(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,rw(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Zn=0,Lc(),Xe=i,Me=l=Bn(i.current,null),De=s,Ge=0,Wt=null,vi=!1,$r=Ns(i,s),Mc=!1,jr=Zt=zc=nr=_i=ot=0,Bt=lo=null,Dc=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var g=31-Ke(c),v=1<<g;s|=i[g],c&=~v}return Wn=s,la(),l}function Ym(i,s){Ce=null,L.H=eo,s===Or||s===ga?(s=cp(),Ge=3):s===Vu?(s=cp(),Ge=4):Ge=s===gc?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Wt=s,Me===null&&(ot=1,Ra(i,cn(s,i.current)))}function Km(){var i=Xt.current;return i===null?!0:(De&4194048)===De?pn===null:(De&62914560)===De||(De&536870912)!==0?i===pn:!1}function Xm(){var i=L.H;return L.H=eo,i===null?eo:i}function Qm(){var i=L.A;return L.A=PS,i}function Va(){ot=4,vi||(De&4194048)!==De&&Xt.current!==null||($r=!0),(_i&134217727)===0&&(nr&134217727)===0||Xe===null||Si(Xe,De,Zt,!1)}function qc(i,s,l){var c=Be;Be|=2;var g=Xm(),v=Qm();(Xe!==i||De!==s)&&(Ba=null,Yr(i,s)),s=!1;var w=ot;e:do try{if(Ge!==0&&Me!==null){var E=Me,M=Wt;switch(Ge){case 8:Lc(),w=6;break e;case 3:case 2:case 9:case 6:Xt.current===null&&(s=!0);var H=Ge;if(Ge=0,Wt=null,Kr(i,E,M,H),l&&$r){w=0;break e}break;default:H=Ge,Ge=0,Wt=null,Kr(i,E,M,H)}}qS(),w=ot;break}catch(j){Ym(i,j)}while(!0);return s&&i.shellSuspendCounter++,Vn=Ji=null,Be=c,L.H=g,L.A=v,Me===null&&(Xe=null,De=0,la()),w}function qS(){for(;Me!==null;)Wm(Me)}function BS(i,s){var l=Be;Be|=2;var c=Xm(),g=Qm();Xe!==i||De!==s?(Ba=null,qa=It()+500,Yr(i,s)):$r=Ns(i,s);e:do try{if(Ge!==0&&Me!==null){s=Me;var v=Wt;t:switch(Ge){case 1:Ge=0,Wt=null,Kr(i,s,v,1);break;case 2:case 9:if(lp(v)){Ge=0,Wt=null,Zm(s);break}s=function(){Ge!==2&&Ge!==9||Xe!==i||(Ge=7),Rn(i)},v.then(s,s);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:lp(v)?(Ge=0,Wt=null,Zm(s)):(Ge=0,Wt=null,Kr(i,s,v,7));break;case 5:var w=null;switch(Me.tag){case 26:w=Me.memoizedState;case 5:case 27:var E=Me;if(w?Lg(w):E.stateNode.complete){Ge=0,Wt=null;var M=E.sibling;if(M!==null)Me=M;else{var H=E.return;H!==null?(Me=H,Ga(H)):Me=null}break t}}Ge=0,Wt=null,Kr(i,s,v,5);break;case 6:Ge=0,Wt=null,Kr(i,s,v,6);break;case 8:Lc(),ot=6;break e;default:throw Error(r(462))}}HS();break}catch(j){Ym(i,j)}while(!0);return Vn=Ji=null,L.H=c,L.A=g,Be=l,Me!==null?0:(Xe=null,De=0,la(),ot)}function HS(){for(;Me!==null&&!Wl();)Wm(Me)}function Wm(i){var s=Sm(i.alternate,i,Wn);i.memoizedProps=i.pendingProps,s===null?Ga(i):Me=s}function Zm(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=gm(l,s,s.pendingProps,s.type,void 0,De);break;case 11:s=gm(l,s,s.pendingProps,s.type.render,s.ref,De);break;case 5:ec(s);default:Em(l,s),s=Me=Qh(s,Wn),s=Sm(l,s,Wn)}i.memoizedProps=i.pendingProps,s===null?Ga(i):Me=s}function Kr(i,s,l,c){Vn=Ji=null,ec(s),Lr=null,js=0;var g=s.return;try{if(NS(i,g,s,l,De)){ot=1,Ra(i,cn(l,i.current)),Me=null;return}}catch(v){if(g!==null)throw Me=g,v;ot=1,Ra(i,cn(l,i.current)),Me=null;return}s.flags&32768?(Pe||c===1?i=!0:$r||(De&536870912)!==0?i=!1:(vi=i=!0,(c===2||c===9||c===3||c===6)&&(c=Xt.current,c!==null&&c.tag===13&&(c.flags|=16384))),eg(s,i)):Ga(s)}function Ga(i){var s=i;do{if((s.flags&32768)!==0){eg(s,vi);return}i=s.return;var l=MS(s.alternate,s,Wn);if(l!==null){Me=l;return}if(s=s.sibling,s!==null){Me=s;return}Me=s=i}while(s!==null);ot===0&&(ot=5)}function eg(i,s){do{var l=zS(i.alternate,i);if(l!==null){l.flags&=32767,Me=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){Me=i;return}Me=i=l}while(i!==null);ot=6,Me=null}function tg(i,s,l,c,g,v,w,E,M){i.cancelPendingCommit=null;do Fa();while(gt!==0);if((Be&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(v=s.lanes|s.childLanes,v|=Au,xb(i,l,v,w,E,M),i===Xe&&(Me=Xe=null,De=0),Jr=s,bi=i,Zn=l,Uc=v,Pc=g,Fm=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,$S(be,function(){return og(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=L.T,L.T=null,g=ee.p,ee.p=2,w=Be,Be|=4;try{DS(i,s,l)}finally{Be=w,ee.p=g,L.T=c}}gt=1,ng(),ig(),rg()}}function ng(){if(gt===1){gt=0;var i=bi,s=Jr,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=L.T,L.T=null;var c=ee.p;ee.p=2;var g=Be;Be|=4;try{Pm(s,i);var v=Qc,w=Vh(i.containerInfo),E=v.focusedElem,M=v.selectionRange;if(w!==E&&E&&E.ownerDocument&&Hh(E.ownerDocument.documentElement,E)){if(M!==null&&Su(E)){var H=M.start,j=M.end;if(j===void 0&&(j=H),"selectionStart"in E)E.selectionStart=H,E.selectionEnd=Math.min(j,E.value.length);else{var X=E.ownerDocument||document,V=X&&X.defaultView||window;if(V.getSelection){var G=V.getSelection(),le=E.textContent.length,_e=Math.min(M.start,le),Je=M.end===void 0?_e:Math.min(M.end,le);!G.extend&&_e>Je&&(w=Je,Je=_e,_e=w);var O=Bh(E,_e),D=Bh(E,Je);if(O&&D&&(G.rangeCount!==1||G.anchorNode!==O.node||G.anchorOffset!==O.offset||G.focusNode!==D.node||G.focusOffset!==D.offset)){var B=X.createRange();B.setStart(O.node,O.offset),G.removeAllRanges(),_e>Je?(G.addRange(B),G.extend(D.node,D.offset)):(B.setEnd(D.node,D.offset),G.addRange(B))}}}}for(X=[],G=E;G=G.parentNode;)G.nodeType===1&&X.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}nl=!!Xc,Qc=Xc=null}finally{Be=g,ee.p=c,L.T=l}}i.current=s,gt=2}}function ig(){if(gt===2){gt=0;var i=bi,s=Jr,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=L.T,L.T=null;var c=ee.p;ee.p=2;var g=Be;Be|=4;try{Im(i,s.alternate,s)}finally{Be=g,ee.p=c,L.T=l}}gt=3}}function rg(){if(gt===4||gt===3){gt=0,Zl();var i=bi,s=Jr,l=Zn,c=Fm;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?gt=5:(gt=0,Jr=bi=null,sg(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(xi=null),iu(l),s=s.stateNode,mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(Mt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=L.T,g=ee.p,ee.p=2,L.T=null;try{for(var v=i.onRecoverableError,w=0;w<c.length;w++){var E=c[w];v(E.value,{componentStack:E.stack})}}finally{L.T=s,ee.p=g}}(Zn&3)!==0&&Fa(),Rn(i),g=i.pendingLanes,(l&261930)!==0&&(g&42)!==0?i===Oc?uo++:(uo=0,Oc=i):uo=0,co(0)}}function sg(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Fs(s)))}function Fa(){return ng(),ig(),rg(),og()}function og(){if(gt!==5)return!1;var i=bi,s=Uc;Uc=0;var l=iu(Zn),c=L.T,g=ee.p;try{ee.p=32>l?32:l,L.T=null,l=Pc,Pc=null;var v=bi,w=Zn;if(gt=0,Jr=bi=null,Zn=0,(Be&6)!==0)throw Error(r(331));var E=Be;if(Be|=4,Hm(v.current),Lm(v,v.current,w,l),Be=E,co(0,!1),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(Mt,v)}catch{}return!0}finally{ee.p=g,L.T=c,sg(i,s)}}function ag(i,s,l){s=cn(l,s),s=mc(i.stateNode,s,2),i=pi(i,s,2),i!==null&&(Rs(i,2),Rn(i))}function Fe(i,s,l){if(i.tag===3)ag(i,i,l);else for(;s!==null;){if(s.tag===3){ag(s,i,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(xi===null||!xi.has(c))){i=cn(l,i),l=lm(2),c=pi(s,l,2),c!==null&&(um(l,c,s,i),Rs(c,2),Rn(c));break}}s=s.return}}function Bc(i,s,l){var c=i.pingCache;if(c===null){c=i.pingCache=new OS;var g=new Set;c.set(s,g)}else g=c.get(s),g===void 0&&(g=new Set,c.set(s,g));g.has(l)||(Mc=!0,g.add(l),i=VS.bind(null,i,s,l),s.then(i,i))}function VS(i,s,l){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Xe===i&&(De&l)===l&&(ot===4||ot===3&&(De&62914560)===De&&300>It()-La?(Be&2)===0&&Yr(i,0):zc|=l,jr===De&&(jr=0)),Rn(i)}function lg(i,s){s===0&&(s=nh()),i=Fi(i,s),i!==null&&(Rs(i,s),Rn(i))}function GS(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),lg(i,l)}function FS(i,s){var l=0;switch(i.tag){case 31:case 13:var c=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),lg(i,l)}function $S(i,s){return gr(i,s)}var $a=null,Xr=null,Hc=!1,ja=!1,Vc=!1,wi=0;function Rn(i){i!==Xr&&i.next===null&&(Xr===null?$a=Xr=i:Xr=Xr.next=i),ja=!0,Hc||(Hc=!0,JS())}function co(i,s){if(!Vc&&ja){Vc=!0;do for(var l=!1,c=$a;c!==null;){if(i!==0){var g=c.pendingLanes;if(g===0)var v=0;else{var w=c.suspendedLanes,E=c.pingedLanes;v=(1<<31-Ke(42|i)+1)-1,v&=g&~(w&~E),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,fg(c,v))}else v=De,v=Xo(c,c===Xe?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||Ns(c,v)||(l=!0,fg(c,v));c=c.next}while(l);Vc=!1}}function jS(){ug()}function ug(){ja=Hc=!1;var i=0;wi!==0&&iw()&&(i=wi);for(var s=It(),l=null,c=$a;c!==null;){var g=c.next,v=cg(c,s);v===0?(c.next=null,l===null?$a=g:l.next=g,g===null&&(Xr=l)):(l=c,(i!==0||(v&3)!==0)&&(ja=!0)),c=g}gt!==0&&gt!==5||co(i),wi!==0&&(wi=0)}function cg(i,s){for(var l=i.suspendedLanes,c=i.pingedLanes,g=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var w=31-Ke(v),E=1<<w,M=g[w];M===-1?((E&l)===0||(E&c)!==0)&&(g[w]=_b(E,s)):M<=s&&(i.expiredLanes|=E),v&=~E}if(s=Xe,l=De,l=Xo(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===s&&(Ge===2||Ge===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&ks(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Ns(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(c!==null&&ks(c),iu(l)){case 2:case 8:l=re;break;case 32:l=be;break;case 268435456:l=Ve;break;default:l=be}return c=dg.bind(null,i),l=gr(l,c),i.callbackPriority=s,i.callbackNode=l,s}return c!==null&&c!==null&&ks(c),i.callbackPriority=2,i.callbackNode=null,2}function dg(i,s){if(gt!==0&&gt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Fa()&&i.callbackNode!==l)return null;var c=De;return c=Xo(i,i===Xe?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(jm(i,c,s),cg(i,It()),i.callbackNode!=null&&i.callbackNode===l?dg.bind(null,i):null)}function fg(i,s){if(Fa())return null;jm(i,s,!0)}function JS(){sw(function(){(Be&6)!==0?gr(J,jS):ug()})}function Gc(){if(wi===0){var i=Ur;i===0&&(i=Jo,Jo<<=1,(Jo&261888)===0&&(Jo=256)),wi=i}return wi}function hg(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ea(""+i)}function pg(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function YS(i,s,l,c,g){if(s==="submit"&&l&&l.stateNode===g){var v=hg((g[Ut]||null).action),w=c.submitter;w&&(s=(s=w[Ut]||null)?hg(s.formAction):w.getAttribute("formAction"),s!==null&&(v=s,w=null));var E=new ra("action","action",null,c,g);i.push({event:E,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(wi!==0){var M=w?pg(g,w):new FormData(g);uc(l,{pending:!0,data:M,method:g.method,action:v},null,M)}}else typeof v=="function"&&(E.preventDefault(),M=w?pg(g,w):new FormData(g),uc(l,{pending:!0,data:M,method:g.method,action:v},v,M))},currentTarget:g}]})}}for(var Fc=0;Fc<Cu.length;Fc++){var $c=Cu[Fc],KS=$c.toLowerCase(),XS=$c[0].toUpperCase()+$c.slice(1);xn(KS,"on"+XS)}xn($h,"onAnimationEnd"),xn(jh,"onAnimationIteration"),xn(Jh,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(fS,"onTransitionRun"),xn(hS,"onTransitionStart"),xn(pS,"onTransitionCancel"),xn(Yh,"onTransitionEnd"),br("onMouseEnter",["mouseout","mouseover"]),br("onMouseLeave",["mouseout","mouseover"]),br("onPointerEnter",["pointerout","pointerover"]),br("onPointerLeave",["pointerout","pointerover"]),Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fo));function mg(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],g=c.event;c=c.listeners;e:{var v=void 0;if(s)for(var w=c.length-1;0<=w;w--){var E=c[w],M=E.instance,H=E.currentTarget;if(E=E.listener,M!==v&&g.isPropagationStopped())break e;v=E,g.currentTarget=H;try{v(g)}catch(j){aa(j)}g.currentTarget=null,v=M}else for(w=0;w<c.length;w++){if(E=c[w],M=E.instance,H=E.currentTarget,E=E.listener,M!==v&&g.isPropagationStopped())break e;v=E,g.currentTarget=H;try{v(g)}catch(j){aa(j)}g.currentTarget=null,v=M}}}}function ze(i,s){var l=s[ru];l===void 0&&(l=s[ru]=new Set);var c=i+"__bubble";l.has(c)||(gg(s,i,2,!1),l.add(c))}function jc(i,s,l){var c=0;s&&(c|=4),gg(l,i,c,s)}var Ja="_reactListening"+Math.random().toString(36).slice(2);function Jc(i){if(!i[Ja]){i[Ja]=!0,uh.forEach(function(l){l!=="selectionchange"&&(QS.has(l)||jc(l,!1,i),jc(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Ja]||(s[Ja]=!0,jc("selectionchange",!1,s))}}function gg(i,s,l,c){switch($g(s)){case 2:var g=Tw;break;case 8:g=Cw;break;default:g=ld}l=g.bind(null,s,l,i),g=void 0,!hu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),c?g!==void 0?i.addEventListener(s,l,{capture:!0,passive:g}):i.addEventListener(s,l,!0):g!==void 0?i.addEventListener(s,l,{passive:g}):i.addEventListener(s,l,!1)}function Yc(i,s,l,c,g){var v=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var E=c.stateNode.containerInfo;if(E===g)break;if(w===4)for(w=c.return;w!==null;){var M=w.tag;if((M===3||M===4)&&w.stateNode.containerInfo===g)return;w=w.return}for(;E!==null;){if(w=vr(E),w===null)return;if(M=w.tag,M===5||M===6||M===26||M===27){c=v=w;continue e}E=E.parentNode}}c=c.return}bh(function(){var H=v,j=du(l),X=[];e:{var V=Kh.get(i);if(V!==void 0){var G=ra,le=i;switch(i){case"keypress":if(na(l)===0)break e;case"keydown":case"keyup":G=Fb;break;case"focusin":le="focus",G=yu;break;case"focusout":le="blur",G=yu;break;case"beforeblur":case"afterblur":G=yu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Eh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Mb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Jb;break;case $h:case jh:case Jh:G=Ub;break;case Yh:G=Kb;break;case"scroll":case"scrollend":G=Rb;break;case"wheel":G=Qb;break;case"copy":case"cut":case"paste":G=Ob;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Ch;break;case"toggle":case"beforetoggle":G=Zb}var _e=(s&4)!==0,Je=!_e&&(i==="scroll"||i==="scrollend"),O=_e?V!==null?V+"Capture":null:V;_e=[];for(var D=H,B;D!==null;){var K=D;if(B=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||B===null||O===null||(K=zs(D,O),K!=null&&_e.push(ho(D,K,B))),Je)break;D=D.return}0<_e.length&&(V=new G(V,le,null,l,j),X.push({event:V,listeners:_e}))}}if((s&7)===0){e:{if(V=i==="mouseover"||i==="pointerover",G=i==="mouseout"||i==="pointerout",V&&l!==cu&&(le=l.relatedTarget||l.fromElement)&&(vr(le)||le[yr]))break e;if((G||V)&&(V=j.window===j?j:(V=j.ownerDocument)?V.defaultView||V.parentWindow:window,G?(le=l.relatedTarget||l.toElement,G=H,le=le?vr(le):null,le!==null&&(Je=a(le),_e=le.tag,le!==Je||_e!==5&&_e!==27&&_e!==6)&&(le=null)):(G=null,le=H),G!==le)){if(_e=Eh,K="onMouseLeave",O="onMouseEnter",D="mouse",(i==="pointerout"||i==="pointerover")&&(_e=Ch,K="onPointerLeave",O="onPointerEnter",D="pointer"),Je=G==null?V:Ms(G),B=le==null?V:Ms(le),V=new _e(K,D+"leave",G,l,j),V.target=Je,V.relatedTarget=B,K=null,vr(j)===H&&(_e=new _e(O,D+"enter",le,l,j),_e.target=B,_e.relatedTarget=Je,K=_e),Je=K,G&&le)t:{for(_e=WS,O=G,D=le,B=0,K=O;K;K=_e(K))B++;K=0;for(var ye=D;ye;ye=_e(ye))K++;for(;0<B-K;)O=_e(O),B--;for(;0<K-B;)D=_e(D),K--;for(;B--;){if(O===D||D!==null&&O===D.alternate){_e=O;break t}O=_e(O),D=_e(D)}_e=null}else _e=null;G!==null&&yg(X,V,G,_e,!1),le!==null&&Je!==null&&yg(X,Je,le,_e,!0)}}e:{if(V=H?Ms(H):window,G=V.nodeName&&V.nodeName.toLowerCase(),G==="select"||G==="input"&&V.type==="file")var Oe=Dh;else if(Mh(V))if(Uh)Oe=uS;else{Oe=aS;var pe=oS}else G=V.nodeName,!G||G.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?H&&uu(H.elementType)&&(Oe=Dh):Oe=lS;if(Oe&&(Oe=Oe(i,H))){zh(X,Oe,l,j);break e}pe&&pe(i,V,H),i==="focusout"&&H&&V.type==="number"&&H.memoizedProps.value!=null&&lu(V,"number",V.value)}switch(pe=H?Ms(H):window,i){case"focusin":(Mh(pe)||pe.contentEditable==="true")&&(Ar=pe,wu=H,Hs=null);break;case"focusout":Hs=wu=Ar=null;break;case"mousedown":Eu=!0;break;case"contextmenu":case"mouseup":case"dragend":Eu=!1,Gh(X,l,j);break;case"selectionchange":if(dS)break;case"keydown":case"keyup":Gh(X,l,j)}var ke;if(_u)e:{switch(i){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Cr?Rh(i,l)&&(Ue="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ue="onCompositionStart");Ue&&(Ah&&l.locale!=="ko"&&(Cr||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Cr&&(ke=Sh()):(ai=j,pu="value"in ai?ai.value:ai.textContent,Cr=!0)),pe=Ya(H,Ue),0<pe.length&&(Ue=new Th(Ue,i,null,l,j),X.push({event:Ue,listeners:pe}),ke?Ue.data=ke:(ke=Ih(l),ke!==null&&(Ue.data=ke)))),(ke=tS?nS(i,l):iS(i,l))&&(Ue=Ya(H,"onBeforeInput"),0<Ue.length&&(pe=new Th("onBeforeInput","beforeinput",null,l,j),X.push({event:pe,listeners:Ue}),pe.data=ke)),YS(X,i,H,l,j)}mg(X,s)})}function ho(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Ya(i,s){for(var l=s+"Capture",c=[];i!==null;){var g=i,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=zs(i,l),g!=null&&c.unshift(ho(i,g,v)),g=zs(i,s),g!=null&&c.push(ho(i,g,v))),i.tag===3)return c;i=i.return}return[]}function WS(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function yg(i,s,l,c,g){for(var v=s._reactName,w=[];l!==null&&l!==c;){var E=l,M=E.alternate,H=E.stateNode;if(E=E.tag,M!==null&&M===c)break;E!==5&&E!==26&&E!==27||H===null||(M=H,g?(H=zs(l,v),H!=null&&w.unshift(ho(l,H,M))):g||(H=zs(l,v),H!=null&&w.push(ho(l,H,M)))),l=l.return}w.length!==0&&i.push({event:s,listeners:w})}var ZS=/\r\n?/g,ew=/\u0000|\uFFFD/g;function vg(i){return(typeof i=="string"?i:""+i).replace(ZS,`
`).replace(ew,"")}function _g(i,s){return s=vg(s),vg(i)===s}function je(i,s,l,c,g,v){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||wr(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&wr(i,""+c);break;case"className":Wo(i,"class",c);break;case"tabIndex":Wo(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Wo(i,l,c);break;case"style":_h(i,c,v);break;case"data":if(s!=="object"){Wo(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=ea(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(s!=="input"&&je(i,s,"name",g.name,g,null),je(i,s,"formEncType",g.formEncType,g,null),je(i,s,"formMethod",g.formMethod,g,null),je(i,s,"formTarget",g.formTarget,g,null)):(je(i,s,"encType",g.encType,g,null),je(i,s,"method",g.method,g,null),je(i,s,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=ea(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=Ln);break;case"onScroll":c!=null&&ze("scroll",i);break;case"onScrollEnd":c!=null&&ze("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=ea(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":ze("beforetoggle",i),ze("toggle",i),Qo(i,"popover",c);break;case"xlinkActuate":On(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":On(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":On(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":On(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":On(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":On(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":On(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":On(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":On(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Qo(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=kb.get(l)||l,Qo(i,l,c))}}function Kc(i,s,l,c,g,v){switch(l){case"style":_h(i,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?wr(i,c):(typeof c=="number"||typeof c=="bigint")&&wr(i,""+c);break;case"onScroll":c!=null&&ze("scroll",i);break;case"onScrollEnd":c!=null&&ze("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ch.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),v=i[Ut]||null,v=v!=null?v[l]:null,typeof v=="function"&&i.removeEventListener(s,v,g),typeof c=="function")){typeof v!="function"&&v!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,c,g);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):Qo(i,l,c)}}}function Tt(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",i),ze("load",i);var c=!1,g=!1,v;for(v in l)if(l.hasOwnProperty(v)){var w=l[v];if(w!=null)switch(v){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:je(i,s,v,w,l,null)}}g&&je(i,s,"srcSet",l.srcSet,l,null),c&&je(i,s,"src",l.src,l,null);return;case"input":ze("invalid",i);var E=v=w=g=null,M=null,H=null;for(c in l)if(l.hasOwnProperty(c)){var j=l[c];if(j!=null)switch(c){case"name":g=j;break;case"type":w=j;break;case"checked":M=j;break;case"defaultChecked":H=j;break;case"value":v=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,s));break;default:je(i,s,c,j,l,null)}}mh(i,v,E,M,H,w,g,!1);return;case"select":ze("invalid",i),c=w=v=null;for(g in l)if(l.hasOwnProperty(g)&&(E=l[g],E!=null))switch(g){case"value":v=E;break;case"defaultValue":w=E;break;case"multiple":c=E;default:je(i,s,g,E,l,null)}s=v,l=w,i.multiple=!!c,s!=null?Sr(i,!!c,s,!1):l!=null&&Sr(i,!!c,l,!0);return;case"textarea":ze("invalid",i),v=g=c=null;for(w in l)if(l.hasOwnProperty(w)&&(E=l[w],E!=null))switch(w){case"value":c=E;break;case"defaultValue":g=E;break;case"children":v=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:je(i,s,w,E,l,null)}yh(i,c,g,v);return;case"option":for(M in l)if(l.hasOwnProperty(M)&&(c=l[M],c!=null))switch(M){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:je(i,s,M,c,l,null)}return;case"dialog":ze("beforetoggle",i),ze("toggle",i),ze("cancel",i),ze("close",i);break;case"iframe":case"object":ze("load",i);break;case"video":case"audio":for(c=0;c<fo.length;c++)ze(fo[c],i);break;case"image":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"embed":case"source":case"link":ze("error",i),ze("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in l)if(l.hasOwnProperty(H)&&(c=l[H],c!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:je(i,s,H,c,l,null)}return;default:if(uu(s)){for(j in l)l.hasOwnProperty(j)&&(c=l[j],c!==void 0&&Kc(i,s,j,c,l,void 0));return}}for(E in l)l.hasOwnProperty(E)&&(c=l[E],c!=null&&je(i,s,E,c,l,null))}function tw(i,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,w=null,E=null,M=null,H=null,j=null;for(G in l){var X=l[G];if(l.hasOwnProperty(G)&&X!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":M=X;default:c.hasOwnProperty(G)||je(i,s,G,null,c,X)}}for(var V in c){var G=c[V];if(X=l[V],c.hasOwnProperty(V)&&(G!=null||X!=null))switch(V){case"type":v=G;break;case"name":g=G;break;case"checked":H=G;break;case"defaultChecked":j=G;break;case"value":w=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:G!==X&&je(i,s,V,G,c,X)}}au(i,w,E,M,H,j,v,g);return;case"select":G=w=E=V=null;for(v in l)if(M=l[v],l.hasOwnProperty(v)&&M!=null)switch(v){case"value":break;case"multiple":G=M;default:c.hasOwnProperty(v)||je(i,s,v,null,c,M)}for(g in c)if(v=c[g],M=l[g],c.hasOwnProperty(g)&&(v!=null||M!=null))switch(g){case"value":V=v;break;case"defaultValue":E=v;break;case"multiple":w=v;default:v!==M&&je(i,s,g,v,c,M)}s=E,l=w,c=G,V!=null?Sr(i,!!l,V,!1):!!c!=!!l&&(s!=null?Sr(i,!!l,s,!0):Sr(i,!!l,l?[]:"",!1));return;case"textarea":G=V=null;for(E in l)if(g=l[E],l.hasOwnProperty(E)&&g!=null&&!c.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:je(i,s,E,null,c,g)}for(w in c)if(g=c[w],v=l[w],c.hasOwnProperty(w)&&(g!=null||v!=null))switch(w){case"value":V=g;break;case"defaultValue":G=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==v&&je(i,s,w,g,c,v)}gh(i,V,G);return;case"option":for(var le in l)if(V=l[le],l.hasOwnProperty(le)&&V!=null&&!c.hasOwnProperty(le))switch(le){case"selected":i.selected=!1;break;default:je(i,s,le,null,c,V)}for(M in c)if(V=c[M],G=l[M],c.hasOwnProperty(M)&&V!==G&&(V!=null||G!=null))switch(M){case"selected":i.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:je(i,s,M,V,c,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in l)V=l[_e],l.hasOwnProperty(_e)&&V!=null&&!c.hasOwnProperty(_e)&&je(i,s,_e,null,c,V);for(H in c)if(V=c[H],G=l[H],c.hasOwnProperty(H)&&V!==G&&(V!=null||G!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,s));break;default:je(i,s,H,V,c,G)}return;default:if(uu(s)){for(var Je in l)V=l[Je],l.hasOwnProperty(Je)&&V!==void 0&&!c.hasOwnProperty(Je)&&Kc(i,s,Je,void 0,c,V);for(j in c)V=c[j],G=l[j],!c.hasOwnProperty(j)||V===G||V===void 0&&G===void 0||Kc(i,s,j,V,c,G);return}}for(var O in l)V=l[O],l.hasOwnProperty(O)&&V!=null&&!c.hasOwnProperty(O)&&je(i,s,O,null,c,V);for(X in c)V=c[X],G=l[X],!c.hasOwnProperty(X)||V===G||V==null&&G==null||je(i,s,X,V,c,G)}function xg(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nw(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var g=l[c],v=g.transferSize,w=g.initiatorType,E=g.duration;if(v&&E&&xg(w)){for(w=0,E=g.responseEnd,c+=1;c<l.length;c++){var M=l[c],H=M.startTime;if(H>E)break;var j=M.transferSize,X=M.initiatorType;j&&xg(X)&&(M=M.responseEnd,w+=j*(M<E?1:(E-H)/(M-H)))}if(--c,s+=8*(v+w)/(g.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Xc=null,Qc=null;function Ka(i){return i.nodeType===9?i:i.ownerDocument}function bg(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sg(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Wc(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Zc=null;function iw(){var i=window.event;return i&&i.type==="popstate"?i===Zc?!1:(Zc=i,!0):(Zc=null,!1)}var wg=typeof setTimeout=="function"?setTimeout:void 0,rw=typeof clearTimeout=="function"?clearTimeout:void 0,Eg=typeof Promise=="function"?Promise:void 0,sw=typeof queueMicrotask=="function"?queueMicrotask:typeof Eg<"u"?function(i){return Eg.resolve(null).then(i).catch(ow)}:wg;function ow(i){setTimeout(function(){throw i})}function Ei(i){return i==="head"}function Tg(i,s){var l=s,c=0;do{var g=l.nextSibling;if(i.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(c===0){i.removeChild(g),es(s);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")po(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,po(l);for(var v=l.firstChild;v;){var w=v.nextSibling,E=v.nodeName;v[Is]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&v.rel.toLowerCase()==="stylesheet"||l.removeChild(v),v=w}}else l==="body"&&po(i.ownerDocument.body);l=g}while(l);es(s)}function Cg(i,s){var l=i;i=0;do{var c=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=c}while(l)}function ed(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ed(l),su(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function aw(i,s,l,c){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Is])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=mn(i.nextSibling),i===null)break}return null}function lw(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=mn(i.nextSibling),i===null))return null;return i}function Ag(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=mn(i.nextSibling),i===null))return null;return i}function td(i){return i.data==="$?"||i.data==="$~"}function nd(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function uw(i,s){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||l.readyState!=="loading")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function mn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var id=null;function kg(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(s===0)return mn(i.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}i=i.nextSibling}return null}function Ng(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return i;s--}else l!=="/$"&&l!=="/&"||s++}i=i.previousSibling}return null}function Rg(i,s,l){switch(s=Ka(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function po(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);su(i)}var gn=new Map,Ig=new Set;function Xa(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ei=ee.d;ee.d={f:cw,r:dw,D:fw,C:hw,L:pw,m:mw,X:yw,S:gw,M:vw};function cw(){var i=ei.f(),s=Ha();return i||s}function dw(i){var s=_r(i);s!==null&&s.tag===5&&s.type==="form"?Yp(s):ei.r(i)}var Qr=typeof document>"u"?null:document;function Mg(i,s,l){var c=Qr;if(c&&typeof s=="string"&&s){var g=ln(s);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Ig.has(g)||(Ig.add(g),i={rel:i,crossOrigin:l,href:s},c.querySelector(g)===null&&(s=c.createElement("link"),Tt(s,"link",i),_t(s),c.head.appendChild(s)))}}function fw(i){ei.D(i),Mg("dns-prefetch",i,null)}function hw(i,s){ei.C(i,s),Mg("preconnect",i,s)}function pw(i,s,l){ei.L(i,s,l);var c=Qr;if(c&&i&&s){var g='link[rel="preload"][as="'+ln(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+ln(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+ln(l.imageSizes)+'"]')):g+='[href="'+ln(i)+'"]';var v=g;switch(s){case"style":v=Wr(i);break;case"script":v=Zr(i)}gn.has(v)||(i=_({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),gn.set(v,i),c.querySelector(g)!==null||s==="style"&&c.querySelector(mo(v))||s==="script"&&c.querySelector(go(v))||(s=c.createElement("link"),Tt(s,"link",i),_t(s),c.head.appendChild(s)))}}function mw(i,s){ei.m(i,s);var l=Qr;if(l&&i){var c=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+ln(c)+'"][href="'+ln(i)+'"]',v=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Zr(i)}if(!gn.has(v)&&(i=_({rel:"modulepreload",href:i},s),gn.set(v,i),l.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(go(v)))return}c=l.createElement("link"),Tt(c,"link",i),_t(c),l.head.appendChild(c)}}}function gw(i,s,l){ei.S(i,s,l);var c=Qr;if(c&&i){var g=xr(c).hoistableStyles,v=Wr(i);s=s||"default";var w=g.get(v);if(!w){var E={loading:0,preload:null};if(w=c.querySelector(mo(v)))E.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":s},l),(l=gn.get(v))&&rd(i,l);var M=w=c.createElement("link");_t(M),Tt(M,"link",i),M._p=new Promise(function(H,j){M.onload=H,M.onerror=j}),M.addEventListener("load",function(){E.loading|=1}),M.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Qa(w,s,c)}w={type:"stylesheet",instance:w,count:1,state:E},g.set(v,w)}}}function yw(i,s){ei.X(i,s);var l=Qr;if(l&&i){var c=xr(l).hoistableScripts,g=Zr(i),v=c.get(g);v||(v=l.querySelector(go(g)),v||(i=_({src:i,async:!0},s),(s=gn.get(g))&&sd(i,s),v=l.createElement("script"),_t(v),Tt(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(g,v))}}function vw(i,s){ei.M(i,s);var l=Qr;if(l&&i){var c=xr(l).hoistableScripts,g=Zr(i),v=c.get(g);v||(v=l.querySelector(go(g)),v||(i=_({src:i,async:!0,type:"module"},s),(s=gn.get(g))&&sd(i,s),v=l.createElement("script"),_t(v),Tt(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(g,v))}}function zg(i,s,l,c){var g=(g=he.current)?Xa(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Wr(l.href),l=xr(g).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Wr(l.href);var v=xr(g).hoistableStyles,w=v.get(i);if(w||(g=g.ownerDocument||g,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,w),(v=g.querySelector(mo(i)))&&!v._p&&(w.instance=v,w.state.loading=5),gn.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},gn.set(i,l),v||_w(g,i,l,w.state))),s&&c===null)throw Error(r(528,""));return w}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Zr(l),l=xr(g).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Wr(i){return'href="'+ln(i)+'"'}function mo(i){return'link[rel="stylesheet"]['+i+"]"}function Dg(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function _w(i,s,l,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Tt(s,"link",l),_t(s),i.head.appendChild(s))}function Zr(i){return'[src="'+ln(i)+'"]'}function go(i){return"script[async]"+i}function Ug(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+ln(l.href)+'"]');if(c)return s.instance=c,_t(c),c;var g=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),_t(c),Tt(c,"style",g),Qa(c,l.precedence,i),s.instance=c;case"stylesheet":g=Wr(l.href);var v=i.querySelector(mo(g));if(v)return s.state.loading|=4,s.instance=v,_t(v),v;c=Dg(l),(g=gn.get(g))&&rd(c,g),v=(i.ownerDocument||i).createElement("link"),_t(v);var w=v;return w._p=new Promise(function(E,M){w.onload=E,w.onerror=M}),Tt(v,"link",c),s.state.loading|=4,Qa(v,l.precedence,i),s.instance=v;case"script":return v=Zr(l.src),(g=i.querySelector(go(v)))?(s.instance=g,_t(g),g):(c=l,(g=gn.get(v))&&(c=_({},l),sd(c,g)),i=i.ownerDocument||i,g=i.createElement("script"),_t(g),Tt(g,"link",c),i.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Qa(c,l.precedence,i));return s.instance}function Qa(i,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,v=g,w=0;w<c.length;w++){var E=c[w];if(E.dataset.precedence===s)v=E;else if(v!==g)break}v?v.parentNode.insertBefore(i,v.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function rd(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function sd(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Wa=null;function Pg(i,s,l){if(Wa===null){var c=new Map,g=Wa=new Map;g.set(l,c)}else g=Wa,c=g.get(l),c||(c=new Map,g.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var v=l[g];if(!(v[Is]||v[bt]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var w=v.getAttribute(s)||"";w=i+w;var E=c.get(w);E?E.push(v):c.set(w,[v])}}return c}function Og(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function xw(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Lg(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function bw(i,s,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=Wr(c.href),v=s.querySelector(mo(g));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Za.bind(i),s.then(i,i)),l.state.loading|=4,l.instance=v,_t(v);return}v=s.ownerDocument||s,c=Dg(c),(g=gn.get(g))&&rd(c,g),v=v.createElement("link"),_t(v);var w=v;w._p=new Promise(function(E,M){w.onload=E,w.onerror=M}),Tt(v,"link",c),l.instance=v}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Za.bind(i),s.addEventListener("load",l),s.addEventListener("error",l))}}var od=0;function Sw(i,s){return i.stylesheets&&i.count===0&&tl(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var c=setTimeout(function(){if(i.stylesheets&&tl(i,i.stylesheets),i.unsuspend){var v=i.unsuspend;i.unsuspend=null,v()}},6e4+s);0<i.imgBytes&&od===0&&(od=62500*nw());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&tl(i,i.stylesheets),i.unsuspend)){var v=i.unsuspend;i.unsuspend=null,v()}},(i.imgBytes>od?50:800)+s);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(g)}}:null}function Za(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)tl(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var el=null;function tl(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,el=new Map,s.forEach(ww,i),el=null,Za.call(i))}function ww(i,s){if(!(s.state.loading&4)){var l=el.get(i);if(l)var c=l.get(null);else{l=new Map,el.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var w=g[v];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(l.set(w.dataset.precedence,w),c=w)}c&&l.set(null,c)}g=s.instance,w=g.getAttribute("data-precedence"),v=l.get(w)||c,v===c&&l.set(null,g),l.set(w,g),this.count++,c=Za.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),v?v.parentNode.insertBefore(g,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),s.state.loading|=4}}var yo={$$typeof:N,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function Ew(i,s,l,c,g,v,w,E,M){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=tu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tu(0),this.hiddenUpdates=tu(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function qg(i,s,l,c,g,v,w,E,M,H,j,X){return i=new Ew(i,s,l,w,M,H,j,X,E),s=1,v===!0&&(s|=24),v=Kt(3,null,null,s),i.current=v,v.stateNode=i,s=qu(),s.refCount++,i.pooledCache=s,s.refCount++,v.memoizedState={element:c,isDehydrated:l,cache:s},Gu(v),i}function Bg(i){return i?(i=Rr,i):Rr}function Hg(i,s,l,c,g,v){g=Bg(g),c.context===null?c.context=g:c.pendingContext=g,c=hi(s),c.payload={element:l},v=v===void 0?null:v,v!==null&&(c.callback=v),l=pi(i,c,s),l!==null&&(Ht(l,i,s),Ys(l,i,s))}function Vg(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function ad(i,s){Vg(i,s),(i=i.alternate)&&Vg(i,s)}function Gg(i){if(i.tag===13||i.tag===31){var s=Fi(i,67108864);s!==null&&Ht(s,i,67108864),ad(i,67108864)}}function Fg(i){if(i.tag===13||i.tag===31){var s=en();s=nu(s);var l=Fi(i,s);l!==null&&Ht(l,i,s),ad(i,s)}}var nl=!0;function Tw(i,s,l,c){var g=L.T;L.T=null;var v=ee.p;try{ee.p=2,ld(i,s,l,c)}finally{ee.p=v,L.T=g}}function Cw(i,s,l,c){var g=L.T;L.T=null;var v=ee.p;try{ee.p=8,ld(i,s,l,c)}finally{ee.p=v,L.T=g}}function ld(i,s,l,c){if(nl){var g=ud(c);if(g===null)Yc(i,s,c,il,l),jg(i,c);else if(kw(g,i,s,l,c))c.stopPropagation();else if(jg(i,c),s&4&&-1<Aw.indexOf(i)){for(;g!==null;){var v=_r(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var w=qi(v.pendingLanes);if(w!==0){var E=v;for(E.pendingLanes|=2,E.entangledLanes|=2;w;){var M=1<<31-Ke(w);E.entanglements[1]|=M,w&=~M}Rn(v),(Be&6)===0&&(qa=It()+500,co(0))}}break;case 31:case 13:E=Fi(v,2),E!==null&&Ht(E,v,2),Ha(),ad(v,2)}if(v=ud(c),v===null&&Yc(i,s,c,il,l),v===g)break;g=v}g!==null&&c.stopPropagation()}else Yc(i,s,c,null,l)}}function ud(i){return i=du(i),cd(i)}var il=null;function cd(i){if(il=null,i=vr(i),i!==null){var s=a(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=u(s),i!==null)return i;i=null}else if(l===31){if(i=d(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return il=i,null}function $g(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(eu()){case J:return 2;case re:return 8;case be:case Ie:return 32;case Ve:return 268435456;default:return 32}default:return 32}}var dd=!1,Ti=null,Ci=null,Ai=null,vo=new Map,_o=new Map,ki=[],Aw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jg(i,s){switch(i){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":Ci=null;break;case"mouseover":case"mouseout":Ai=null;break;case"pointerover":case"pointerout":vo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":_o.delete(s.pointerId)}}function xo(i,s,l,c,g,v){return i===null||i.nativeEvent!==v?(i={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:v,targetContainers:[g]},s!==null&&(s=_r(s),s!==null&&Gg(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function kw(i,s,l,c,g){switch(s){case"focusin":return Ti=xo(Ti,i,s,l,c,g),!0;case"dragenter":return Ci=xo(Ci,i,s,l,c,g),!0;case"mouseover":return Ai=xo(Ai,i,s,l,c,g),!0;case"pointerover":var v=g.pointerId;return vo.set(v,xo(vo.get(v)||null,i,s,l,c,g)),!0;case"gotpointercapture":return v=g.pointerId,_o.set(v,xo(_o.get(v)||null,i,s,l,c,g)),!0}return!1}function Jg(i){var s=vr(i.target);if(s!==null){var l=a(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){i.blockedOn=s,ah(i.priority,function(){Fg(l)});return}}else if(s===31){if(s=d(l),s!==null){i.blockedOn=s,ah(i.priority,function(){Fg(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function rl(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=ud(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);cu=c,l.target.dispatchEvent(c),cu=null}else return s=_r(l),s!==null&&Gg(s),i.blockedOn=l,!1;s.shift()}return!0}function Yg(i,s,l){rl(i)&&l.delete(s)}function Nw(){dd=!1,Ti!==null&&rl(Ti)&&(Ti=null),Ci!==null&&rl(Ci)&&(Ci=null),Ai!==null&&rl(Ai)&&(Ai=null),vo.forEach(Yg),_o.forEach(Yg)}function sl(i,s){i.blockedOn===s&&(i.blockedOn=null,dd||(dd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Nw)))}var ol=null;function Kg(i){ol!==i&&(ol=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ol===i&&(ol=null);for(var s=0;s<i.length;s+=3){var l=i[s],c=i[s+1],g=i[s+2];if(typeof c!="function"){if(cd(c||l)===null)continue;break}var v=_r(l);v!==null&&(i.splice(s,3),s-=3,uc(v,{pending:!0,data:g,method:l.method,action:c},c,g))}}))}function es(i){function s(M){return sl(M,i)}Ti!==null&&sl(Ti,i),Ci!==null&&sl(Ci,i),Ai!==null&&sl(Ai,i),vo.forEach(s),_o.forEach(s);for(var l=0;l<ki.length;l++){var c=ki[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<ki.length&&(l=ki[0],l.blockedOn===null);)Jg(l),l.blockedOn===null&&ki.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var g=l[c],v=l[c+1],w=g[Ut]||null;if(typeof v=="function")w||Kg(l);else if(w){var E=null;if(v&&v.hasAttribute("formAction")){if(g=v,w=v[Ut]||null)E=w.formAction;else if(cd(g)!==null)continue}else E=w.action;typeof E=="function"?l[c+1]=E:(l.splice(c,3),c-=3),Kg(l)}}}function Xg(){function i(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(w){return g=w})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function fd(i){this._internalRoot=i}al.prototype.render=fd.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,c=en();Hg(l,c,i,s,null,null)},al.prototype.unmount=fd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Hg(i.current,2,null,i,null,null),Ha(),s[yr]=null}};function al(i){this._internalRoot=i}al.prototype.unstable_scheduleHydration=function(i){if(i){var s=oh();i={blockedOn:null,target:i,priority:s};for(var l=0;l<ki.length&&s!==0&&s<ki[l].priority;l++);ki.splice(l,0,i),l===0&&Jg(i)}};var Qg=e.version;if(Qg!=="19.2.0")throw Error(r(527,Qg,"19.2.0"));ee.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(s),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var Rw={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ll=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ll.isDisabled&&ll.supportsFiber)try{Mt=ll.inject(Rw),mt=ll}catch{}}return So.createRoot=function(i,s){if(!o(i))throw Error(r(299));var l=!1,c="",g=rm,v=sm,w=om;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),s=qg(i,1,!1,null,null,l,c,null,g,v,w,Xg),i[yr]=s.current,Jc(i),new fd(s)},So.hydrateRoot=function(i,s,l){if(!o(i))throw Error(r(299));var c=!1,g="",v=rm,w=sm,E=om,M=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(E=l.onRecoverableError),l.formState!==void 0&&(M=l.formState)),s=qg(i,1,!0,s,l??null,c,g,M,v,w,E,Xg),s.context=Bg(null),l=s.current,c=en(),c=nu(c),g=hi(c),g.callback=null,pi(l,g,c),l=c,s.current.lanes=l,Rs(s,l),Rn(s),i[yr]=s.current,Jc(i),new al(s)},So.version="19.2.0",So}var ay;function Hw(){if(ay)return md.exports;ay=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),md.exports=Bw(),md.exports}var Vw=Hw();const Gw=Ho(Vw),ly=[{id:"executive_summary",title:"Executive Summary",description:"A high-level overview of the product vision and business value.",content:"",isEnabled:!0,placeholder:"Summarize the entire PRD in one paragraph..."},{id:"problem_statement",title:"Problem Statement",description:"The specific user problem or gap in the market this product addresses.",content:"",isEnabled:!0,placeholder:"What pain point are we solving?"},{id:"goals_objectives",title:"Goals & Objectives",description:"Measurable business and product goals.",content:"",isEnabled:!0,placeholder:"List key objectives (e.g., Increase user retention by 20%)..."},{id:"target_audience",title:"Target Audience",description:"Who is this product for? User personas and segments.",content:"",isEnabled:!0,placeholder:"Primary and secondary user personas..."},{id:"user_stories",title:"User Stories",description:"Specific scenarios from the user's perspective.",content:"",isEnabled:!0,placeholder:"As a [user], I want to [action], so that [benefit]..."},{id:"features_requirements",title:"Features & Requirements",description:"Detailed functional requirements.",content:"",isEnabled:!0,placeholder:"List specific features and functionality..."},{id:"technical_requirements",title:"Technical Requirements",description:"Tech stack, constraints, and architecture notes.",content:"",isEnabled:!1,placeholder:"API requirements, database schema, performance constraints..."},{id:"design_requirements",title:"Design Requirements",description:"UI/UX guidelines and constraints.",content:"",isEnabled:!1,placeholder:"Mobile-first, brand colors, accessibility standards..."},{id:"timeline_milestones",title:"Timeline & Milestones",description:"Key dates and delivery phases.",content:"",isEnabled:!1,placeholder:"Phase 1 launch date, beta testing window..."},{id:"success_metrics",title:"Success Metrics",description:"KPIs to measure product success.",content:"",isEnabled:!0,placeholder:"DAU/MAU, conversion rates, NPS score..."},{id:"risks",title:"Risk Assessment",description:"Potential pitfalls and mitigation strategies.",content:"",isEnabled:!1,placeholder:"Technical risks, market risks, regulatory concerns..."}],uy={allowComments:!0,allowUpvotes:!0,enableApprovalFlow:!1};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Fw,$w;function jw(){return{geminiUrl:Fw,vertexUrl:$w}}function Jw(t,e,n,r){var o,a;if(!(t!=null&&t.baseUrl)){const u=jw();return e?(o=u.vertexUrl)!==null&&o!==void 0?o:n:(a=u.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ii{}function oe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const a=e[o];return a!=null?String(a):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function m(t,e,n){for(let a=0;a<e.length-1;a++){const u=e[a];if(u.endsWith("[]")){const d=u.slice(0,-2);if(!(d in t))if(Array.isArray(n))t[d]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[d])){const p=t[d];if(Array.isArray(n))for(let f=0;f<p.length;f++){const y=p[f];m(y,e.slice(a+1),n[f])}else for(const f of p)m(f,e.slice(a+1),n)}return}else if(u.endsWith("[0]")){const d=u.slice(0,-3);d in t||(t[d]=[{}]);const p=t[d];m(p[0],e.slice(a+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const r=e[e.length-1],o=t[r];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function h(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2);if(a in t){const u=t[a];return Array.isArray(u)?u.map(d=>h(d,e.slice(r+1),n)):n}else return n}else t=t[o]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Yw(t,e){for(const[n,r]of Object.entries(e)){const o=n.split("."),a=r.split("."),u=new Set;let d=-1;for(let p=0;p<o.length;p++)if(o[p]==="*"){d=p;break}if(d!==-1&&a.length>d)for(let p=d;p<a.length;p++){const f=a[p];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&u.add(f)}Hd(t,o,a,0,u)}}function Hd(t,e,n,r,o){if(r>=e.length||typeof t!="object"||t===null)return;const a=e[r];if(a.endsWith("[]")){const u=a.slice(0,-2),d=t;if(u in d&&Array.isArray(d[u]))for(const p of d[u])Hd(p,e,n,r+1,o)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const u=t,d=Object.keys(u).filter(f=>!f.startsWith("_")&&!o.has(f)),p={};for(const f of d)p[f]=u[f];for(const[f,y]of Object.entries(p)){const _=[];for(const x of n.slice(r))x==="*"?_.push(f):_.push(x);m(u,_,y)}for(const f of d)delete u[f]}}else{const u=t;a in u&&Hd(u[a],e,n,r+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bf(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kw(t){const e={},n=h(t,["operationName"]);n!=null&&m(e,["operationName"],n);const r=h(t,["resourceName"]);return r!=null&&m(e,["_url","resourceName"],r),e}function Xw(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const r=h(t,["metadata"]);r!=null&&m(e,["metadata"],r);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const a=h(t,["error"]);a!=null&&m(e,["error"],a);const u=h(t,["response","generateVideoResponse"]);return u!=null&&m(e,["response"],Ww(u)),e}function Qw(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const r=h(t,["metadata"]);r!=null&&m(e,["metadata"],r);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const a=h(t,["error"]);a!=null&&m(e,["error"],a);const u=h(t,["response"]);return u!=null&&m(e,["response"],Zw(u)),e}function Ww(t){const e={},n=h(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>eE(u))),m(e,["generatedVideos"],a)}const r=h(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const o=h(t,["raiMediaFilteredReasons"]);return o!=null&&m(e,["raiMediaFilteredReasons"],o),e}function Zw(t){const e={},n=h(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>tE(u))),m(e,["generatedVideos"],a)}const r=h(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const o=h(t,["raiMediaFilteredReasons"]);return o!=null&&m(e,["raiMediaFilteredReasons"],o),e}function eE(t){const e={},n=h(t,["video"]);return n!=null&&m(e,["video"],aE(n)),e}function tE(t){const e={},n=h(t,["_self"]);return n!=null&&m(e,["video"],lE(n)),e}function nE(t){const e={},n=h(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function iE(t){const e={},n=h(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function rE(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const r=h(t,["metadata"]);r!=null&&m(e,["metadata"],r);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const a=h(t,["error"]);a!=null&&m(e,["error"],a);const u=h(t,["response"]);return u!=null&&m(e,["response"],sE(u)),e}function sE(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["parent"]);r!=null&&m(e,["parent"],r);const o=h(t,["documentName"]);return o!=null&&m(e,["documentName"],o),e}function i_(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const r=h(t,["metadata"]);r!=null&&m(e,["metadata"],r);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const a=h(t,["error"]);a!=null&&m(e,["error"],a);const u=h(t,["response"]);return u!=null&&m(e,["response"],oE(u)),e}function oE(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["parent"]);r!=null&&m(e,["parent"],r);const o=h(t,["documentName"]);return o!=null&&m(e,["documentName"],o),e}function aE(t){const e={},n=h(t,["uri"]);n!=null&&m(e,["uri"],n);const r=h(t,["encodedVideo"]);r!=null&&m(e,["videoBytes"],bf(r));const o=h(t,["encoding"]);return o!=null&&m(e,["mimeType"],o),e}function lE(t){const e={},n=h(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=h(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],bf(r));const o=h(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var cy;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(cy||(cy={}));var dy;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(dy||(dy={}));var fy;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(fy||(fy={}));var Ui;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ui||(Ui={}));var hy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(hy||(hy={}));var py;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(py||(py={}));var my;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(my||(my={}));var gy;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(gy||(gy={}));var yy;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(yy||(yy={}));var vy;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(vy||(vy={}));var _y;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(_y||(_y={}));var xy;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(xy||(xy={}));var by;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(by||(by={}));var Sy;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(Sy||(Sy={}));var wy;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(wy||(wy={}));var Ey;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Ey||(Ey={}));var Ty;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Ty||(Ty={}));var Cy;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Cy||(Cy={}));var Ay;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Ay||(Ay={}));var Cl;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Cl||(Cl={}));var ky;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ky||(ky={}));var Ny;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Ny||(Ny={}));var Ry;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Ry||(Ry={}));var Vd;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Vd||(Vd={}));var Iy;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Iy||(Iy={}));var My;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(My||(My={}));var zy;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(zy||(zy={}));var Dy;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Dy||(Dy={}));var Uy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Uy||(Uy={}));var Py;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Py||(Py={}));var Oy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Oy||(Oy={}));var Ly;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Ly||(Ly={}));var qy;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(qy||(qy={}));var By;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(By||(By={}));var Hy;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Hy||(Hy={}));var Vy;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Vy||(Vy={}));var Gy;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Gy||(Gy={}));var Fy;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Fy||(Fy={}));var $y;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})($y||($y={}));var jy;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(jy||(jy={}));var Jy;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Jy||(Jy={}));var Yy;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Yy||(Yy={}));var Ky;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Ky||(Ky={}));var Xy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Xy||(Xy={}));var Qy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Qy||(Qy={}));var Wy;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Wy||(Wy={}));var Zy;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Zy||(Zy={}));var e0;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(e0||(e0={}));var t0;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(t0||(t0={}));var n0;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(n0||(n0={}));var i0;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(i0||(i0={}));var r0;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(r0||(r0={}));var s0;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(s0||(s0={}));var o0;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(o0||(o0={}));var ds;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ds||(ds={}));class Gd{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class wo{get text(){var e,n,r,o,a,u,d,p;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",y=!1;const _=[];for(const x of(p=(d=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)!==null&&p!==void 0?p:[]){for(const[b,T]of Object.entries(x))b!=="text"&&b!=="thought"&&b!=="thoughtSignature"&&(T!==null||T!==void 0)&&_.push(b);if(typeof x.text=="string"){if(typeof x.thought=="boolean"&&x.thought)continue;y=!0,f+=x.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?f:void 0}get data(){var e,n,r,o,a,u,d,p;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const y=[];for(const _ of(p=(d=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)!==null&&p!==void 0?p:[]){for(const[x,b]of Object.entries(_))x!=="inlineData"&&(b!==null||b!==void 0)&&y.push(x);_.inlineData&&typeof _.inlineData.data=="string"&&(f+=atob(_.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,o,a,u,d,p;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(p=(d=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||p===void 0?void 0:p.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,r,o,a,u,d,p,f;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(p=(d=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||p===void 0?void 0:p.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((y==null?void 0:y.length)!==0)return(f=y==null?void 0:y[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,o,a,u,d,p,f;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(p=(d=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||p===void 0?void 0:p.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((y==null?void 0:y.length)!==0)return(f=y==null?void 0:y[0])===null||f===void 0?void 0:f.output}}class a0{}class l0{}class uE{}class cE{}class dE{}class fE{}class u0{}class c0{}class d0{}class hE{}class Al{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Al;let o;const a=e;return n?o=Qw(a):o=Xw(a),Object.assign(r,o),r}}class f0{}class h0{}class p0{}class pE{}class mE{}class gE{}class Sf{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Sf,a=rE(e);return Object.assign(r,a),r}}class yE{}class vE{}class _E{}class m0{}class xE{get text(){var e,n,r;let o="",a=!1;const u=[];for(const d of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[p,f]of Object.entries(d))p!=="text"&&p!=="thought"&&f!==null&&u.push(p);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;a=!0,o+=d.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?o:void 0}get data(){var e,n,r;let o="";const a=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[d,p]of Object.entries(u))d!=="inlineData"&&p!==null&&a.push(d);u.inlineData&&typeof u.inlineData.data=="string"&&(o+=atob(u.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class bE{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class wf{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new wf,a=i_(e);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qe(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function r_(t,e){const n=qe(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function s_(t){return Array.isArray(t)?t.map(e=>kl(e)):[kl(t)]}function kl(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function o_(t){const e=kl(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function a_(t){const e=kl(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function g0(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function l_(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>g0(e)):[g0(t)]}function Fd(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function y0(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function v0(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Nt(t){if(t==null)throw new Error("ContentUnion is required");return Fd(t)?t:{role:"user",parts:l_(t)}}function Ef(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Nt(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Nt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Nt(n)):[Nt(e)]}function vn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(y0(t)||v0(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Nt(t)]}const e=[],n=[],r=Fd(t[0]);for(const o of t){const a=Fd(o);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(o);else{if(y0(o)||v0(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return r||e.push({role:"user",parts:l_(n)}),e}function SE(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Ui).includes(n[0].toUpperCase())?n[0].toUpperCase():Ui.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Ui).includes(r.toUpperCase())?r.toUpperCase():Ui.TYPE_UNSPECIFIED})}}function fs(t){const e={},n=["items"],r=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&SE(t.type,e);for(const[u,d]of Object.entries(t))if(d!=null)if(u=="type"){if(d==="null")throw new Error("type: null can not be the only possible type for the field.");if(d instanceof Array)continue;e.type=Object.values(Ui).includes(d.toUpperCase())?d.toUpperCase():Ui.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=fs(d);else if(r.includes(u)){const p=[];for(const f of d){if(f.type=="null"){e.nullable=!0;continue}p.push(fs(f))}e[u]=p}else if(o.includes(u)){const p={};for(const[f,y]of Object.entries(d))p[f]=fs(y);e[u]=p}else{if(u==="additionalProperties")continue;e[u]=d}return e}function Tf(t){return fs(t)}function Cf(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Af(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function bs(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=fs(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=fs(e.response));return t}function Ss(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function wE(t,e,n,r=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function ri(t,e){if(typeof e!="string")throw new Error("name must be a string");return wE(t,e,"cachedContents")}function u_(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Pi(t){return bf(t)}function EE(t){return t!=null&&typeof t=="object"&&"name"in t}function TE(t){return t!=null&&typeof t=="object"&&"video"in t}function CE(t){return t!=null&&typeof t=="object"&&"uri"in t}function c_(t){var e;let n;if(EE(t)&&(n=t.name),!(CE(t)&&(n=t.uri,n===void 0))&&!(TE(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function d_(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function f_(t){for(const e of["models","tunedModels","publisherModels"])if(AE(t,e))return t[e];return[]}function AE(t,e){return t!==null&&typeof t=="object"&&e in t}function kE(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function NE(t,e={}){const n=[],r=new Set;for(const o of t){const a=o.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const u=kE(o,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function h_(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(o>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function RE(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function p_(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return t;let a=!1;for(const u of o){if(typeof u!="object"||u===null)continue;const p=u.response;if(typeof p!="object"||p===null)continue;if(p.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function ws(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function m_(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IE(t){const e={},n=h(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const r=h(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>dT(u))),m(e,["inlinedResponses"],a)}const o=h(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["inlinedEmbedContentResponses"],a)}return e}function ME(t){const e={},n=h(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const r=h(t,["gcsDestination","outputUriPrefix"]);r!=null&&m(e,["gcsUri"],r);const o=h(t,["bigqueryDestination","outputUri"]);return o!=null&&m(e,["bigqueryUri"],o),e}function zE(t){const e={},n=h(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const r=h(t,["gcsUri"]);r!=null&&m(e,["gcsDestination","outputUriPrefix"],r);const o=h(t,["bigqueryUri"]);if(o!=null&&m(e,["bigqueryDestination","outputUri"],o),h(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(h(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function wl(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const r=h(t,["metadata","displayName"]);r!=null&&m(e,["displayName"],r);const o=h(t,["metadata","state"]);o!=null&&m(e,["state"],m_(o));const a=h(t,["metadata","createTime"]);a!=null&&m(e,["createTime"],a);const u=h(t,["metadata","endTime"]);u!=null&&m(e,["endTime"],u);const d=h(t,["metadata","updateTime"]);d!=null&&m(e,["updateTime"],d);const p=h(t,["metadata","model"]);p!=null&&m(e,["model"],p);const f=h(t,["metadata","output"]);return f!=null&&m(e,["dest"],IE(p_(f))),e}function $d(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const r=h(t,["displayName"]);r!=null&&m(e,["displayName"],r);const o=h(t,["state"]);o!=null&&m(e,["state"],m_(o));const a=h(t,["error"]);a!=null&&m(e,["error"],a);const u=h(t,["createTime"]);u!=null&&m(e,["createTime"],u);const d=h(t,["startTime"]);d!=null&&m(e,["startTime"],d);const p=h(t,["endTime"]);p!=null&&m(e,["endTime"],p);const f=h(t,["updateTime"]);f!=null&&m(e,["updateTime"],f);const y=h(t,["model"]);y!=null&&m(e,["model"],y);const _=h(t,["inputConfig"]);_!=null&&m(e,["src"],DE(_));const x=h(t,["outputConfig"]);x!=null&&m(e,["dest"],ME(p_(x)));const b=h(t,["completionStats"]);return b!=null&&m(e,["completionStats"],b),e}function DE(t){const e={},n=h(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const r=h(t,["gcsSource","uris"]);r!=null&&m(e,["gcsUri"],r);const o=h(t,["bigquerySource","inputUri"]);return o!=null&&m(e,["bigqueryUri"],o),e}function UE(t,e){const n={};if(h(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(h(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=h(e,["fileName"]);r!=null&&m(n,["fileName"],r);const o=h(e,["inlinedRequests"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>cT(t,u))),m(n,["requests","requests"],a)}return n}function PE(t){const e={},n=h(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const r=h(t,["gcsUri"]);r!=null&&m(e,["gcsSource","uris"],r);const o=h(t,["bigqueryUri"]);if(o!=null&&m(e,["bigquerySource","inputUri"],o),h(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function OE(t){const e={},n=h(t,["data"]);if(n!=null&&m(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function LE(t,e){const n={},r=h(e,["name"]);return r!=null&&m(n,["_url","name"],ws(t,r)),n}function qE(t,e){const n={},r=h(e,["name"]);return r!=null&&m(n,["_url","name"],ws(t,r)),n}function BE(t){const e={},n=h(t,["content"]);n!=null&&m(e,["content"],n);const r=h(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],HE(r));const o=h(t,["tokenCount"]);o!=null&&m(e,["tokenCount"],o);const a=h(t,["finishReason"]);a!=null&&m(e,["finishReason"],a);const u=h(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const d=h(t,["groundingMetadata"]);d!=null&&m(e,["groundingMetadata"],d);const p=h(t,["index"]);p!=null&&m(e,["index"],p);const f=h(t,["logprobsResult"]);f!=null&&m(e,["logprobsResult"],f);const y=h(t,["safetyRatings"]);if(y!=null){let x=y;Array.isArray(x)&&(x=x.map(b=>b)),m(e,["safetyRatings"],x)}const _=h(t,["urlContextMetadata"]);return _!=null&&m(e,["urlContextMetadata"],_),e}function HE(t){const e={},n=h(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),m(e,["citations"],r)}return e}function g_(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>vT(a))),m(e,["parts"],o)}const r=h(t,["role"]);return r!=null&&m(e,["role"],r),e}function VE(t,e){const n={},r=h(t,["displayName"]);if(e!==void 0&&r!=null&&m(e,["batch","displayName"],r),h(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function GE(t,e){const n={},r=h(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const o=h(t,["dest"]);return e!==void 0&&o!=null&&m(e,["outputConfig"],zE(RE(o))),n}function _0(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],qe(t,r));const o=h(e,["src"]);o!=null&&m(n,["batch","inputConfig"],UE(t,h_(t,o)));const a=h(e,["config"]);return a!=null&&VE(a,n),n}function FE(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["model"],qe(t,r));const o=h(e,["src"]);o!=null&&m(n,["inputConfig"],PE(h_(t,o)));const a=h(e,["config"]);return a!=null&&GE(a,n),n}function $E(t,e){const n={},r=h(t,["displayName"]);return e!==void 0&&r!=null&&m(e,["batch","displayName"],r),n}function jE(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],qe(t,r));const o=h(e,["src"]);o!=null&&m(n,["batch","inputConfig"],ZE(t,o));const a=h(e,["config"]);return a!=null&&$E(a,n),n}function JE(t,e){const n={},r=h(e,["name"]);return r!=null&&m(n,["_url","name"],ws(t,r)),n}function YE(t,e){const n={},r=h(e,["name"]);return r!=null&&m(n,["_url","name"],ws(t,r)),n}function KE(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["name"]);r!=null&&m(e,["name"],r);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const a=h(t,["error"]);return a!=null&&m(e,["error"],a),e}function XE(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["name"]);r!=null&&m(e,["name"],r);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const a=h(t,["error"]);return a!=null&&m(e,["error"],a),e}function QE(t,e){const n={},r=h(e,["contents"]);if(r!=null){let a=Ef(t,r);Array.isArray(a)&&(a=a.map(u=>u)),m(n,["requests[]","request","content"],a)}const o=h(e,["config"]);return o!=null&&(m(n,["_self"],WE(o,n)),Yw(n,{"requests[].*":"requests[].request.*"})),n}function WE(t,e){const n={},r=h(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const o=h(t,["title"]);e!==void 0&&o!=null&&m(e,["requests[]","title"],o);const a=h(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&m(e,["requests[]","outputDimensionality"],a),h(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function ZE(t,e){const n={},r=h(e,["fileName"]);r!=null&&m(n,["file_name"],r);const o=h(e,["inlinedRequests"]);return o!=null&&m(n,["requests"],QE(t,o)),n}function eT(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function tT(t){const e={},n=h(t,["id"]);n!=null&&m(e,["id"],n);const r=h(t,["args"]);r!=null&&m(e,["args"],r);const o=h(t,["name"]);if(o!=null&&m(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function nT(t){const e={},n=h(t,["mode"]);n!=null&&m(e,["mode"],n);const r=h(t,["allowedFunctionNames"]);if(r!=null&&m(e,["allowedFunctionNames"],r),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function iT(t,e,n){const r={},o=h(e,["systemInstruction"]);n!==void 0&&o!=null&&m(n,["systemInstruction"],g_(Nt(o)));const a=h(e,["temperature"]);a!=null&&m(r,["temperature"],a);const u=h(e,["topP"]);u!=null&&m(r,["topP"],u);const d=h(e,["topK"]);d!=null&&m(r,["topK"],d);const p=h(e,["candidateCount"]);p!=null&&m(r,["candidateCount"],p);const f=h(e,["maxOutputTokens"]);f!=null&&m(r,["maxOutputTokens"],f);const y=h(e,["stopSequences"]);y!=null&&m(r,["stopSequences"],y);const _=h(e,["responseLogprobs"]);_!=null&&m(r,["responseLogprobs"],_);const x=h(e,["logprobs"]);x!=null&&m(r,["logprobs"],x);const b=h(e,["presencePenalty"]);b!=null&&m(r,["presencePenalty"],b);const T=h(e,["frequencyPenalty"]);T!=null&&m(r,["frequencyPenalty"],T);const A=h(e,["seed"]);A!=null&&m(r,["seed"],A);const R=h(e,["responseMimeType"]);R!=null&&m(r,["responseMimeType"],R);const k=h(e,["responseSchema"]);k!=null&&m(r,["responseSchema"],Tf(k));const P=h(e,["responseJsonSchema"]);if(P!=null&&m(r,["responseJsonSchema"],P),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=h(e,["safetySettings"]);if(n!==void 0&&N!=null){let Q=N;Array.isArray(Q)&&(Q=Q.map(me=>_T(me))),m(n,["safetySettings"],Q)}const F=h(e,["tools"]);if(n!==void 0&&F!=null){let Q=Ss(F);Array.isArray(Q)&&(Q=Q.map(me=>bT(bs(me)))),m(n,["tools"],Q)}const W=h(e,["toolConfig"]);if(n!==void 0&&W!=null&&m(n,["toolConfig"],xT(W)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=h(e,["cachedContent"]);n!==void 0&&U!=null&&m(n,["cachedContent"],ri(t,U));const $=h(e,["responseModalities"]);$!=null&&m(r,["responseModalities"],$);const se=h(e,["mediaResolution"]);se!=null&&m(r,["mediaResolution"],se);const Z=h(e,["speechConfig"]);if(Z!=null&&m(r,["speechConfig"],Cf(Z)),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ae=h(e,["thinkingConfig"]);ae!=null&&m(r,["thinkingConfig"],ae);const ne=h(e,["imageConfig"]);return ne!=null&&m(r,["imageConfig"],uT(ne)),r}function rT(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["candidates"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(f=>BE(f))),m(e,["candidates"],p)}const o=h(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const a=h(t,["promptFeedback"]);a!=null&&m(e,["promptFeedback"],a);const u=h(t,["responseId"]);u!=null&&m(e,["responseId"],u);const d=h(t,["usageMetadata"]);return d!=null&&m(e,["usageMetadata"],d),e}function sT(t,e){const n={},r=h(e,["name"]);return r!=null&&m(n,["_url","name"],ws(t,r)),n}function oT(t,e){const n={},r=h(e,["name"]);return r!=null&&m(n,["_url","name"],ws(t,r)),n}function aT(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function lT(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function uT(t){const e={},n=h(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=h(t,["imageSize"]);if(r!=null&&m(e,["imageSize"],r),h(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function cT(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["request","model"],qe(t,r));const o=h(e,["contents"]);if(o!=null){let d=vn(o);Array.isArray(d)&&(d=d.map(p=>g_(p))),m(n,["request","contents"],d)}const a=h(e,["metadata"]);a!=null&&m(n,["metadata"],a);const u=h(e,["config"]);return u!=null&&m(n,["request","generationConfig"],iT(t,u,h(n,["request"],{}))),n}function dT(t){const e={},n=h(t,["response"]);n!=null&&m(e,["response"],rT(n));const r=h(t,["error"]);return r!=null&&m(e,["error"],r),e}function fT(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const o=h(t,["pageToken"]);if(e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),h(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function hT(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const o=h(t,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const a=h(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),n}function pT(t){const e={},n=h(t,["config"]);return n!=null&&fT(n,e),e}function mT(t){const e={},n=h(t,["config"]);return n!=null&&hT(n,e),e}function gT(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const o=h(t,["operations"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>wl(u))),m(e,["batchJobs"],a)}return e}function yT(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const o=h(t,["batchPredictionJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>$d(u))),m(e,["batchJobs"],a)}return e}function vT(t){const e={},n=h(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=h(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const o=h(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const a=h(t,["fileData"]);a!=null&&m(e,["fileData"],eT(a));const u=h(t,["functionCall"]);u!=null&&m(e,["functionCall"],tT(u));const d=h(t,["functionResponse"]);d!=null&&m(e,["functionResponse"],d);const p=h(t,["inlineData"]);p!=null&&m(e,["inlineData"],OE(p));const f=h(t,["text"]);f!=null&&m(e,["text"],f);const y=h(t,["thought"]);y!=null&&m(e,["thought"],y);const _=h(t,["thoughtSignature"]);_!=null&&m(e,["thoughtSignature"],_);const x=h(t,["videoMetadata"]);return x!=null&&m(e,["videoMetadata"],x),e}function _T(t){const e={},n=h(t,["category"]);if(n!=null&&m(e,["category"],n),h(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=h(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function xT(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],nT(n));const r=h(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],r),e}function bT(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>_)),m(e,["functionDeclarations"],y)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=h(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const o=h(t,["computerUse"]);o!=null&&m(e,["computerUse"],o);const a=h(t,["fileSearch"]);a!=null&&m(e,["fileSearch"],a);const u=h(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=h(t,["googleMaps"]);d!=null&&m(e,["googleMaps"],aT(d));const p=h(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],lT(p));const f=h(t,["urlContext"]);return f!=null&&m(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ni;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(ni||(ni={}));class cr{constructor(e,n,r,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,o)}init(e,n,r){var o,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!r||Object.keys(r).length===0?u={config:{}}:typeof r=="object"?u=Object.assign({},r):u=r,u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(a=(o=u.config)===null||o===void 0?void 0:o.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ST extends ii{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new cr(ni.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=_0(this.apiClient,e),r=n._url,o=oe("{model}:batchGenerateContent",r),d=n.batch.inputConfig.requests,p=d.requests,f=[];for(const y of p){const _=Object.assign({},y);if(_.systemInstruction){const x=_.systemInstruction;delete _.systemInstruction;const b=_.request;b.systemInstruction=x,_.request=b}f.push(_)}return d.requests=f,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},o=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${o}`),r.dest===void 0){const a=this.getGcsUri(e),u=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${o}`;else if(u)r.dest=`${u}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=FE(this.apiClient,e);return d=oe("batchPredictionJobs",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u.then(y=>$d(y))}else{const f=_0(this.apiClient,e);return d=oe("{model}:batchGenerateContent",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>wl(y))}}async createEmbeddingsInternal(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=jE(this.apiClient,e);return a=oe("{model}:asyncBatchEmbedContent",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>wl(p))}}async get(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=oT(this.apiClient,e);return d=oe("batchPredictionJobs/{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u.then(y=>$d(y))}else{const f=sT(this.apiClient,e);return d=oe("batches/{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>wl(y))}}async cancel(e){var n,r,o,a;let u="",d={};if(this.apiClient.isVertexAI()){const p=qE(this.apiClient,e);u=oe("batchPredictionJobs/{name}:cancel",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const p=LE(this.apiClient,e);u=oe("batches/{name}:cancel",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=mT(e);return d=oe("batchPredictionJobs",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:y.headers},x})),u.then(y=>{const _=yT(y),x=new m0;return Object.assign(x,_),x})}else{const f=pT(e);return d=oe("batches",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:y.headers},x})),u.then(y=>{const _=gT(y),x=new m0;return Object.assign(x,_),x})}}async delete(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=YE(this.apiClient,e);return d=oe("batchPredictionJobs/{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:y.headers},x})),u.then(y=>XE(y))}else{const f=JE(this.apiClient,e);return d=oe("batches/{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:y.headers},x})),u.then(y=>KE(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wT(t){const e={},n=h(t,["data"]);if(n!=null&&m(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function x0(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>jT(a))),m(e,["parts"],o)}const r=h(t,["role"]);return r!=null&&m(e,["role"],r),e}function ET(t,e){const n={},r=h(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const o=h(t,["expireTime"]);e!==void 0&&o!=null&&m(e,["expireTime"],o);const a=h(t,["displayName"]);e!==void 0&&a!=null&&m(e,["displayName"],a);const u=h(t,["contents"]);if(e!==void 0&&u!=null){let y=vn(u);Array.isArray(y)&&(y=y.map(_=>x0(_))),m(e,["contents"],y)}const d=h(t,["systemInstruction"]);e!==void 0&&d!=null&&m(e,["systemInstruction"],x0(Nt(d)));const p=h(t,["tools"]);if(e!==void 0&&p!=null){let y=p;Array.isArray(y)&&(y=y.map(_=>YT(_))),m(e,["tools"],y)}const f=h(t,["toolConfig"]);if(e!==void 0&&f!=null&&m(e,["toolConfig"],JT(f)),h(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function TT(t,e){const n={},r=h(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const o=h(t,["expireTime"]);e!==void 0&&o!=null&&m(e,["expireTime"],o);const a=h(t,["displayName"]);e!==void 0&&a!=null&&m(e,["displayName"],a);const u=h(t,["contents"]);if(e!==void 0&&u!=null){let _=vn(u);Array.isArray(_)&&(_=_.map(x=>x)),m(e,["contents"],_)}const d=h(t,["systemInstruction"]);e!==void 0&&d!=null&&m(e,["systemInstruction"],Nt(d));const p=h(t,["tools"]);if(e!==void 0&&p!=null){let _=p;Array.isArray(_)&&(_=_.map(x=>KT(x))),m(e,["tools"],_)}const f=h(t,["toolConfig"]);e!==void 0&&f!=null&&m(e,["toolConfig"],f);const y=h(t,["kmsKeyName"]);return e!==void 0&&y!=null&&m(e,["encryption_spec","kmsKeyName"],y),n}function CT(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["model"],r_(t,r));const o=h(e,["config"]);return o!=null&&ET(o,n),n}function AT(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["model"],r_(t,r));const o=h(e,["config"]);return o!=null&&TT(o,n),n}function kT(t,e){const n={},r=h(e,["name"]);return r!=null&&m(n,["_url","name"],ri(t,r)),n}function NT(t,e){const n={},r=h(e,["name"]);return r!=null&&m(n,["_url","name"],ri(t,r)),n}function RT(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function IT(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function MT(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function zT(t){const e={},n=h(t,["id"]);n!=null&&m(e,["id"],n);const r=h(t,["args"]);r!=null&&m(e,["args"],r);const o=h(t,["name"]);if(o!=null&&m(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function DT(t){const e={},n=h(t,["mode"]);n!=null&&m(e,["mode"],n);const r=h(t,["allowedFunctionNames"]);if(r!=null&&m(e,["allowedFunctionNames"],r),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function UT(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&m(e,["description"],n);const r=h(t,["name"]);r!=null&&m(e,["name"],r);const o=h(t,["parameters"]);o!=null&&m(e,["parameters"],o);const a=h(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=h(t,["response"]);u!=null&&m(e,["response"],u);const d=h(t,["responseJsonSchema"]);return d!=null&&m(e,["responseJsonSchema"],d),e}function PT(t,e){const n={},r=h(e,["name"]);return r!=null&&m(n,["_url","name"],ri(t,r)),n}function OT(t,e){const n={},r=h(e,["name"]);return r!=null&&m(n,["_url","name"],ri(t,r)),n}function LT(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function qT(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function BT(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function HT(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function VT(t){const e={},n=h(t,["config"]);return n!=null&&BT(n,e),e}function GT(t){const e={},n=h(t,["config"]);return n!=null&&HT(n,e),e}function FT(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const o=h(t,["cachedContents"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["cachedContents"],a)}return e}function $T(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const o=h(t,["cachedContents"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["cachedContents"],a)}return e}function jT(t){const e={},n=h(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=h(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const o=h(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const a=h(t,["fileData"]);a!=null&&m(e,["fileData"],MT(a));const u=h(t,["functionCall"]);u!=null&&m(e,["functionCall"],zT(u));const d=h(t,["functionResponse"]);d!=null&&m(e,["functionResponse"],d);const p=h(t,["inlineData"]);p!=null&&m(e,["inlineData"],wT(p));const f=h(t,["text"]);f!=null&&m(e,["text"],f);const y=h(t,["thought"]);y!=null&&m(e,["thought"],y);const _=h(t,["thoughtSignature"]);_!=null&&m(e,["thoughtSignature"],_);const x=h(t,["videoMetadata"]);return x!=null&&m(e,["videoMetadata"],x),e}function JT(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],DT(n));const r=h(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],r),e}function YT(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>_)),m(e,["functionDeclarations"],y)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=h(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const o=h(t,["computerUse"]);o!=null&&m(e,["computerUse"],o);const a=h(t,["fileSearch"]);a!=null&&m(e,["fileSearch"],a);const u=h(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=h(t,["googleMaps"]);d!=null&&m(e,["googleMaps"],LT(d));const p=h(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],qT(p));const f=h(t,["urlContext"]);return f!=null&&m(e,["urlContext"],f),e}function KT(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(x=>UT(x))),m(e,["functionDeclarations"],_)}const r=h(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const o=h(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const a=h(t,["computerUse"]);if(a!=null&&m(e,["computerUse"],a),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=h(t,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const d=h(t,["enterpriseWebSearch"]);d!=null&&m(e,["enterpriseWebSearch"],d);const p=h(t,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const f=h(t,["googleSearch"]);f!=null&&m(e,["googleSearch"],f);const y=h(t,["urlContext"]);return y!=null&&m(e,["urlContext"],y),e}function XT(t,e){const n={},r=h(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const o=h(t,["expireTime"]);return e!==void 0&&o!=null&&m(e,["expireTime"],o),n}function QT(t,e){const n={},r=h(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const o=h(t,["expireTime"]);return e!==void 0&&o!=null&&m(e,["expireTime"],o),n}function WT(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["_url","name"],ri(t,r));const o=h(e,["config"]);return o!=null&&XT(o,n),n}function ZT(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["_url","name"],ri(t,r));const o=h(e,["config"]);return o!=null&&QT(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e1 extends ii{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new cr(ni.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=AT(this.apiClient,e);return d=oe("cachedContents",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u.then(y=>y)}else{const f=CT(this.apiClient,e);return d=oe("cachedContents",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async get(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=OT(this.apiClient,e);return d=oe("{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u.then(y=>y)}else{const f=PT(this.apiClient,e);return d=oe("{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=NT(this.apiClient,e);return d=oe("{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:y.headers},x})),u.then(y=>{const _=IT(y),x=new h0;return Object.assign(x,_),x})}else{const f=kT(this.apiClient,e);return d=oe("{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:y.headers},x})),u.then(y=>{const _=RT(y),x=new h0;return Object.assign(x,_),x})}}async update(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=ZT(this.apiClient,e);return d=oe("{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u.then(y=>y)}else{const f=WT(this.apiClient,e);return d=oe("{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async listInternal(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=GT(e);return d=oe("cachedContents",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:y.headers},x})),u.then(y=>{const _=$T(y),x=new p0;return Object.assign(x,_),x})}else{const f=VT(e);return d=oe("cachedContents",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:y.headers},x})),u.then(y=>{const _=FT(y),x=new p0;return Object.assign(x,_),x})}}}function b0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function nt(t){return this instanceof nt?(this.v=t,this):new nt(t)}function hs(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,a=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(b){return function(T){return Promise.resolve(T).then(b,_)}}function d(b,T){r[b]&&(o[b]=function(A){return new Promise(function(R,k){a.push([b,A,R,k])>1||p(b,A)})},T&&(o[b]=T(o[b])))}function p(b,T){try{f(r[b](T))}catch(A){x(a[0][3],A)}}function f(b){b.value instanceof nt?Promise.resolve(b.value.v).then(y,_):x(a[0][2],b)}function y(b){p("next",b)}function _(b){p("throw",b)}function x(b,T){b(T),a.shift(),a.length&&p(a[0][0],a[0][1])}}function No(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof b0=="function"?b0(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(u){return new Promise(function(d,p){u=t[a](u),o(d,p,u.done,u.value)})}}function o(a,u,d,p){Promise.resolve(p).then(function(f){a({value:f,done:d})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function t1(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:y_(n)}function y_(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function n1(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function S0(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const o=[];let a=!0;for(;r<n&&t[r].role==="model";)o.push(t[r]),a&&!y_(t[r])&&(a=!1),r++;a?e.push(...o):e.pop()}return e}class i1{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new r1(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class r1{constructor(e,n,r,o={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=o,this.history=a,this.sendPromise=Promise.resolve(),n1(a)}async sendMessage(e){var n;await this.sendPromise;const r=Nt(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,u,d;const p=await o,f=(u=(a=p.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content,y=p.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let x=[];y!=null&&(x=(d=y.slice(_))!==null&&d!==void 0?d:[]);const b=f?[f]:[];this.recordHistory(r,b,x)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const r=Nt(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const a=await o;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?S0(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,o;return hs(this,arguments,function*(){var u,d,p,f;const y=[];try{for(var _=!0,x=No(e),b;b=yield nt(x.next()),u=b.done,!u;_=!0){f=b.value,_=!1;const T=f;if(t1(T)){const A=(o=(r=T.candidates)===null||r===void 0?void 0:r[0])===null||o===void 0?void 0:o.content;A!==void 0&&y.push(A)}yield yield nt(T)}}catch(T){d={error:T}}finally{try{!_&&!u&&(p=x.return)&&(yield nt(p.call(x)))}finally{if(d)throw d.error}}this.recordHistory(n,y)})}recordHistory(e,n,r){let o=[];n.length>0&&n.every(a=>a.role!==void 0)?o=n:o.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...S0(r)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bl extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Bl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s1(t){const e={},n=h(t,["file"]);return n!=null&&m(e,["file"],n),e}function o1(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function a1(t){const e={},n=h(t,["name"]);return n!=null&&m(e,["_url","file"],c_(n)),e}function l1(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function u1(t){const e={},n=h(t,["name"]);return n!=null&&m(e,["_url","file"],c_(n)),e}function c1(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function d1(t){const e={},n=h(t,["config"]);return n!=null&&c1(n,e),e}function f1(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const o=h(t,["files"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class h1 extends ii{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new cr(ni.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=d1(e);return a=oe("files",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(f=>{const y=f;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const f=f1(p),y=new yE;return Object.assign(y,f),y})}}async createInternal(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=s1(e);return a=oe("upload/v1beta/files",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>{const f=o1(p),y=new vE;return Object.assign(y,f),y})}}async get(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=u1(e);return a=oe("files/{file}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=a1(e);return a=oe("files/{file}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(f=>{const y=f;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const f=l1(p),y=new _E;return Object.assign(y,f),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function El(t){const e={},n=h(t,["data"]);if(n!=null&&m(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function p1(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>R1(a))),m(e,["parts"],o)}const r=h(t,["role"]);return r!=null&&m(e,["role"],r),e}function m1(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function g1(t){const e={},n=h(t,["id"]);n!=null&&m(e,["id"],n);const r=h(t,["args"]);r!=null&&m(e,["args"],r);const o=h(t,["name"]);if(o!=null&&m(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function y1(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&m(e,["description"],n);const r=h(t,["name"]);r!=null&&m(e,["name"],r);const o=h(t,["parameters"]);o!=null&&m(e,["parameters"],o);const a=h(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=h(t,["response"]);u!=null&&m(e,["response"],u);const d=h(t,["responseJsonSchema"]);return d!=null&&m(e,["responseJsonSchema"],d),e}function v1(t){const e={},n=h(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const r=h(t,["responseJsonSchema"]);r!=null&&m(e,["responseJsonSchema"],r);const o=h(t,["audioTimestamp"]);o!=null&&m(e,["audioTimestamp"],o);const a=h(t,["candidateCount"]);a!=null&&m(e,["candidateCount"],a);const u=h(t,["enableAffectiveDialog"]);u!=null&&m(e,["enableAffectiveDialog"],u);const d=h(t,["frequencyPenalty"]);d!=null&&m(e,["frequencyPenalty"],d);const p=h(t,["logprobs"]);p!=null&&m(e,["logprobs"],p);const f=h(t,["maxOutputTokens"]);f!=null&&m(e,["maxOutputTokens"],f);const y=h(t,["mediaResolution"]);y!=null&&m(e,["mediaResolution"],y);const _=h(t,["presencePenalty"]);_!=null&&m(e,["presencePenalty"],_);const x=h(t,["responseLogprobs"]);x!=null&&m(e,["responseLogprobs"],x);const b=h(t,["responseMimeType"]);b!=null&&m(e,["responseMimeType"],b);const T=h(t,["responseModalities"]);T!=null&&m(e,["responseModalities"],T);const A=h(t,["responseSchema"]);A!=null&&m(e,["responseSchema"],A);const R=h(t,["routingConfig"]);R!=null&&m(e,["routingConfig"],R);const k=h(t,["seed"]);k!=null&&m(e,["seed"],k);const P=h(t,["speechConfig"]);P!=null&&m(e,["speechConfig"],v_(P));const N=h(t,["stopSequences"]);N!=null&&m(e,["stopSequences"],N);const F=h(t,["temperature"]);F!=null&&m(e,["temperature"],F);const W=h(t,["thinkingConfig"]);W!=null&&m(e,["thinkingConfig"],W);const U=h(t,["topK"]);U!=null&&m(e,["topK"],U);const $=h(t,["topP"]);if($!=null&&m(e,["topP"],$),h(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function _1(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function x1(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function b1(t,e){const n={},r=h(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const o=h(t,["responseModalities"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","responseModalities"],o);const a=h(t,["temperature"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","temperature"],a);const u=h(t,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const d=h(t,["topK"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","topK"],d);const p=h(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const f=h(t,["mediaResolution"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","mediaResolution"],f);const y=h(t,["seed"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","seed"],y);const _=h(t,["speechConfig"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","speechConfig"],Af(_));const x=h(t,["thinkingConfig"]);e!==void 0&&x!=null&&m(e,["setup","generationConfig","thinkingConfig"],x);const b=h(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],b);const T=h(t,["systemInstruction"]);e!==void 0&&T!=null&&m(e,["setup","systemInstruction"],p1(Nt(T)));const A=h(t,["tools"]);if(e!==void 0&&A!=null){let U=Ss(A);Array.isArray(U)&&(U=U.map($=>M1(bs($)))),m(e,["setup","tools"],U)}const R=h(t,["sessionResumption"]);e!==void 0&&R!=null&&m(e,["setup","sessionResumption"],I1(R));const k=h(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&m(e,["setup","inputAudioTranscription"],k);const P=h(t,["outputAudioTranscription"]);e!==void 0&&P!=null&&m(e,["setup","outputAudioTranscription"],P);const N=h(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&m(e,["setup","realtimeInputConfig"],N);const F=h(t,["contextWindowCompression"]);e!==void 0&&F!=null&&m(e,["setup","contextWindowCompression"],F);const W=h(t,["proactivity"]);return e!==void 0&&W!=null&&m(e,["setup","proactivity"],W),n}function S1(t,e){const n={},r=h(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],v1(r));const o=h(t,["responseModalities"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","responseModalities"],o);const a=h(t,["temperature"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","temperature"],a);const u=h(t,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const d=h(t,["topK"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","topK"],d);const p=h(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const f=h(t,["mediaResolution"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","mediaResolution"],f);const y=h(t,["seed"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","seed"],y);const _=h(t,["speechConfig"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","speechConfig"],v_(Af(_)));const x=h(t,["thinkingConfig"]);e!==void 0&&x!=null&&m(e,["setup","generationConfig","thinkingConfig"],x);const b=h(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],b);const T=h(t,["systemInstruction"]);e!==void 0&&T!=null&&m(e,["setup","systemInstruction"],Nt(T));const A=h(t,["tools"]);if(e!==void 0&&A!=null){let U=Ss(A);Array.isArray(U)&&(U=U.map($=>z1(bs($)))),m(e,["setup","tools"],U)}const R=h(t,["sessionResumption"]);e!==void 0&&R!=null&&m(e,["setup","sessionResumption"],R);const k=h(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&m(e,["setup","inputAudioTranscription"],k);const P=h(t,["outputAudioTranscription"]);e!==void 0&&P!=null&&m(e,["setup","outputAudioTranscription"],P);const N=h(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&m(e,["setup","realtimeInputConfig"],N);const F=h(t,["contextWindowCompression"]);e!==void 0&&F!=null&&m(e,["setup","contextWindowCompression"],F);const W=h(t,["proactivity"]);return e!==void 0&&W!=null&&m(e,["setup","proactivity"],W),n}function w1(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["setup","model"],qe(t,r));const o=h(e,["config"]);return o!=null&&m(n,["config"],b1(o,n)),n}function E1(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["setup","model"],qe(t,r));const o=h(e,["config"]);return o!=null&&m(n,["config"],S1(o,n)),n}function T1(t){const e={},n=h(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],n),e}function C1(t){const e={},n=h(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),m(e,["weightedPrompts"],r)}return e}function A1(t){const e={},n=h(t,["media"]);if(n!=null){let f=s_(n);Array.isArray(f)&&(f=f.map(y=>El(y))),m(e,["mediaChunks"],f)}const r=h(t,["audio"]);r!=null&&m(e,["audio"],El(a_(r)));const o=h(t,["audioStreamEnd"]);o!=null&&m(e,["audioStreamEnd"],o);const a=h(t,["video"]);a!=null&&m(e,["video"],El(o_(a)));const u=h(t,["text"]);u!=null&&m(e,["text"],u);const d=h(t,["activityStart"]);d!=null&&m(e,["activityStart"],d);const p=h(t,["activityEnd"]);return p!=null&&m(e,["activityEnd"],p),e}function k1(t){const e={},n=h(t,["media"]);if(n!=null){let f=s_(n);Array.isArray(f)&&(f=f.map(y=>y)),m(e,["mediaChunks"],f)}const r=h(t,["audio"]);r!=null&&m(e,["audio"],a_(r));const o=h(t,["audioStreamEnd"]);o!=null&&m(e,["audioStreamEnd"],o);const a=h(t,["video"]);a!=null&&m(e,["video"],o_(a));const u=h(t,["text"]);u!=null&&m(e,["text"],u);const d=h(t,["activityStart"]);d!=null&&m(e,["activityStart"],d);const p=h(t,["activityEnd"]);return p!=null&&m(e,["activityEnd"],p),e}function N1(t){const e={},n=h(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],n);const r=h(t,["serverContent"]);r!=null&&m(e,["serverContent"],r);const o=h(t,["toolCall"]);o!=null&&m(e,["toolCall"],o);const a=h(t,["toolCallCancellation"]);a!=null&&m(e,["toolCallCancellation"],a);const u=h(t,["usageMetadata"]);u!=null&&m(e,["usageMetadata"],D1(u));const d=h(t,["goAway"]);d!=null&&m(e,["goAway"],d);const p=h(t,["sessionResumptionUpdate"]);return p!=null&&m(e,["sessionResumptionUpdate"],p),e}function R1(t){const e={},n=h(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=h(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const o=h(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const a=h(t,["fileData"]);a!=null&&m(e,["fileData"],m1(a));const u=h(t,["functionCall"]);u!=null&&m(e,["functionCall"],g1(u));const d=h(t,["functionResponse"]);d!=null&&m(e,["functionResponse"],d);const p=h(t,["inlineData"]);p!=null&&m(e,["inlineData"],El(p));const f=h(t,["text"]);f!=null&&m(e,["text"],f);const y=h(t,["thought"]);y!=null&&m(e,["thought"],y);const _=h(t,["thoughtSignature"]);_!=null&&m(e,["thoughtSignature"],_);const x=h(t,["videoMetadata"]);return x!=null&&m(e,["videoMetadata"],x),e}function I1(t){const e={},n=h(t,["handle"]);if(n!=null&&m(e,["handle"],n),h(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function v_(t){const e={},n=h(t,["languageCode"]);n!=null&&m(e,["languageCode"],n);const r=h(t,["voiceConfig"]);if(r!=null&&m(e,["voiceConfig"],r),h(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function M1(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>_)),m(e,["functionDeclarations"],y)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=h(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const o=h(t,["computerUse"]);o!=null&&m(e,["computerUse"],o);const a=h(t,["fileSearch"]);a!=null&&m(e,["fileSearch"],a);const u=h(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=h(t,["googleMaps"]);d!=null&&m(e,["googleMaps"],_1(d));const p=h(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],x1(p));const f=h(t,["urlContext"]);return f!=null&&m(e,["urlContext"],f),e}function z1(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(x=>y1(x))),m(e,["functionDeclarations"],_)}const r=h(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const o=h(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const a=h(t,["computerUse"]);if(a!=null&&m(e,["computerUse"],a),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=h(t,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const d=h(t,["enterpriseWebSearch"]);d!=null&&m(e,["enterpriseWebSearch"],d);const p=h(t,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const f=h(t,["googleSearch"]);f!=null&&m(e,["googleSearch"],f);const y=h(t,["urlContext"]);return y!=null&&m(e,["urlContext"],y),e}function D1(t){const e={},n=h(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const r=h(t,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const o=h(t,["candidatesTokenCount"]);o!=null&&m(e,["responseTokenCount"],o);const a=h(t,["toolUsePromptTokenCount"]);a!=null&&m(e,["toolUsePromptTokenCount"],a);const u=h(t,["thoughtsTokenCount"]);u!=null&&m(e,["thoughtsTokenCount"],u);const d=h(t,["totalTokenCount"]);d!=null&&m(e,["totalTokenCount"],d);const p=h(t,["promptTokensDetails"]);if(p!=null){let b=p;Array.isArray(b)&&(b=b.map(T=>T)),m(e,["promptTokensDetails"],b)}const f=h(t,["cacheTokensDetails"]);if(f!=null){let b=f;Array.isArray(b)&&(b=b.map(T=>T)),m(e,["cacheTokensDetails"],b)}const y=h(t,["candidatesTokensDetails"]);if(y!=null){let b=y;Array.isArray(b)&&(b=b.map(T=>T)),m(e,["responseTokensDetails"],b)}const _=h(t,["toolUsePromptTokensDetails"]);if(_!=null){let b=_;Array.isArray(b)&&(b=b.map(T=>T)),m(e,["toolUsePromptTokensDetails"],b)}const x=h(t,["trafficType"]);return x!=null&&m(e,["trafficType"],x),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function U1(t){const e={},n=h(t,["data"]);if(n!=null&&m(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function P1(t){const e={},n=h(t,["content"]);n!=null&&m(e,["content"],n);const r=h(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],O1(r));const o=h(t,["tokenCount"]);o!=null&&m(e,["tokenCount"],o);const a=h(t,["finishReason"]);a!=null&&m(e,["finishReason"],a);const u=h(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const d=h(t,["groundingMetadata"]);d!=null&&m(e,["groundingMetadata"],d);const p=h(t,["index"]);p!=null&&m(e,["index"],p);const f=h(t,["logprobsResult"]);f!=null&&m(e,["logprobsResult"],f);const y=h(t,["safetyRatings"]);if(y!=null){let x=y;Array.isArray(x)&&(x=x.map(b=>b)),m(e,["safetyRatings"],x)}const _=h(t,["urlContextMetadata"]);return _!=null&&m(e,["urlContextMetadata"],_),e}function O1(t){const e={},n=h(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),m(e,["citations"],r)}return e}function L1(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],qe(t,r));const o=h(e,["contents"]);if(o!=null){let a=vn(o);Array.isArray(a)&&(a=a.map(u=>u)),m(n,["contents"],a)}return n}function q1(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["tokensInfo"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["tokensInfo"],o)}return e}function B1(t){const e={},n=h(t,["values"]);n!=null&&m(e,["values"],n);const r=h(t,["statistics"]);return r!=null&&m(e,["statistics"],H1(r)),e}function H1(t){const e={},n=h(t,["truncated"]);n!=null&&m(e,["truncated"],n);const r=h(t,["token_count"]);return r!=null&&m(e,["tokenCount"],r),e}function Hl(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>XC(a))),m(e,["parts"],o)}const r=h(t,["role"]);return r!=null&&m(e,["role"],r),e}function V1(t){const e={},n=h(t,["controlType"]);n!=null&&m(e,["controlType"],n);const r=h(t,["enableControlImageComputation"]);return r!=null&&m(e,["computeControl"],r),e}function G1(t){const e={};if(h(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(h(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(h(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function F1(t,e){const n={},r=h(t,["systemInstruction"]);e!==void 0&&r!=null&&m(e,["systemInstruction"],Nt(r));const o=h(t,["tools"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>w_(d))),m(e,["tools"],u)}const a=h(t,["generationConfig"]);return e!==void 0&&a!=null&&m(e,["generationConfig"],UC(a)),n}function $1(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],qe(t,r));const o=h(e,["contents"]);if(o!=null){let u=vn(o);Array.isArray(u)&&(u=u.map(d=>Hl(d))),m(n,["contents"],u)}const a=h(e,["config"]);return a!=null&&G1(a),n}function j1(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],qe(t,r));const o=h(e,["contents"]);if(o!=null){let u=vn(o);Array.isArray(u)&&(u=u.map(d=>d)),m(n,["contents"],u)}const a=h(e,["config"]);return a!=null&&F1(a,n),n}function J1(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["totalTokens"]);r!=null&&m(e,["totalTokens"],r);const o=h(t,["cachedContentTokenCount"]);return o!=null&&m(e,["cachedContentTokenCount"],o),e}function Y1(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["totalTokens"]);return r!=null&&m(e,["totalTokens"],r),e}function K1(t,e){const n={},r=h(e,["model"]);return r!=null&&m(n,["_url","name"],qe(t,r)),n}function X1(t,e){const n={},r=h(e,["model"]);return r!=null&&m(n,["_url","name"],qe(t,r)),n}function Q1(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function W1(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Z1(t,e){const n={},r=h(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const o=h(t,["negativePrompt"]);e!==void 0&&o!=null&&m(e,["parameters","negativePrompt"],o);const a=h(t,["numberOfImages"]);e!==void 0&&a!=null&&m(e,["parameters","sampleCount"],a);const u=h(t,["aspectRatio"]);e!==void 0&&u!=null&&m(e,["parameters","aspectRatio"],u);const d=h(t,["guidanceScale"]);e!==void 0&&d!=null&&m(e,["parameters","guidanceScale"],d);const p=h(t,["seed"]);e!==void 0&&p!=null&&m(e,["parameters","seed"],p);const f=h(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&m(e,["parameters","safetySetting"],f);const y=h(t,["personGeneration"]);e!==void 0&&y!=null&&m(e,["parameters","personGeneration"],y);const _=h(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&m(e,["parameters","includeSafetyAttributes"],_);const x=h(t,["includeRaiReason"]);e!==void 0&&x!=null&&m(e,["parameters","includeRaiReason"],x);const b=h(t,["language"]);e!==void 0&&b!=null&&m(e,["parameters","language"],b);const T=h(t,["outputMimeType"]);e!==void 0&&T!=null&&m(e,["parameters","outputOptions","mimeType"],T);const A=h(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&m(e,["parameters","outputOptions","compressionQuality"],A);const R=h(t,["addWatermark"]);e!==void 0&&R!=null&&m(e,["parameters","addWatermark"],R);const k=h(t,["labels"]);e!==void 0&&k!=null&&m(e,["labels"],k);const P=h(t,["editMode"]);e!==void 0&&P!=null&&m(e,["parameters","editMode"],P);const N=h(t,["baseSteps"]);return e!==void 0&&N!=null&&m(e,["parameters","editConfig","baseSteps"],N),n}function eC(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],qe(t,r));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const a=h(e,["referenceImages"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>nA(p))),m(n,["instances[0]","referenceImages"],d)}const u=h(e,["config"]);return u!=null&&Z1(u,n),n}function tC(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Vl(a))),m(e,["generatedImages"],o)}return e}function nC(t,e){const n={},r=h(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const o=h(t,["title"]);e!==void 0&&o!=null&&m(e,["requests[]","title"],o);const a=h(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&m(e,["requests[]","outputDimensionality"],a),h(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function iC(t,e){const n={},r=h(t,["taskType"]);e!==void 0&&r!=null&&m(e,["instances[]","task_type"],r);const o=h(t,["title"]);e!==void 0&&o!=null&&m(e,["instances[]","title"],o);const a=h(t,["outputDimensionality"]);e!==void 0&&a!=null&&m(e,["parameters","outputDimensionality"],a);const u=h(t,["mimeType"]);e!==void 0&&u!=null&&m(e,["instances[]","mimeType"],u);const d=h(t,["autoTruncate"]);return e!==void 0&&d!=null&&m(e,["parameters","autoTruncate"],d),n}function rC(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],qe(t,r));const o=h(e,["contents"]);if(o!=null){let d=Ef(t,o);Array.isArray(d)&&(d=d.map(p=>p)),m(n,["requests[]","content"],d)}const a=h(e,["config"]);a!=null&&nC(a,n);const u=h(e,["model"]);return u!==void 0&&m(n,["requests[]","model"],qe(t,u)),n}function sC(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],qe(t,r));const o=h(e,["contents"]);if(o!=null){let u=Ef(t,o);Array.isArray(u)&&(u=u.map(d=>d)),m(n,["instances[]","content"],u)}const a=h(e,["config"]);return a!=null&&iC(a,n),n}function oC(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["embeddings"],a)}const o=h(t,["metadata"]);return o!=null&&m(e,["metadata"],o),e}function aC(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>B1(u))),m(e,["embeddings"],a)}const o=h(t,["metadata"]);return o!=null&&m(e,["metadata"],o),e}function lC(t){const e={},n=h(t,["endpoint"]);n!=null&&m(e,["name"],n);const r=h(t,["deployedModelId"]);return r!=null&&m(e,["deployedModelId"],r),e}function uC(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function cC(t){const e={},n=h(t,["id"]);n!=null&&m(e,["id"],n);const r=h(t,["args"]);r!=null&&m(e,["args"],r);const o=h(t,["name"]);if(o!=null&&m(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function dC(t){const e={},n=h(t,["mode"]);n!=null&&m(e,["mode"],n);const r=h(t,["allowedFunctionNames"]);if(r!=null&&m(e,["allowedFunctionNames"],r),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function fC(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&m(e,["description"],n);const r=h(t,["name"]);r!=null&&m(e,["name"],r);const o=h(t,["parameters"]);o!=null&&m(e,["parameters"],o);const a=h(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=h(t,["response"]);u!=null&&m(e,["response"],u);const d=h(t,["responseJsonSchema"]);return d!=null&&m(e,["responseJsonSchema"],d),e}function hC(t,e,n){const r={},o=h(e,["systemInstruction"]);n!==void 0&&o!=null&&m(n,["systemInstruction"],Hl(Nt(o)));const a=h(e,["temperature"]);a!=null&&m(r,["temperature"],a);const u=h(e,["topP"]);u!=null&&m(r,["topP"],u);const d=h(e,["topK"]);d!=null&&m(r,["topK"],d);const p=h(e,["candidateCount"]);p!=null&&m(r,["candidateCount"],p);const f=h(e,["maxOutputTokens"]);f!=null&&m(r,["maxOutputTokens"],f);const y=h(e,["stopSequences"]);y!=null&&m(r,["stopSequences"],y);const _=h(e,["responseLogprobs"]);_!=null&&m(r,["responseLogprobs"],_);const x=h(e,["logprobs"]);x!=null&&m(r,["logprobs"],x);const b=h(e,["presencePenalty"]);b!=null&&m(r,["presencePenalty"],b);const T=h(e,["frequencyPenalty"]);T!=null&&m(r,["frequencyPenalty"],T);const A=h(e,["seed"]);A!=null&&m(r,["seed"],A);const R=h(e,["responseMimeType"]);R!=null&&m(r,["responseMimeType"],R);const k=h(e,["responseSchema"]);k!=null&&m(r,["responseSchema"],Tf(k));const P=h(e,["responseJsonSchema"]);if(P!=null&&m(r,["responseJsonSchema"],P),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=h(e,["safetySettings"]);if(n!==void 0&&N!=null){let Q=N;Array.isArray(Q)&&(Q=Q.map(me=>iA(me))),m(n,["safetySettings"],Q)}const F=h(e,["tools"]);if(n!==void 0&&F!=null){let Q=Ss(F);Array.isArray(Q)&&(Q=Q.map(me=>cA(bs(me)))),m(n,["tools"],Q)}const W=h(e,["toolConfig"]);if(n!==void 0&&W!=null&&m(n,["toolConfig"],uA(W)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=h(e,["cachedContent"]);n!==void 0&&U!=null&&m(n,["cachedContent"],ri(t,U));const $=h(e,["responseModalities"]);$!=null&&m(r,["responseModalities"],$);const se=h(e,["mediaResolution"]);se!=null&&m(r,["mediaResolution"],se);const Z=h(e,["speechConfig"]);if(Z!=null&&m(r,["speechConfig"],Cf(Z)),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ae=h(e,["thinkingConfig"]);ae!=null&&m(r,["thinkingConfig"],ae);const ne=h(e,["imageConfig"]);return ne!=null&&m(r,["imageConfig"],BC(ne)),r}function pC(t,e,n){const r={},o=h(e,["systemInstruction"]);n!==void 0&&o!=null&&m(n,["systemInstruction"],Nt(o));const a=h(e,["temperature"]);a!=null&&m(r,["temperature"],a);const u=h(e,["topP"]);u!=null&&m(r,["topP"],u);const d=h(e,["topK"]);d!=null&&m(r,["topK"],d);const p=h(e,["candidateCount"]);p!=null&&m(r,["candidateCount"],p);const f=h(e,["maxOutputTokens"]);f!=null&&m(r,["maxOutputTokens"],f);const y=h(e,["stopSequences"]);y!=null&&m(r,["stopSequences"],y);const _=h(e,["responseLogprobs"]);_!=null&&m(r,["responseLogprobs"],_);const x=h(e,["logprobs"]);x!=null&&m(r,["logprobs"],x);const b=h(e,["presencePenalty"]);b!=null&&m(r,["presencePenalty"],b);const T=h(e,["frequencyPenalty"]);T!=null&&m(r,["frequencyPenalty"],T);const A=h(e,["seed"]);A!=null&&m(r,["seed"],A);const R=h(e,["responseMimeType"]);R!=null&&m(r,["responseMimeType"],R);const k=h(e,["responseSchema"]);k!=null&&m(r,["responseSchema"],Tf(k));const P=h(e,["responseJsonSchema"]);P!=null&&m(r,["responseJsonSchema"],P);const N=h(e,["routingConfig"]);N!=null&&m(r,["routingConfig"],N);const F=h(e,["modelSelectionConfig"]);F!=null&&m(r,["modelConfig"],F);const W=h(e,["safetySettings"]);if(n!==void 0&&W!=null){let L=W;Array.isArray(L)&&(L=L.map(ee=>ee)),m(n,["safetySettings"],L)}const U=h(e,["tools"]);if(n!==void 0&&U!=null){let L=Ss(U);Array.isArray(L)&&(L=L.map(ee=>w_(bs(ee)))),m(n,["tools"],L)}const $=h(e,["toolConfig"]);n!==void 0&&$!=null&&m(n,["toolConfig"],$);const se=h(e,["labels"]);n!==void 0&&se!=null&&m(n,["labels"],se);const Z=h(e,["cachedContent"]);n!==void 0&&Z!=null&&m(n,["cachedContent"],ri(t,Z));const ae=h(e,["responseModalities"]);ae!=null&&m(r,["responseModalities"],ae);const ne=h(e,["mediaResolution"]);ne!=null&&m(r,["mediaResolution"],ne);const Q=h(e,["speechConfig"]);Q!=null&&m(r,["speechConfig"],S_(Cf(Q)));const me=h(e,["audioTimestamp"]);me!=null&&m(r,["audioTimestamp"],me);const ce=h(e,["thinkingConfig"]);ce!=null&&m(r,["thinkingConfig"],ce);const ie=h(e,["imageConfig"]);return ie!=null&&m(r,["imageConfig"],HC(ie)),r}function w0(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],qe(t,r));const o=h(e,["contents"]);if(o!=null){let u=vn(o);Array.isArray(u)&&(u=u.map(d=>Hl(d))),m(n,["contents"],u)}const a=h(e,["config"]);return a!=null&&m(n,["generationConfig"],hC(t,a,n)),n}function E0(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],qe(t,r));const o=h(e,["contents"]);if(o!=null){let u=vn(o);Array.isArray(u)&&(u=u.map(d=>d)),m(n,["contents"],u)}const a=h(e,["config"]);return a!=null&&m(n,["generationConfig"],pC(t,a,n)),n}function T0(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["candidates"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(f=>P1(f))),m(e,["candidates"],p)}const o=h(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const a=h(t,["promptFeedback"]);a!=null&&m(e,["promptFeedback"],a);const u=h(t,["responseId"]);u!=null&&m(e,["responseId"],u);const d=h(t,["usageMetadata"]);return d!=null&&m(e,["usageMetadata"],d),e}function C0(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(y=>y)),m(e,["candidates"],f)}const o=h(t,["createTime"]);o!=null&&m(e,["createTime"],o);const a=h(t,["modelVersion"]);a!=null&&m(e,["modelVersion"],a);const u=h(t,["promptFeedback"]);u!=null&&m(e,["promptFeedback"],u);const d=h(t,["responseId"]);d!=null&&m(e,["responseId"],d);const p=h(t,["usageMetadata"]);return p!=null&&m(e,["usageMetadata"],p),e}function mC(t,e){const n={};if(h(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=h(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const o=h(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const a=h(t,["guidanceScale"]);if(e!==void 0&&a!=null&&m(e,["parameters","guidanceScale"],a),h(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=h(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const d=h(t,["personGeneration"]);e!==void 0&&d!=null&&m(e,["parameters","personGeneration"],d);const p=h(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&m(e,["parameters","includeSafetyAttributes"],p);const f=h(t,["includeRaiReason"]);e!==void 0&&f!=null&&m(e,["parameters","includeRaiReason"],f);const y=h(t,["language"]);e!==void 0&&y!=null&&m(e,["parameters","language"],y);const _=h(t,["outputMimeType"]);e!==void 0&&_!=null&&m(e,["parameters","outputOptions","mimeType"],_);const x=h(t,["outputCompressionQuality"]);if(e!==void 0&&x!=null&&m(e,["parameters","outputOptions","compressionQuality"],x),h(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(h(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=h(t,["imageSize"]);if(e!==void 0&&b!=null&&m(e,["parameters","sampleImageSize"],b),h(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function gC(t,e){const n={},r=h(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const o=h(t,["negativePrompt"]);e!==void 0&&o!=null&&m(e,["parameters","negativePrompt"],o);const a=h(t,["numberOfImages"]);e!==void 0&&a!=null&&m(e,["parameters","sampleCount"],a);const u=h(t,["aspectRatio"]);e!==void 0&&u!=null&&m(e,["parameters","aspectRatio"],u);const d=h(t,["guidanceScale"]);e!==void 0&&d!=null&&m(e,["parameters","guidanceScale"],d);const p=h(t,["seed"]);e!==void 0&&p!=null&&m(e,["parameters","seed"],p);const f=h(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&m(e,["parameters","safetySetting"],f);const y=h(t,["personGeneration"]);e!==void 0&&y!=null&&m(e,["parameters","personGeneration"],y);const _=h(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&m(e,["parameters","includeSafetyAttributes"],_);const x=h(t,["includeRaiReason"]);e!==void 0&&x!=null&&m(e,["parameters","includeRaiReason"],x);const b=h(t,["language"]);e!==void 0&&b!=null&&m(e,["parameters","language"],b);const T=h(t,["outputMimeType"]);e!==void 0&&T!=null&&m(e,["parameters","outputOptions","mimeType"],T);const A=h(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&m(e,["parameters","outputOptions","compressionQuality"],A);const R=h(t,["addWatermark"]);e!==void 0&&R!=null&&m(e,["parameters","addWatermark"],R);const k=h(t,["labels"]);e!==void 0&&k!=null&&m(e,["labels"],k);const P=h(t,["imageSize"]);e!==void 0&&P!=null&&m(e,["parameters","sampleImageSize"],P);const N=h(t,["enhancePrompt"]);return e!==void 0&&N!=null&&m(e,["parameters","enhancePrompt"],N),n}function yC(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],qe(t,r));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const a=h(e,["config"]);return a!=null&&mC(a,n),n}function vC(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],qe(t,r));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const a=h(e,["config"]);return a!=null&&gC(a,n),n}function _C(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>IC(u))),m(e,["generatedImages"],a)}const o=h(t,["positivePromptSafetyAttributes"]);return o!=null&&m(e,["positivePromptSafetyAttributes"],x_(o)),e}function xC(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>Vl(u))),m(e,["generatedImages"],a)}const o=h(t,["positivePromptSafetyAttributes"]);return o!=null&&m(e,["positivePromptSafetyAttributes"],b_(o)),e}function bC(t,e){const n={},r=h(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r),h(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=h(t,["durationSeconds"]);if(e!==void 0&&o!=null&&m(e,["parameters","durationSeconds"],o),h(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=h(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const u=h(t,["resolution"]);e!==void 0&&u!=null&&m(e,["parameters","resolution"],u);const d=h(t,["personGeneration"]);if(e!==void 0&&d!=null&&m(e,["parameters","personGeneration"],d),h(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=h(t,["negativePrompt"]);e!==void 0&&p!=null&&m(e,["parameters","negativePrompt"],p);const f=h(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&m(e,["parameters","enhancePrompt"],f),h(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const y=h(t,["lastFrame"]);e!==void 0&&y!=null&&m(e,["instances[0]","lastFrame"],Gl(y));const _=h(t,["referenceImages"]);if(e!==void 0&&_!=null){let x=_;Array.isArray(x)&&(x=x.map(b=>wA(b))),m(e,["instances[0]","referenceImages"],x)}if(h(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(h(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function SC(t,e){const n={},r=h(t,["numberOfVideos"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const o=h(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const a=h(t,["fps"]);e!==void 0&&a!=null&&m(e,["parameters","fps"],a);const u=h(t,["durationSeconds"]);e!==void 0&&u!=null&&m(e,["parameters","durationSeconds"],u);const d=h(t,["seed"]);e!==void 0&&d!=null&&m(e,["parameters","seed"],d);const p=h(t,["aspectRatio"]);e!==void 0&&p!=null&&m(e,["parameters","aspectRatio"],p);const f=h(t,["resolution"]);e!==void 0&&f!=null&&m(e,["parameters","resolution"],f);const y=h(t,["personGeneration"]);e!==void 0&&y!=null&&m(e,["parameters","personGeneration"],y);const _=h(t,["pubsubTopic"]);e!==void 0&&_!=null&&m(e,["parameters","pubsubTopic"],_);const x=h(t,["negativePrompt"]);e!==void 0&&x!=null&&m(e,["parameters","negativePrompt"],x);const b=h(t,["enhancePrompt"]);e!==void 0&&b!=null&&m(e,["parameters","enhancePrompt"],b);const T=h(t,["generateAudio"]);e!==void 0&&T!=null&&m(e,["parameters","generateAudio"],T);const A=h(t,["lastFrame"]);e!==void 0&&A!=null&&m(e,["instances[0]","lastFrame"],Cn(A));const R=h(t,["referenceImages"]);if(e!==void 0&&R!=null){let N=R;Array.isArray(N)&&(N=N.map(F=>EA(F))),m(e,["instances[0]","referenceImages"],N)}const k=h(t,["mask"]);e!==void 0&&k!=null&&m(e,["instances[0]","mask"],SA(k));const P=h(t,["compressionQuality"]);return e!==void 0&&P!=null&&m(e,["parameters","compressionQuality"],P),n}function wC(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const r=h(t,["metadata"]);r!=null&&m(e,["metadata"],r);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const a=h(t,["error"]);a!=null&&m(e,["error"],a);const u=h(t,["response","generateVideoResponse"]);return u!=null&&m(e,["response"],AC(u)),e}function EC(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const r=h(t,["metadata"]);r!=null&&m(e,["metadata"],r);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const a=h(t,["error"]);a!=null&&m(e,["error"],a);const u=h(t,["response"]);return u!=null&&m(e,["response"],kC(u)),e}function TC(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],qe(t,r));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const a=h(e,["image"]);a!=null&&m(n,["instances[0]","image"],Gl(a));const u=h(e,["video"]);u!=null&&m(n,["instances[0]","video"],E_(u));const d=h(e,["source"]);d!=null&&NC(d,n);const p=h(e,["config"]);return p!=null&&bC(p,n),n}function CC(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],qe(t,r));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const a=h(e,["image"]);a!=null&&m(n,["instances[0]","image"],Cn(a));const u=h(e,["video"]);u!=null&&m(n,["instances[0]","video"],T_(u));const d=h(e,["source"]);d!=null&&RC(d,n);const p=h(e,["config"]);return p!=null&&SC(p,n),n}function AC(t){const e={},n=h(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>zC(u))),m(e,["generatedVideos"],a)}const r=h(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const o=h(t,["raiMediaFilteredReasons"]);return o!=null&&m(e,["raiMediaFilteredReasons"],o),e}function kC(t){const e={},n=h(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>DC(u))),m(e,["generatedVideos"],a)}const r=h(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const o=h(t,["raiMediaFilteredReasons"]);return o!=null&&m(e,["raiMediaFilteredReasons"],o),e}function NC(t,e){const n={},r=h(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const o=h(t,["image"]);e!==void 0&&o!=null&&m(e,["instances[0]","image"],Gl(o));const a=h(t,["video"]);return e!==void 0&&a!=null&&m(e,["instances[0]","video"],E_(a)),n}function RC(t,e){const n={},r=h(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const o=h(t,["image"]);e!==void 0&&o!=null&&m(e,["instances[0]","image"],Cn(o));const a=h(t,["video"]);return e!==void 0&&a!=null&&m(e,["instances[0]","video"],T_(a)),n}function IC(t){const e={},n=h(t,["_self"]);n!=null&&m(e,["image"],VC(n));const r=h(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const o=h(t,["_self"]);return o!=null&&m(e,["safetyAttributes"],x_(o)),e}function Vl(t){const e={},n=h(t,["_self"]);n!=null&&m(e,["image"],__(n));const r=h(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const o=h(t,["_self"]);o!=null&&m(e,["safetyAttributes"],b_(o));const a=h(t,["prompt"]);return a!=null&&m(e,["enhancedPrompt"],a),e}function MC(t){const e={},n=h(t,["_self"]);n!=null&&m(e,["mask"],__(n));const r=h(t,["labels"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["labels"],o)}return e}function zC(t){const e={},n=h(t,["video"]);return n!=null&&m(e,["video"],xA(n)),e}function DC(t){const e={},n=h(t,["_self"]);return n!=null&&m(e,["video"],bA(n)),e}function UC(t){const e={},n=h(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const r=h(t,["responseJsonSchema"]);r!=null&&m(e,["responseJsonSchema"],r);const o=h(t,["audioTimestamp"]);o!=null&&m(e,["audioTimestamp"],o);const a=h(t,["candidateCount"]);a!=null&&m(e,["candidateCount"],a);const u=h(t,["enableAffectiveDialog"]);u!=null&&m(e,["enableAffectiveDialog"],u);const d=h(t,["frequencyPenalty"]);d!=null&&m(e,["frequencyPenalty"],d);const p=h(t,["logprobs"]);p!=null&&m(e,["logprobs"],p);const f=h(t,["maxOutputTokens"]);f!=null&&m(e,["maxOutputTokens"],f);const y=h(t,["mediaResolution"]);y!=null&&m(e,["mediaResolution"],y);const _=h(t,["presencePenalty"]);_!=null&&m(e,["presencePenalty"],_);const x=h(t,["responseLogprobs"]);x!=null&&m(e,["responseLogprobs"],x);const b=h(t,["responseMimeType"]);b!=null&&m(e,["responseMimeType"],b);const T=h(t,["responseModalities"]);T!=null&&m(e,["responseModalities"],T);const A=h(t,["responseSchema"]);A!=null&&m(e,["responseSchema"],A);const R=h(t,["routingConfig"]);R!=null&&m(e,["routingConfig"],R);const k=h(t,["seed"]);k!=null&&m(e,["seed"],k);const P=h(t,["speechConfig"]);P!=null&&m(e,["speechConfig"],S_(P));const N=h(t,["stopSequences"]);N!=null&&m(e,["stopSequences"],N);const F=h(t,["temperature"]);F!=null&&m(e,["temperature"],F);const W=h(t,["thinkingConfig"]);W!=null&&m(e,["thinkingConfig"],W);const U=h(t,["topK"]);U!=null&&m(e,["topK"],U);const $=h(t,["topP"]);if($!=null&&m(e,["topP"],$),h(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function PC(t,e){const n={},r=h(e,["model"]);return r!=null&&m(n,["_url","name"],qe(t,r)),n}function OC(t,e){const n={},r=h(e,["model"]);return r!=null&&m(n,["_url","name"],qe(t,r)),n}function LC(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function qC(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function BC(t){const e={},n=h(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=h(t,["imageSize"]);if(r!=null&&m(e,["imageSize"],r),h(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function HC(t){const e={},n=h(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=h(t,["imageSize"]);r!=null&&m(e,["imageSize"],r);const o=h(t,["outputMimeType"]);o!=null&&m(e,["imageOutputOptions","mimeType"],o);const a=h(t,["outputCompressionQuality"]);return a!=null&&m(e,["imageOutputOptions","compressionQuality"],a),e}function VC(t){const e={},n=h(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],Pi(n));const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function __(t){const e={},n=h(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=h(t,["bytesBase64Encoded"]);r!=null&&m(e,["imageBytes"],Pi(r));const o=h(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function Gl(t){const e={};if(h(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=h(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],Pi(n));const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Cn(t){const e={},n=h(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=h(t,["imageBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Pi(r));const o=h(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function GC(t,e,n){const r={},o=h(e,["pageSize"]);n!==void 0&&o!=null&&m(n,["_query","pageSize"],o);const a=h(e,["pageToken"]);n!==void 0&&a!=null&&m(n,["_query","pageToken"],a);const u=h(e,["filter"]);n!==void 0&&u!=null&&m(n,["_query","filter"],u);const d=h(e,["queryBase"]);return n!==void 0&&d!=null&&m(n,["_url","models_url"],d_(t,d)),r}function FC(t,e,n){const r={},o=h(e,["pageSize"]);n!==void 0&&o!=null&&m(n,["_query","pageSize"],o);const a=h(e,["pageToken"]);n!==void 0&&a!=null&&m(n,["_query","pageToken"],a);const u=h(e,["filter"]);n!==void 0&&u!=null&&m(n,["_query","filter"],u);const d=h(e,["queryBase"]);return n!==void 0&&d!=null&&m(n,["_url","models_url"],d_(t,d)),r}function $C(t,e){const n={},r=h(e,["config"]);return r!=null&&GC(t,r,n),n}function jC(t,e){const n={},r=h(e,["config"]);return r!=null&&FC(t,r,n),n}function JC(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const o=h(t,["_self"]);if(o!=null){let a=f_(o);Array.isArray(a)&&(a=a.map(u=>jd(u))),m(e,["models"],a)}return e}function YC(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const o=h(t,["_self"]);if(o!=null){let a=f_(o);Array.isArray(a)&&(a=a.map(u=>Jd(u))),m(e,["models"],a)}return e}function KC(t){const e={},n=h(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const r=h(t,["segmentationClasses"]);r!=null&&m(e,["maskClasses"],r);const o=h(t,["maskDilation"]);return o!=null&&m(e,["dilation"],o),e}function jd(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const r=h(t,["displayName"]);r!=null&&m(e,["displayName"],r);const o=h(t,["description"]);o!=null&&m(e,["description"],o);const a=h(t,["version"]);a!=null&&m(e,["version"],a);const u=h(t,["_self"]);u!=null&&m(e,["tunedModelInfo"],dA(u));const d=h(t,["inputTokenLimit"]);d!=null&&m(e,["inputTokenLimit"],d);const p=h(t,["outputTokenLimit"]);p!=null&&m(e,["outputTokenLimit"],p);const f=h(t,["supportedGenerationMethods"]);f!=null&&m(e,["supportedActions"],f);const y=h(t,["temperature"]);y!=null&&m(e,["temperature"],y);const _=h(t,["maxTemperature"]);_!=null&&m(e,["maxTemperature"],_);const x=h(t,["topP"]);x!=null&&m(e,["topP"],x);const b=h(t,["topK"]);b!=null&&m(e,["topK"],b);const T=h(t,["thinking"]);return T!=null&&m(e,["thinking"],T),e}function Jd(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const r=h(t,["displayName"]);r!=null&&m(e,["displayName"],r);const o=h(t,["description"]);o!=null&&m(e,["description"],o);const a=h(t,["versionId"]);a!=null&&m(e,["version"],a);const u=h(t,["deployedModels"]);if(u!=null){let _=u;Array.isArray(_)&&(_=_.map(x=>lC(x))),m(e,["endpoints"],_)}const d=h(t,["labels"]);d!=null&&m(e,["labels"],d);const p=h(t,["_self"]);p!=null&&m(e,["tunedModelInfo"],fA(p));const f=h(t,["defaultCheckpointId"]);f!=null&&m(e,["defaultCheckpointId"],f);const y=h(t,["checkpoints"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(x=>x)),m(e,["checkpoints"],_)}return e}function XC(t){const e={},n=h(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=h(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const o=h(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const a=h(t,["fileData"]);a!=null&&m(e,["fileData"],uC(a));const u=h(t,["functionCall"]);u!=null&&m(e,["functionCall"],cC(u));const d=h(t,["functionResponse"]);d!=null&&m(e,["functionResponse"],d);const p=h(t,["inlineData"]);p!=null&&m(e,["inlineData"],U1(p));const f=h(t,["text"]);f!=null&&m(e,["text"],f);const y=h(t,["thought"]);y!=null&&m(e,["thought"],y);const _=h(t,["thoughtSignature"]);_!=null&&m(e,["thoughtSignature"],_);const x=h(t,["videoMetadata"]);return x!=null&&m(e,["videoMetadata"],x),e}function QC(t){const e={},n=h(t,["productImage"]);return n!=null&&m(e,["image"],Cn(n)),e}function WC(t,e){const n={},r=h(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const o=h(t,["baseSteps"]);e!==void 0&&o!=null&&m(e,["parameters","baseSteps"],o);const a=h(t,["outputGcsUri"]);e!==void 0&&a!=null&&m(e,["parameters","storageUri"],a);const u=h(t,["seed"]);e!==void 0&&u!=null&&m(e,["parameters","seed"],u);const d=h(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&m(e,["parameters","safetySetting"],d);const p=h(t,["personGeneration"]);e!==void 0&&p!=null&&m(e,["parameters","personGeneration"],p);const f=h(t,["addWatermark"]);e!==void 0&&f!=null&&m(e,["parameters","addWatermark"],f);const y=h(t,["outputMimeType"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","mimeType"],y);const _=h(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&m(e,["parameters","outputOptions","compressionQuality"],_);const x=h(t,["enhancePrompt"]);e!==void 0&&x!=null&&m(e,["parameters","enhancePrompt"],x);const b=h(t,["labels"]);return e!==void 0&&b!=null&&m(e,["labels"],b),n}function ZC(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],qe(t,r));const o=h(e,["source"]);o!=null&&tA(o,n);const a=h(e,["config"]);return a!=null&&WC(a,n),n}function eA(t){const e={},n=h(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>Vl(o))),m(e,["generatedImages"],r)}return e}function tA(t,e){const n={},r=h(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const o=h(t,["personImage"]);e!==void 0&&o!=null&&m(e,["instances[0]","personImage","image"],Cn(o));const a=h(t,["productImages"]);if(e!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>QC(d))),m(e,["instances[0]","productImages"],u)}return n}function nA(t){const e={},n=h(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],Cn(n));const r=h(t,["referenceId"]);r!=null&&m(e,["referenceId"],r);const o=h(t,["referenceType"]);o!=null&&m(e,["referenceType"],o);const a=h(t,["maskImageConfig"]);a!=null&&m(e,["maskImageConfig"],KC(a));const u=h(t,["controlImageConfig"]);u!=null&&m(e,["controlImageConfig"],V1(u));const d=h(t,["styleImageConfig"]);d!=null&&m(e,["styleImageConfig"],d);const p=h(t,["subjectImageConfig"]);return p!=null&&m(e,["subjectImageConfig"],p),e}function x_(t){const e={},n=h(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=h(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const o=h(t,["contentType"]);return o!=null&&m(e,["contentType"],o),e}function b_(t){const e={},n=h(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=h(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const o=h(t,["contentType"]);return o!=null&&m(e,["contentType"],o),e}function iA(t){const e={},n=h(t,["category"]);if(n!=null&&m(e,["category"],n),h(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=h(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function rA(t){const e={},n=h(t,["image"]);return n!=null&&m(e,["image"],Cn(n)),e}function sA(t,e){const n={},r=h(t,["mode"]);e!==void 0&&r!=null&&m(e,["parameters","mode"],r);const o=h(t,["maxPredictions"]);e!==void 0&&o!=null&&m(e,["parameters","maxPredictions"],o);const a=h(t,["confidenceThreshold"]);e!==void 0&&a!=null&&m(e,["parameters","confidenceThreshold"],a);const u=h(t,["maskDilation"]);e!==void 0&&u!=null&&m(e,["parameters","maskDilation"],u);const d=h(t,["binaryColorThreshold"]);e!==void 0&&d!=null&&m(e,["parameters","binaryColorThreshold"],d);const p=h(t,["labels"]);return e!==void 0&&p!=null&&m(e,["labels"],p),n}function oA(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],qe(t,r));const o=h(e,["source"]);o!=null&&lA(o,n);const a=h(e,["config"]);return a!=null&&sA(a,n),n}function aA(t){const e={},n=h(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>MC(o))),m(e,["generatedMasks"],r)}return e}function lA(t,e){const n={},r=h(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const o=h(t,["image"]);e!==void 0&&o!=null&&m(e,["instances[0]","image"],Cn(o));const a=h(t,["scribbleImage"]);return e!==void 0&&a!=null&&m(e,["instances[0]","scribble"],rA(a)),n}function S_(t){const e={},n=h(t,["languageCode"]);n!=null&&m(e,["languageCode"],n);const r=h(t,["voiceConfig"]);if(r!=null&&m(e,["voiceConfig"],r),h(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function uA(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],dC(n));const r=h(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],r),e}function cA(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>_)),m(e,["functionDeclarations"],y)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=h(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const o=h(t,["computerUse"]);o!=null&&m(e,["computerUse"],o);const a=h(t,["fileSearch"]);a!=null&&m(e,["fileSearch"],a);const u=h(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=h(t,["googleMaps"]);d!=null&&m(e,["googleMaps"],LC(d));const p=h(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],qC(p));const f=h(t,["urlContext"]);return f!=null&&m(e,["urlContext"],f),e}function w_(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(x=>fC(x))),m(e,["functionDeclarations"],_)}const r=h(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const o=h(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const a=h(t,["computerUse"]);if(a!=null&&m(e,["computerUse"],a),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=h(t,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const d=h(t,["enterpriseWebSearch"]);d!=null&&m(e,["enterpriseWebSearch"],d);const p=h(t,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const f=h(t,["googleSearch"]);f!=null&&m(e,["googleSearch"],f);const y=h(t,["urlContext"]);return y!=null&&m(e,["urlContext"],y),e}function dA(t){const e={},n=h(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=h(t,["createTime"]);r!=null&&m(e,["createTime"],r);const o=h(t,["updateTime"]);return o!=null&&m(e,["updateTime"],o),e}function fA(t){const e={},n=h(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const r=h(t,["createTime"]);r!=null&&m(e,["createTime"],r);const o=h(t,["updateTime"]);return o!=null&&m(e,["updateTime"],o),e}function hA(t,e){const n={},r=h(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const o=h(t,["description"]);e!==void 0&&o!=null&&m(e,["description"],o);const a=h(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&m(e,["defaultCheckpointId"],a),n}function pA(t,e){const n={},r=h(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const o=h(t,["description"]);e!==void 0&&o!=null&&m(e,["description"],o);const a=h(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&m(e,["defaultCheckpointId"],a),n}function mA(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","name"],qe(t,r));const o=h(e,["config"]);return o!=null&&hA(o,n),n}function gA(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],qe(t,r));const o=h(e,["config"]);return o!=null&&pA(o,n),n}function yA(t,e){const n={},r=h(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const o=h(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&m(e,["parameters","safetySetting"],o);const a=h(t,["personGeneration"]);e!==void 0&&a!=null&&m(e,["parameters","personGeneration"],a);const u=h(t,["includeRaiReason"]);e!==void 0&&u!=null&&m(e,["parameters","includeRaiReason"],u);const d=h(t,["outputMimeType"]);e!==void 0&&d!=null&&m(e,["parameters","outputOptions","mimeType"],d);const p=h(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&m(e,["parameters","outputOptions","compressionQuality"],p);const f=h(t,["enhanceInputImage"]);e!==void 0&&f!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],f);const y=h(t,["imagePreservationFactor"]);e!==void 0&&y!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],y);const _=h(t,["labels"]);e!==void 0&&_!=null&&m(e,["labels"],_);const x=h(t,["numberOfImages"]);e!==void 0&&x!=null&&m(e,["parameters","sampleCount"],x);const b=h(t,["mode"]);return e!==void 0&&b!=null&&m(e,["parameters","mode"],b),n}function vA(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],qe(t,r));const o=h(e,["image"]);o!=null&&m(n,["instances[0]","image"],Cn(o));const a=h(e,["upscaleFactor"]);a!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],a);const u=h(e,["config"]);return u!=null&&yA(u,n),n}function _A(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Vl(a))),m(e,["generatedImages"],o)}return e}function xA(t){const e={},n=h(t,["uri"]);n!=null&&m(e,["uri"],n);const r=h(t,["encodedVideo"]);r!=null&&m(e,["videoBytes"],Pi(r));const o=h(t,["encoding"]);return o!=null&&m(e,["mimeType"],o),e}function bA(t){const e={},n=h(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=h(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],Pi(r));const o=h(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function SA(t){const e={},n=h(t,["image"]);n!=null&&m(e,["_self"],Cn(n));const r=h(t,["maskMode"]);return r!=null&&m(e,["maskMode"],r),e}function wA(t){const e={},n=h(t,["image"]);n!=null&&m(e,["image"],Gl(n));const r=h(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function EA(t){const e={},n=h(t,["image"]);n!=null&&m(e,["image"],Cn(n));const r=h(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function E_(t){const e={},n=h(t,["uri"]);n!=null&&m(e,["uri"],n);const r=h(t,["videoBytes"]);r!=null&&m(e,["encodedVideo"],Pi(r));const o=h(t,["mimeType"]);return o!=null&&m(e,["encoding"],o),e}function T_(t){const e={},n=h(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const r=h(t,["videoBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Pi(r));const o=h(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TA="Content-Type",CA="X-Server-Timeout",AA="User-Agent",Yd="x-goog-api-client",kA="1.30.0",NA=`google-genai-sdk/${kA}`,RA="v1beta1",IA="v1beta",A0=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class MA{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:RA,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:IA,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const o=[this.getRequestUrlInternal(n)];return r&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[u,d]of Object.entries(e.queryParams))o.searchParams.append(u,String(d));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,o.toString(),e.abortSignal),this.unaryApiCall(o,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[o,a]of Object.entries(n))typeof a=="object"?r[o]=Object.assign(Object.assign({},r[o]),a):a!==void 0&&(r[o]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,r);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,o.toString(),e.abortSignal),this.streamApiCall(o,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,o){if(n&&n.timeout||o){const a=new AbortController,u=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const d=setTimeout(()=>a.abort(),n.timeout);d&&typeof d.unref=="function"&&d.unref()}o&&o.addEventListener("abort",()=>{a.abort()}),e.signal=u}return n&&n.extraBody!==null&&zA(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await k0(o),new Gd(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await k0(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var n;return hs(this,arguments,function*(){const o=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let u="";for(;;){const{done:d,value:p}=yield nt(o.read());if(d){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=a.decode(p,{stream:!0});try{const _=JSON.parse(f);if("error"in _){const x=JSON.parse(JSON.stringify(_.error)),b=x.status,T=x.code,A=`got status: ${b}. ${JSON.stringify(_)}`;if(T>=400&&T<600)throw new Bl({message:A,status:T})}}catch(_){if(_.name==="ApiError")throw _}u+=f;let y=u.match(A0);for(;y;){const _=y[1];try{const x=new Response(_,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield nt(new Gd(x)),u=u.slice(y[0].length),y=u.match(A0)}catch(x){throw new Error(`exception parsing stream chunk ${_}. ${x}`)}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=NA+" "+this.clientOptions.userAgentExtra;return e[AA]=n,e[Yd]=n,e[TA]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[o,a]of Object.entries(e.headers))r.append(o,a);e.timeout&&e.timeout>0&&r.append(CA,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const a=this.clientOptions.uploader,u=await a.stat(e);o.sizeBytes=String(u.size);const d=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:u.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=d;const p={file:o},f=this.getFileName(e),y=oe("upload/v1beta/files",p._url),_=await this.fetchUploadUrl(y,o.sizeBytes,o.mimeType,f,p,n==null?void 0:n.httpOptions);return a.upload(e,_,this)}async uploadFileToFileSearchStore(e,n,r){var o;const a=this.clientOptions.uploader,u=await a.stat(n),d=String(u.size),p=(o=r==null?void 0:r.mimeType)!==null&&o!==void 0?o:u.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,y=this.getFileName(n),_={};r!=null&&r.customMetadata&&(_.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(_.chunkingConfig=r.chunkingConfig);const x=await this.fetchUploadUrl(f,d,p,y,_,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,x,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,o,a,u){var d;let p={};u?p=u:p={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},o?{"X-Goog-Upload-File-Name":o}:{})};const f=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:p});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(d=f==null?void 0:f.headers)===null||d===void 0?void 0:d["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function k0(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(r);throw n>=400&&n<600?new Bl({message:o,status:n}):new Error(o)}}function zA(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,u){const d=Object.assign({},a);for(const p in u)if(Object.prototype.hasOwnProperty.call(u,p)){const f=u[p],y=d[p];f&&typeof f=="object"&&!Array.isArray(f)&&y&&typeof y=="object"&&!Array.isArray(y)?d[p]=r(y,f):(y&&f&&typeof y!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof y}, New type: ${typeof f}. Overwriting.`),d[p]=f)}return d}const o=r(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DA="mcp_used/unknown";let UA=!1;function C_(t){for(const e of t)if(PA(e)||typeof e=="object"&&"inputSchema"in e)return!0;return UA}function A_(t){var e;const n=(e=t[Yd])!==null&&e!==void 0?e:"";t[Yd]=(n+` ${DA}`).trimStart()}function PA(t){return t!==null&&typeof t=="object"&&t instanceof kf}function OA(t,e=100){return hs(this,arguments,function*(){let r,o=0;for(;o<e;){const a=yield nt(t.listTools({cursor:r}));for(const u of a.tools)yield yield nt(u),o++;if(!a.nextCursor)break;r=a.nextCursor}})}class kf{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new kf(e,n)}async initialize(){var e,n,r,o;if(this.mcpTools.length>0)return;const a={},u=[];for(const y of this.mcpClients)try{for(var d=!0,p=(n=void 0,No(OA(y))),f;f=await p.next(),e=f.done,!e;d=!0){o=f.value,d=!1;const _=o;u.push(_);const x=_.name;if(a[x])throw new Error(`Duplicate function name ${x} found in MCP tools. Please ensure function names are unique.`);a[x]=y}}catch(_){n={error:_}}finally{try{!d&&!e&&(r=p.return)&&await r.call(p)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),NE(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const u=await o.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:u.isError?{error:u}:u}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function LA(t,e,n){const r=new bE;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(r,o),e(r)}class qA{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),u=VA(this.apiClient.getDefaultHeaders()),d=this.apiClient.getApiKey(),p=`${o}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${d}`;let f=()=>{};const y=new Promise(N=>{f=N}),_=e.callbacks,x=function(){f({})},b=this.apiClient,T={onopen:x,onmessage:N=>{LA(b,_.onmessage,N)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(N){},onclose:(r=_==null?void 0:_.onclose)!==null&&r!==void 0?r:function(N){}},A=this.webSocketFactory.create(p,HA(u),T);A.connect(),await y;const P={setup:{model:qe(this.apiClient,e.model)}};return A.send(JSON.stringify(P)),new BA(A,this.apiClient)}}class BA{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=C1(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=T1(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ds.PLAY)}pause(){this.sendPlaybackControl(ds.PAUSE)}stop(){this.sendPlaybackControl(ds.STOP)}resetContext(){this.sendPlaybackControl(ds.RESET_CONTEXT)}close(){this.conn.close()}}function HA(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function VA(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GA="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function FA(t,e,n){const r=new xE;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const a=JSON.parse(o);if(t.isVertexAI()){const u=N1(a);Object.assign(r,u)}else Object.assign(r,a);e(r)}class $A{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new qA(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,o,a,u,d;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let y;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&C_(e.config.tools)&&A_(_);const x=KA(_);if(this.apiClient.isVertexAI())y=`${p}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(x,y);else{const Z=this.apiClient.getApiKey();let ae="BidiGenerateContent",ne="key";Z!=null&&Z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ae="BidiGenerateContentConstrained",ne="access_token"),y=`${p}/ws/google.ai.generativelanguage.${f}.GenerativeService.${ae}?${ne}=${Z}`}let b=()=>{};const T=new Promise(Z=>{b=Z}),A=e.callbacks,R=function(){var Z;(Z=A==null?void 0:A.onopen)===null||Z===void 0||Z.call(A),b({})},k=this.apiClient,P={onopen:R,onmessage:Z=>{FA(k,A.onmessage,Z)},onerror:(n=A==null?void 0:A.onerror)!==null&&n!==void 0?n:function(Z){},onclose:(r=A==null?void 0:A.onclose)!==null&&r!==void 0?r:function(Z){}},N=this.webSocketFactory.create(y,YA(x),P);N.connect(),await T;let F=qe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&F.startsWith("publishers/")){const Z=this.apiClient.getProject(),ae=this.apiClient.getLocation();F=`projects/${Z}/locations/${ae}/`+F}let W={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Cl.AUDIO]}:e.config.responseModalities=[Cl.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const U=(d=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&d!==void 0?d:[],$=[];for(const Z of U)if(this.isCallableTool(Z)){const ae=Z;$.push(await ae.tool())}else $.push(Z);$.length>0&&(e.config.tools=$);const se={model:F,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?W=E1(this.apiClient,se):W=w1(this.apiClient,se),delete W.config,N.send(JSON.stringify(W)),new JA(N,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const jA={turnComplete:!0};class JA{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=vn(n.turns),e.isVertexAI()||(r=r.map(o=>Hl(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(GA)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},jA),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:k1(e)}:n={realtimeInput:A1(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function YA(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function KA(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const N0=10;function R0(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const u of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(ps(u)){o=!0;break}if(!o)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function ps(t){return"callTool"in t&&typeof t.callTool=="function"}function XA(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>ps(o)))!==null&&r!==void 0?r:!1}function I0(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,o)=>{if(ps(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(o)}),n}function M0(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QA extends ii{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,o,a,u,d;const p=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!XA(n)||R0(n.config))return await this.generateContentInternal(p);const f=I0(n);if(f.length>0){const A=f.map(R=>`tools[${R}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let y,_;const x=vn(p.contents),b=(a=(o=(r=p.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&a!==void 0?a:N0;let T=0;for(;T<b&&(y=await this.generateContentInternal(p),!(!y.functionCalls||y.functionCalls.length===0));){const A=y.candidates[0].content,R=[];for(const k of(d=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&d!==void 0?d:[])if(ps(k)){const N=await k.callTool(y.functionCalls);R.push(...N)}T++,_={role:"user",parts:R},p.contents=vn(p.contents),p.contents.push(A),p.contents.push(_),M0(p.config)&&(x.push(A),x.push(_))}return M0(p.config)&&(y.automaticFunctionCallingHistory=x),y},this.generateContentStream=async n=>{var r,o,a,u,d;if(this.maybeMoveToResponseJsonSchem(n),R0(n.config)){const _=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(_)}const p=I0(n);if(p.length>0){const _=p.map(x=>`tools[${x}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(a=(o=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,y=(d=(u=n==null?void 0:n.config)===null||u===void 0?void 0:u.automaticFunctionCalling)===null||d===void 0?void 0:d.disable;if(f&&!y)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var o;let a;const u=[];if(r!=null&&r.generatedImages)for(const p of r.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((o=p==null?void 0:p.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?a=p==null?void 0:p.safetyAttributes:u.push(p);let d;return a?d={generatedImages:u,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:d={generatedImages:u,sdkHttpResponse:r.sdkHttpResponse},d}),this.list=async n=>{var r;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((r=u.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new cr(ni.PAGED_ITEM_MODELS,d=>this.listInternal(d),await this.listInternal(u),u)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var r,o,a,u,d,p;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((u=(a=n.source)===null||a===void 0?void 0:a.video)===null||u===void 0)&&u.uri&&(!((p=(d=n.source)===null||d===void 0?void 0:d.video)===null||p===void 0)&&p.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,o;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const u=await Promise.all(a.map(async p=>ps(p)?await p.tool():p)),d={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(d.config.tools=u,e.config&&e.config.tools&&C_(e.config.tools)){const p=(o=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&o!==void 0?o:{};let f=Object.assign({},p);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),A_(f),d.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return d}async initAfcToolsMap(e){var n,r,o;const a=new Map;for(const u of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(ps(u)){const d=u,p=await d.tool();for(const f of(o=p.functionDeclarations)!==null&&o!==void 0?o:[]){if(!f.name)throw new Error("Function declaration name is required.");if(a.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);a.set(f.name,d)}}return a}async processAfcStream(e){var n,r,o;const a=(o=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&o!==void 0?o:N0;let u=!1,d=0;const p=await this.initAfcToolsMap(e);return(function(f,y,_){var x,b;return hs(this,arguments,function*(){for(var T,A,R,k;d<a;){u&&(d++,u=!1);const W=yield nt(f.processParamsMaybeAddMcpUsage(_)),U=yield nt(f.generateContentStreamInternal(W)),$=[],se=[];try{for(var P=!0,N=(A=void 0,No(U)),F;F=yield nt(N.next()),T=F.done,!T;P=!0){k=F.value,P=!1;const Z=k;if(yield yield nt(Z),Z.candidates&&(!((x=Z.candidates[0])===null||x===void 0)&&x.content)){se.push(Z.candidates[0].content);for(const ae of(b=Z.candidates[0].content.parts)!==null&&b!==void 0?b:[])if(d<a&&ae.functionCall){if(!ae.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(ae.functionCall.name)){const ne=yield nt(y.get(ae.functionCall.name).callTool([ae.functionCall]));$.push(...ne)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${ae.functionCall.name}`)}}}}catch(Z){A={error:Z}}finally{try{!P&&!T&&(R=N.return)&&(yield nt(R.call(N)))}finally{if(A)throw A.error}}if($.length>0){u=!0;const Z=new wo;Z.candidates=[{content:{role:"user",parts:$}}],yield yield nt(Z);const ae=[];ae.push(...se),ae.push({role:"user",parts:$});const ne=vn(_.contents).concat(ae);_.contents=ne}else break}})})(this,p,e)}async generateContentInternal(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=E0(this.apiClient,e);return d=oe("{model}:generateContent",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:y.headers},x})),u.then(y=>{const _=C0(y),x=new wo;return Object.assign(x,_),x})}else{const f=w0(this.apiClient,e);return d=oe("{model}:generateContent",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:y.headers},x})),u.then(y=>{const _=T0(y),x=new wo;return Object.assign(x,_),x})}}async generateContentStreamInternal(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=E0(this.apiClient,e);return d=oe("{model}:streamGenerateContent?alt=sse",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.requestStream({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),u.then(function(_){return hs(this,arguments,function*(){var x,b,T,A;try{for(var R=!0,k=No(_),P;P=yield nt(k.next()),x=P.done,!x;R=!0){A=P.value,R=!1;const N=A,F=C0(yield nt(N.json()));F.sdkHttpResponse={headers:N.headers};const W=new wo;Object.assign(W,F),yield yield nt(W)}}catch(N){b={error:N}}finally{try{!R&&!x&&(T=k.return)&&(yield nt(T.call(k)))}finally{if(b)throw b.error}}})})}else{const f=w0(this.apiClient,e);return d=oe("{model}:streamGenerateContent?alt=sse",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.requestStream({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),u.then(function(_){return hs(this,arguments,function*(){var x,b,T,A;try{for(var R=!0,k=No(_),P;P=yield nt(k.next()),x=P.done,!x;R=!0){A=P.value,R=!1;const N=A,F=T0(yield nt(N.json()));F.sdkHttpResponse={headers:N.headers};const W=new wo;Object.assign(W,F),yield yield nt(W)}}catch(N){b={error:N}}finally{try{!R&&!x&&(T=k.return)&&(yield nt(T.call(k)))}finally{if(b)throw b.error}}})})}}async embedContent(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=sC(this.apiClient,e);return d=oe("{model}:predict",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:y.headers},x})),u.then(y=>{const _=aC(y),x=new a0;return Object.assign(x,_),x})}else{const f=rC(this.apiClient,e);return d=oe("{model}:batchEmbedContents",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:y.headers},x})),u.then(y=>{const _=oC(y),x=new a0;return Object.assign(x,_),x})}}async generateImagesInternal(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=vC(this.apiClient,e);return d=oe("{model}:predict",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:y.headers},x})),u.then(y=>{const _=xC(y),x=new l0;return Object.assign(x,_),x})}else{const f=yC(this.apiClient,e);return d=oe("{model}:predict",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:y.headers},x})),u.then(y=>{const _=_C(y),x=new l0;return Object.assign(x,_),x})}}async editImageInternal(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI()){const d=eC(this.apiClient,e);return a=oe("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(f=>{const y=f;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const f=tC(p),y=new uE;return Object.assign(y,f),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI()){const d=vA(this.apiClient,e);return a=oe("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(f=>{const y=f;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const f=_A(p),y=new cE;return Object.assign(y,f),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI()){const d=ZC(this.apiClient,e);return a=oe("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>{const f=eA(p),y=new dE;return Object.assign(y,f),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI()){const d=oA(this.apiClient,e);return a=oe("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>{const f=aA(p),y=new fE;return Object.assign(y,f),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=OC(this.apiClient,e);return d=oe("{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u.then(y=>Jd(y))}else{const f=PC(this.apiClient,e);return d=oe("{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>jd(y))}}async listInternal(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=jC(this.apiClient,e);return d=oe("{models_url}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:y.headers},x})),u.then(y=>{const _=YC(y),x=new u0;return Object.assign(x,_),x})}else{const f=$C(this.apiClient,e);return d=oe("{models_url}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:y.headers},x})),u.then(y=>{const _=JC(y),x=new u0;return Object.assign(x,_),x})}}async update(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=gA(this.apiClient,e);return d=oe("{model}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u.then(y=>Jd(y))}else{const f=mA(this.apiClient,e);return d=oe("{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>jd(y))}}async delete(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=X1(this.apiClient,e);return d=oe("{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:y.headers},x})),u.then(y=>{const _=W1(y),x=new c0;return Object.assign(x,_),x})}else{const f=K1(this.apiClient,e);return d=oe("{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:y.headers},x})),u.then(y=>{const _=Q1(y),x=new c0;return Object.assign(x,_),x})}}async countTokens(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=j1(this.apiClient,e);return d=oe("{model}:countTokens",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:y.headers},x})),u.then(y=>{const _=Y1(y),x=new d0;return Object.assign(x,_),x})}else{const f=$1(this.apiClient,e);return d=oe("{model}:countTokens",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:y.headers},x})),u.then(y=>{const _=J1(y),x=new d0;return Object.assign(x,_),x})}}async computeTokens(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI()){const d=L1(this.apiClient,e);return a=oe("{model}:computeTokens",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(f=>{const y=f;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const f=q1(p),y=new hE;return Object.assign(y,f),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=CC(this.apiClient,e);return d=oe("{model}:predictLongRunning",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u.then(y=>{const _=EC(y),x=new Al;return Object.assign(x,_),x})}else{const f=TC(this.apiClient,e);return d=oe("{model}:predictLongRunning",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const _=wC(y),x=new Al;return Object.assign(x,_),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WA extends ii{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=iE(e);return d=oe("{operationName}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u}else{const f=nE(e);return d=oe("{operationName}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u}}async fetchPredictVideosOperationInternal(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI()){const d=Kw(e);return a=oe("{resourceName}:fetchPredictOperation",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZA(t){const e={},n=h(t,["data"]);if(n!=null&&m(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function ek(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>uk(a))),m(e,["parts"],o)}const r=h(t,["role"]);return r!=null&&m(e,["role"],r),e}function tk(t,e,n){const r={},o=h(e,["expireTime"]);n!==void 0&&o!=null&&m(n,["expireTime"],o);const a=h(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&m(n,["newSessionExpireTime"],a);const u=h(e,["uses"]);n!==void 0&&u!=null&&m(n,["uses"],u);const d=h(e,["liveConnectConstraints"]);n!==void 0&&d!=null&&m(n,["bidiGenerateContentSetup"],lk(t,d));const p=h(e,["lockAdditionalFields"]);return n!==void 0&&p!=null&&m(n,["fieldMask"],p),r}function nk(t,e){const n={},r=h(e,["config"]);return r!=null&&m(n,["config"],tk(t,r,n)),n}function ik(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function rk(t){const e={},n=h(t,["id"]);n!=null&&m(e,["id"],n);const r=h(t,["args"]);r!=null&&m(e,["args"],r);const o=h(t,["name"]);if(o!=null&&m(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function sk(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function ok(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function ak(t,e){const n={},r=h(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const o=h(t,["responseModalities"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","responseModalities"],o);const a=h(t,["temperature"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","temperature"],a);const u=h(t,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const d=h(t,["topK"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","topK"],d);const p=h(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const f=h(t,["mediaResolution"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","mediaResolution"],f);const y=h(t,["seed"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","seed"],y);const _=h(t,["speechConfig"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","speechConfig"],Af(_));const x=h(t,["thinkingConfig"]);e!==void 0&&x!=null&&m(e,["setup","generationConfig","thinkingConfig"],x);const b=h(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],b);const T=h(t,["systemInstruction"]);e!==void 0&&T!=null&&m(e,["setup","systemInstruction"],ek(Nt(T)));const A=h(t,["tools"]);if(e!==void 0&&A!=null){let U=Ss(A);Array.isArray(U)&&(U=U.map($=>dk(bs($)))),m(e,["setup","tools"],U)}const R=h(t,["sessionResumption"]);e!==void 0&&R!=null&&m(e,["setup","sessionResumption"],ck(R));const k=h(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&m(e,["setup","inputAudioTranscription"],k);const P=h(t,["outputAudioTranscription"]);e!==void 0&&P!=null&&m(e,["setup","outputAudioTranscription"],P);const N=h(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&m(e,["setup","realtimeInputConfig"],N);const F=h(t,["contextWindowCompression"]);e!==void 0&&F!=null&&m(e,["setup","contextWindowCompression"],F);const W=h(t,["proactivity"]);return e!==void 0&&W!=null&&m(e,["setup","proactivity"],W),n}function lk(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["setup","model"],qe(t,r));const o=h(e,["config"]);return o!=null&&m(n,["config"],ak(o,n)),n}function uk(t){const e={},n=h(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=h(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const o=h(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const a=h(t,["fileData"]);a!=null&&m(e,["fileData"],ik(a));const u=h(t,["functionCall"]);u!=null&&m(e,["functionCall"],rk(u));const d=h(t,["functionResponse"]);d!=null&&m(e,["functionResponse"],d);const p=h(t,["inlineData"]);p!=null&&m(e,["inlineData"],ZA(p));const f=h(t,["text"]);f!=null&&m(e,["text"],f);const y=h(t,["thought"]);y!=null&&m(e,["thought"],y);const _=h(t,["thoughtSignature"]);_!=null&&m(e,["thoughtSignature"],_);const x=h(t,["videoMetadata"]);return x!=null&&m(e,["videoMetadata"],x),e}function ck(t){const e={},n=h(t,["handle"]);if(n!=null&&m(e,["handle"],n),h(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function dk(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(_=>_)),m(e,["functionDeclarations"],y)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=h(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const o=h(t,["computerUse"]);o!=null&&m(e,["computerUse"],o);const a=h(t,["fileSearch"]);a!=null&&m(e,["fileSearch"],a);const u=h(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=h(t,["googleMaps"]);d!=null&&m(e,["googleMaps"],sk(d));const p=h(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],ok(p));const f=h(t,["urlContext"]);return f!=null&&m(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fk(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const o=Object.keys(r).map(a=>`${n}.${a}`);e.push(...o)}else e.push(n)}return e.join(",")}function hk(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const a=fk(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let d=[];o.length>0&&(d=o.map(f=>u.includes(f)?`generationConfig.${f}`:f));const p=[];a&&p.push(a),d.length>0&&p.push(...d),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class pk extends ii{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const d=nk(this.apiClient,e);a=oe("auth_tokens",d._url),u=d._query,delete d.config,delete d._url,delete d._query;const p=hk(d,e.config);return o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mk(t,e){const n={},r=h(t,["displayName"]);return e!==void 0&&r!=null&&m(e,["displayName"],r),n}function gk(t){const e={},n=h(t,["config"]);return n!=null&&mk(n,e),e}function yk(t,e){const n={},r=h(t,["force"]);return e!==void 0&&r!=null&&m(e,["_query","force"],r),n}function vk(t){const e={},n=h(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=h(t,["config"]);return r!=null&&yk(r,e),e}function _k(t){const e={},n=h(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function xk(t,e){const n={},r=h(t,["customMetadata"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["customMetadata"],a)}const o=h(t,["chunkingConfig"]);return e!==void 0&&o!=null&&m(e,["chunkingConfig"],o),n}function bk(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const r=h(t,["metadata"]);r!=null&&m(e,["metadata"],r);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const a=h(t,["error"]);a!=null&&m(e,["error"],a);const u=h(t,["response"]);return u!=null&&m(e,["response"],wk(u)),e}function Sk(t){const e={},n=h(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const r=h(t,["fileName"]);r!=null&&m(e,["fileName"],r);const o=h(t,["config"]);return o!=null&&xk(o,e),e}function wk(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["parent"]);r!=null&&m(e,["parent"],r);const o=h(t,["documentName"]);return o!=null&&m(e,["documentName"],o),e}function Ek(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function Tk(t){const e={},n=h(t,["config"]);return n!=null&&Ek(n,e),e}function Ck(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const o=h(t,["fileSearchStores"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["fileSearchStores"],a)}return e}function Ak(t,e){const n={},r=h(t,["mimeType"]);e!==void 0&&r!=null&&m(e,["mimeType"],r);const o=h(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const a=h(t,["customMetadata"]);if(e!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),m(e,["customMetadata"],d)}const u=h(t,["chunkingConfig"]);return e!==void 0&&u!=null&&m(e,["chunkingConfig"],u),n}function kk(t){const e={},n=h(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const r=h(t,["config"]);return r!=null&&Ak(r,e),e}function Nk(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rk(t,e){const n={},r=h(t,["force"]);return e!==void 0&&r!=null&&m(e,["_query","force"],r),n}function Ik(t){const e={},n=h(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=h(t,["config"]);return r!=null&&Rk(r,e),e}function Mk(t){const e={},n=h(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function zk(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function Dk(t){const e={},n=h(t,["parent"]);n!=null&&m(e,["_url","parent"],n);const r=h(t,["config"]);return r!=null&&zk(r,e),e}function Uk(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const o=h(t,["documents"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pk extends ii{constructor(e){super(),this.apiClient=e,this.list=async n=>new cr(ni.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Mk(e);return a=oe("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(e){var n,r;let o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Ik(e);o=oe("{name}",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Dk(e);return a=oe("{parent}/documents",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>{const f=Uk(p),y=new pE;return Object.assign(y,f),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ok extends ii{constructor(e,n=new Pk(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new cr(ni.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=gk(e);return a=oe("fileSearchStores",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async get(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=_k(e);return a=oe("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(e){var n,r;let o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=vk(e);o=oe("{name}",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Tk(e);return a=oe("fileSearchStores",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>{const f=Ck(p),y=new mE;return Object.assign(y,f),y})}}async uploadToFileSearchStoreInternal(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=kk(e);return a=oe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>{const f=Nk(p),y=new gE;return Object.assign(y,f),y})}}async importFile(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Sk(e);return a=oe("{file_search_store_name}:importFile",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>{const f=bk(p),y=new Sf;return Object.assign(y,f),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lk(t,e){const n={},r=h(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function qk(t,e){const n={},r=h(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function Bk(t,e,n){const r={};if(h(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=h(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&m(e,["displayName"],o),h(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=h(t,["epochCount"]);e!==void 0&&a!=null&&m(e,["tuningTask","hyperparameters","epochCount"],a);const u=h(t,["learningRateMultiplier"]);if(u!=null&&m(r,["tuningTask","hyperparameters","learningRateMultiplier"],u),h(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(h(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(h(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const d=h(t,["batchSize"]);e!==void 0&&d!=null&&m(e,["tuningTask","hyperparameters","batchSize"],d);const p=h(t,["learningRate"]);if(e!==void 0&&p!=null&&m(e,["tuningTask","hyperparameters","learningRate"],p),h(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(h(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Hk(t,e,n){const r={};let o=h(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const b=h(t,["validationDataset"]);e!==void 0&&b!=null&&m(e,["supervisedTuningSpec"],z0(b))}else if(o==="PREFERENCE_TUNING"){const b=h(t,["validationDataset"]);e!==void 0&&b!=null&&m(e,["preferenceOptimizationSpec"],z0(b))}const a=h(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&m(e,["tunedModelDisplayName"],a);const u=h(t,["description"]);e!==void 0&&u!=null&&m(e,["description"],u);let d=h(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const b=h(t,["epochCount"]);e!==void 0&&b!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],b)}else if(d==="PREFERENCE_TUNING"){const b=h(t,["epochCount"]);e!==void 0&&b!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],b)}let p=h(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const b=h(t,["learningRateMultiplier"]);e!==void 0&&b!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],b)}else if(p==="PREFERENCE_TUNING"){const b=h(t,["learningRateMultiplier"]);e!==void 0&&b!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],b)}let f=h(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const b=h(t,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],b)}else if(f==="PREFERENCE_TUNING"){const b=h(t,["exportLastCheckpointOnly"]);e!==void 0&&b!=null&&m(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],b)}let y=h(n,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const b=h(t,["adapterSize"]);e!==void 0&&b!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],b)}else if(y==="PREFERENCE_TUNING"){const b=h(t,["adapterSize"]);e!==void 0&&b!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],b)}if(h(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(h(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const _=h(t,["labels"]);e!==void 0&&_!=null&&m(e,["labels"],_);const x=h(t,["beta"]);return e!==void 0&&x!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","beta"],x),r}function Vk(t,e){const n={},r=h(t,["baseModel"]);r!=null&&m(n,["baseModel"],r);const o=h(t,["preTunedModel"]);o!=null&&m(n,["preTunedModel"],o);const a=h(t,["trainingDataset"]);a!=null&&Zk(a);const u=h(t,["config"]);return u!=null&&Bk(u,n),n}function Gk(t,e){const n={},r=h(t,["baseModel"]);r!=null&&m(n,["baseModel"],r);const o=h(t,["preTunedModel"]);o!=null&&m(n,["preTunedModel"],o);const a=h(t,["trainingDataset"]);a!=null&&eN(a,n,e);const u=h(t,["config"]);return u!=null&&Hk(u,n,e),n}function Fk(t,e){const n={},r=h(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function $k(t,e){const n={},r=h(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function jk(t,e,n){const r={},o=h(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const a=h(t,["pageToken"]);e!==void 0&&a!=null&&m(e,["_query","pageToken"],a);const u=h(t,["filter"]);return e!==void 0&&u!=null&&m(e,["_query","filter"],u),r}function Jk(t,e,n){const r={},o=h(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const a=h(t,["pageToken"]);e!==void 0&&a!=null&&m(e,["_query","pageToken"],a);const u=h(t,["filter"]);return e!==void 0&&u!=null&&m(e,["_query","filter"],u),r}function Yk(t,e){const n={},r=h(t,["config"]);return r!=null&&jk(r,n),n}function Kk(t,e){const n={},r=h(t,["config"]);return r!=null&&Jk(r,n),n}function Xk(t,e){const n={},r=h(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const o=h(t,["nextPageToken"]);o!=null&&m(n,["nextPageToken"],o);const a=h(t,["tunedModels"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>k_(d))),m(n,["tuningJobs"],u)}return n}function Qk(t,e){const n={},r=h(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const o=h(t,["nextPageToken"]);o!=null&&m(n,["nextPageToken"],o);const a=h(t,["tuningJobs"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>Kd(d))),m(n,["tuningJobs"],u)}return n}function Wk(t,e){const n={},r=h(t,["name"]);r!=null&&m(n,["model"],r);const o=h(t,["name"]);return o!=null&&m(n,["endpoint"],o),n}function Zk(t,e){const n={};if(h(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=h(t,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),m(n,["examples","examples"],o)}return n}function eN(t,e,n){const r={};let o=h(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const u=h(t,["gcsUri"]);e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(o==="PREFERENCE_TUNING"){const u=h(t,["gcsUri"]);e!==void 0&&u!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}let a=h(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const u=h(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(a==="PREFERENCE_TUNING"){const u=h(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}if(h(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function k_(t,e){const n={},r=h(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const o=h(t,["name"]);o!=null&&m(n,["name"],o);const a=h(t,["state"]);a!=null&&m(n,["state"],u_(a));const u=h(t,["createTime"]);u!=null&&m(n,["createTime"],u);const d=h(t,["tuningTask","startTime"]);d!=null&&m(n,["startTime"],d);const p=h(t,["tuningTask","completeTime"]);p!=null&&m(n,["endTime"],p);const f=h(t,["updateTime"]);f!=null&&m(n,["updateTime"],f);const y=h(t,["description"]);y!=null&&m(n,["description"],y);const _=h(t,["baseModel"]);_!=null&&m(n,["baseModel"],_);const x=h(t,["_self"]);return x!=null&&m(n,["tunedModel"],Wk(x)),n}function Kd(t,e){const n={},r=h(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const o=h(t,["name"]);o!=null&&m(n,["name"],o);const a=h(t,["state"]);a!=null&&m(n,["state"],u_(a));const u=h(t,["createTime"]);u!=null&&m(n,["createTime"],u);const d=h(t,["startTime"]);d!=null&&m(n,["startTime"],d);const p=h(t,["endTime"]);p!=null&&m(n,["endTime"],p);const f=h(t,["updateTime"]);f!=null&&m(n,["updateTime"],f);const y=h(t,["error"]);y!=null&&m(n,["error"],y);const _=h(t,["description"]);_!=null&&m(n,["description"],_);const x=h(t,["baseModel"]);x!=null&&m(n,["baseModel"],x);const b=h(t,["tunedModel"]);b!=null&&m(n,["tunedModel"],b);const T=h(t,["preTunedModel"]);T!=null&&m(n,["preTunedModel"],T);const A=h(t,["supervisedTuningSpec"]);A!=null&&m(n,["supervisedTuningSpec"],A);const R=h(t,["preferenceOptimizationSpec"]);R!=null&&m(n,["preferenceOptimizationSpec"],R);const k=h(t,["tuningDataStats"]);k!=null&&m(n,["tuningDataStats"],k);const P=h(t,["encryptionSpec"]);P!=null&&m(n,["encryptionSpec"],P);const N=h(t,["partnerModelTuningSpec"]);N!=null&&m(n,["partnerModelTuningSpec"],N);const F=h(t,["customBaseModel"]);F!=null&&m(n,["customBaseModel"],F);const W=h(t,["experiment"]);W!=null&&m(n,["experiment"],W);const U=h(t,["labels"]);U!=null&&m(n,["labels"],U);const $=h(t,["outputUri"]);$!=null&&m(n,["outputUri"],$);const se=h(t,["pipelineJob"]);se!=null&&m(n,["pipelineJob"],se);const Z=h(t,["serviceAccount"]);Z!=null&&m(n,["serviceAccount"],Z);const ae=h(t,["tunedModelDisplayName"]);ae!=null&&m(n,["tunedModelDisplayName"],ae);const ne=h(t,["veoTuningSpec"]);return ne!=null&&m(n,["veoTuningSpec"],ne),n}function tN(t,e){const n={},r=h(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const o=h(t,["name"]);o!=null&&m(n,["name"],o);const a=h(t,["metadata"]);a!=null&&m(n,["metadata"],a);const u=h(t,["done"]);u!=null&&m(n,["done"],u);const d=h(t,["error"]);return d!=null&&m(n,["error"],d),n}function z0(t,e){const n={},r=h(t,["gcsUri"]);r!=null&&m(n,["validationDatasetUri"],r);const o=h(t,["vertexDatasetResource"]);return o!=null&&m(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nN extends ii{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new cr(ni.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:o});return a.baseModel=void 0,await this.tuneInternal(a)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),a=await this.tuneMldevInternal(o);let u="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?u=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(u=a.name.split("/operations/")[0]),{name:u,state:Vd.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=$k(e);return d=oe("{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:y.headers},x})),u.then(y=>Kd(y))}else{const f=Fk(e);return d=oe("{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:y.headers},x})),u.then(y=>k_(y))}}async listInternal(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=Kk(e);return d=oe("tuningJobs",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:y.headers},x})),u.then(y=>{const _=Qk(y),x=new f0;return Object.assign(x,_),x})}else{const f=Yk(e);return d=oe("tunedModels",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:y.headers},x})),u.then(y=>{const _=Xk(y),x=new f0;return Object.assign(x,_),x})}}async cancel(e){var n,r,o,a;let u="",d={};if(this.apiClient.isVertexAI()){const p=qk(e);u=oe("{name}:cancel",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const p=Lk(e);u=oe("{name}:cancel",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async tuneInternal(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI()){const d=Gk(e,e);return a=oe("tuningJobs",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(f=>{const y=f;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>Kd(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Vk(e);return a=oe("tunedModels",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(f=>{const y=f;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>tN(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iN{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const rN=1024*1024*8,sN=3,oN=1e3,aN=2,Nl="x-goog-upload-status";async function lN(t,e,n){var r;const o=await N_(t,e,n),a=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[Nl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function uN(t,e,n){var r;const o=await N_(t,e,n),a=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[Nl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const u=i_(a),d=new wf;return Object.assign(d,u),d}async function N_(t,e,n){var r,o;let a=0,u=0,d=new Gd(new Response),p="upload";for(a=t.size;u<a;){const f=Math.min(rN,a-u),y=t.slice(u,u+f);u+f>=a&&(p+=", finalize");let _=0,x=oN;for(;_<sN&&(d=await n.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(u),"Content-Length":String(f)}}}),!(!((r=d==null?void 0:d.headers)===null||r===void 0)&&r[Nl]));)_++,await dN(x),x=x*aN;if(u+=f,((o=d==null?void 0:d.headers)===null||o===void 0?void 0:o[Nl])!=="active")break;if(a<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return d}async function cN(t){return{size:t.size,type:t.type}}function dN(t){return new Promise(e=>setTimeout(e,t))}class fN{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await lN(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await uN(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await cN(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hN{create(e,n,r){return new pN(e,n,r)}}class pN{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const D0="x-goog-api-key";class mN{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(D0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(D0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gN="gl-node/";class yN{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Jw(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const o=new mN(this.apiKey);this.apiClient=new MA({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:gN+"web",uploader:new fN,downloader:new iN}),this.models=new QA(this.apiClient),this.live=new $A(this.apiClient,o,new hN),this.batches=new ST(this.apiClient),this.chats=new i1(this.models,this.apiClient),this.caches=new e1(this.apiClient),this.files=new h1(this.apiClient),this.operations=new WA(this.apiClient),this.authTokens=new pk(this.apiClient),this.tunings=new nN(this.apiClient),this.fileSearchStores=new Ok(this.apiClient)}}const Nf=t=>{const e=t||void 0;if(!e)throw console.warn("API Key is missing. Please configure it in Settings or via environment variables."),new Error("API Key missing");return new yN({apiKey:e})},U0=async(t,e,n,r="gemini-2.5-flash")=>{try{const o=Nf(n),a=`
      You are an expert Product Manager at a top-tier tech company. 
      Your task is to write the specific section: "${t}" for a Product Requirements Document (PRD).
      
      Product Context:
      - Product Name: ${e.productName}
      - Brief Description: ${e.shortDescription}
      
      Existing Content Context (if any):
      ${JSON.stringify(e.existingSections)}
      
      Instructions:
      - Write only the content for the "${t}" section.
      - Be professional, concise, and structured.
      - Use bullet points where appropriate.
      - Do not include the section title in the output, just the content.
      - Format using Markdown.
    `;return(await o.models.generateContent({model:r,contents:a})).text||""}catch(o){throw console.error("Error generating PRD content:",o),new Error("Failed to generate content. Check your API Key or Network.")}},vN=async(t,e,n="gemini-2.5-flash")=>{try{const r=Nf(e),o=`
      Write a concise, compelling 2-3 sentence product description for a product named "${t}". 
      Focus on what it might do and who it is for.
    `;return(await r.models.generateContent({model:n,contents:o})).text||""}catch(r){throw console.error("Error generating description:",r),new Error("Failed to generate description")}},_N=async(t,e,n,r="gemini-2.5-flash")=>{try{const o=Nf(n),a=`
      You are an expert editor. 
      Instruction: ${e}
      Original Text:
      "${t}"
      
      Output the improved text only. Keep the same format (Markdown).
    `;return(await o.models.generateContent({model:r,contents:a})).text||t}catch(o){return console.error("Error enhancing text:",o),t}};async function R_(t,e){const n=new AbortController,r=setTimeout(()=>n.abort(),1e4);try{const o=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),signal:n.signal});return clearTimeout(r),o.ok}catch{clearTimeout(r);try{const a=new AbortController,u=setTimeout(()=>a.abort(),1e4);return await fetch(t,{method:"POST",mode:"no-cors",body:JSON.stringify(e),signal:a.signal}),clearTimeout(u),!0}catch(a){return console.warn(`[Webhook] Failed to send to ${t}`,a),!1}}}const xN=async(t,e,n,r,o,a,u)=>{const d={event:"prd_approval_status_changed",prdId:t,title:n,status:e,approver:{name:a||"Anonymous",email:u||"Not provided"},comment:o||"",timestamp:new Date().toISOString()};return console.log("[Webhook] Triggering approval event...",d),r&&r.startsWith("http")?(await R_(r,d),console.log("[Webhook] Event sent.")):(console.log("[Webhook] No valid Webhook URL configured."),await new Promise(p=>setTimeout(p,1e3))),!0},bN=async t=>{if(!t||!t.startsWith("http"))return!1;const e={event:"prd_approval_status_changed",prdId:"test_prd_id_12345",title:"Test Product Requirements Document",status:"approved",approver:{name:"Test Approver",email:"approver@example.com"},comment:"This is a test event to verify webhook payload structure and connectivity.",timestamp:new Date().toISOString(),isTest:!0};return await R_(t,e)};var Xd=function(t,e){return Xd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Xd(t,e)};function I_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Xd(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Rl=function(){return Rl=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Rl.apply(this,arguments)};function Es(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function M_(t,e,n,r){var o=arguments.length,a=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var d=t.length-1;d>=0;d--)(u=t[d])&&(a=(o<3?u(a):o>3?u(e,n,a):u(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function z_(t,e){return function(n,r){e(n,r,t)}}function D_(t,e,n,r,o,a){function u(k){if(k!==void 0&&typeof k!="function")throw new TypeError("Function expected");return k}for(var d=r.kind,p=d==="getter"?"get":d==="setter"?"set":"value",f=!e&&t?r.static?t:t.prototype:null,y=e||(f?Object.getOwnPropertyDescriptor(f,r.name):{}),_,x=!1,b=n.length-1;b>=0;b--){var T={};for(var A in r)T[A]=A==="access"?{}:r[A];for(var A in r.access)T.access[A]=r.access[A];T.addInitializer=function(k){if(x)throw new TypeError("Cannot add initializers after decoration has completed");a.push(u(k||null))};var R=(0,n[b])(d==="accessor"?{get:y.get,set:y.set}:y[p],T);if(d==="accessor"){if(R===void 0)continue;if(R===null||typeof R!="object")throw new TypeError("Object expected");(_=u(R.get))&&(y.get=_),(_=u(R.set))&&(y.set=_),(_=u(R.init))&&o.unshift(_)}else(_=u(R))&&(d==="field"?o.unshift(_):y[p]=_)}f&&Object.defineProperty(f,r.name,y),x=!0}function U_(t,e,n){for(var r=arguments.length>2,o=0;o<e.length;o++)n=r?e[o].call(t,n):e[o].call(t);return r?n:void 0}function P_(t){return typeof t=="symbol"?t:"".concat(t)}function O_(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function L_(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ue(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function d(y){try{f(r.next(y))}catch(_){u(_)}}function p(y){try{f(r.throw(y))}catch(_){u(_)}}function f(y){y.done?a(y.value):o(y.value).then(d,p)}f((r=r.apply(t,e||[])).next())})}function q_(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=d(0),u.throw=d(1),u.return=d(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(f){return function(y){return p([f,y])}}function p(f){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,f[0]&&(n=0)),n;)try{if(r=1,o&&(a=f[0]&2?o.return:f[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,f[1])).done)return a;switch(o=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,o=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(y){f=[6,y],o=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var Fl=Object.create?(function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}):(function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]});function B_(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Fl(e,t,n)}function Il(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Rf(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,a=[],u;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(d){u={error:d}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return a}function H_(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Rf(arguments[e]));return t}function V_(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;e<n;e++)for(var a=arguments[e],u=0,d=a.length;u<d;u++,o++)r[o]=a[u];return r}function G_(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,a;r<o;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function xs(t){return this instanceof xs?(this.v=t,this):new xs(t)}function F_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,a=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(b){return function(T){return Promise.resolve(T).then(b,_)}}function d(b,T){r[b]&&(o[b]=function(A){return new Promise(function(R,k){a.push([b,A,R,k])>1||p(b,A)})},T&&(o[b]=T(o[b])))}function p(b,T){try{f(r[b](T))}catch(A){x(a[0][3],A)}}function f(b){b.value instanceof xs?Promise.resolve(b.value.v).then(y,_):x(a[0][2],b)}function y(b){p("next",b)}function _(b){p("throw",b)}function x(b,T){b(T),a.shift(),a.length&&p(a[0][0],a[0][1])}}function $_(t){var e,n;return e={},r("next"),r("throw",function(o){throw o}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(o,a){e[o]=t[o]?function(u){return(n=!n)?{value:xs(t[o](u)),done:!1}:a?a(u):u}:a}}function j_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Il=="function"?Il(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(u){return new Promise(function(d,p){u=t[a](u),o(d,p,u.done,u.value)})}}function o(a,u,d,p){Promise.resolve(p).then(function(f){a({value:f,done:d})},u)}}function J_(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var SN=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Qd=function(t){return Qd=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},Qd(t)};function Y_(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Qd(t),r=0;r<n.length;r++)n[r]!=="default"&&Fl(e,t,n[r]);return SN(e,t),e}function K_(t){return t&&t.__esModule?t:{default:t}}function X_(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Q_(t,e,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(t,n):o?o.value=n:e.set(t,n),n}function W_(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Z_(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(o=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var wN=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function ex(t){function e(a){t.error=t.hasError?new wN(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var n,r=0;function o(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(o);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(o,function(u){return e(u),o()})}else r|=1}catch(u){e(u)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function tx(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,o,a,u){return r?e?".jsx":".js":o&&(!a||!u)?n:o+a+"."+u.toLowerCase()+"js"}):t}const EN={__extends:I_,__assign:Rl,__rest:Es,__decorate:M_,__param:z_,__esDecorate:D_,__runInitializers:U_,__propKey:P_,__setFunctionName:O_,__metadata:L_,__awaiter:ue,__generator:q_,__createBinding:Fl,__exportStar:B_,__values:Il,__read:Rf,__spread:H_,__spreadArrays:V_,__spreadArray:G_,__await:xs,__asyncGenerator:F_,__asyncDelegator:$_,__asyncValues:j_,__makeTemplateObject:J_,__importStar:Y_,__importDefault:K_,__classPrivateFieldGet:X_,__classPrivateFieldSet:Q_,__classPrivateFieldIn:W_,__addDisposableResource:Z_,__disposeResources:ex,__rewriteRelativeImportExtension:tx},TN=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Z_,get __assign(){return Rl},__asyncDelegator:$_,__asyncGenerator:F_,__asyncValues:j_,__await:xs,__awaiter:ue,__classPrivateFieldGet:X_,__classPrivateFieldIn:W_,__classPrivateFieldSet:Q_,__createBinding:Fl,__decorate:M_,__disposeResources:ex,__esDecorate:D_,__exportStar:B_,__extends:I_,__generator:q_,__importDefault:K_,__importStar:Y_,__makeTemplateObject:J_,__metadata:L_,__param:z_,__propKey:P_,__read:Rf,__rest:Es,__rewriteRelativeImportExtension:tx,__runInitializers:U_,__setFunctionName:O_,__spread:H_,__spreadArray:G_,__spreadArrays:V_,__values:Il,default:EN},Symbol.toStringTag,{value:"Module"})),CN=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class If extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class AN extends If{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class P0 extends If{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class O0 extends If{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Wd;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Wd||(Wd={}));class kN{constructor(e,{headers:n={},customFetch:r,region:o=Wd.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=CN(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ue(this,arguments,void 0,function*(n,r={}){var o;let a,u;try{const{headers:d,method:p,body:f,signal:y,timeout:_}=r;let x={},{region:b}=r;b||(b=this.region);const T=new URL(`${this.url}/${n}`);b&&b!=="any"&&(x["x-region"]=b,T.searchParams.set("forceFunctionRegion",b));let A;f&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",A=f):typeof f=="string"?(x["Content-Type"]="text/plain",A=f):typeof FormData<"u"&&f instanceof FormData?A=f:(x["Content-Type"]="application/json",A=JSON.stringify(f)):A=f;let R=y;_&&(u=new AbortController,a=setTimeout(()=>u.abort(),_),y?(R=u.signal,y.addEventListener("abort",()=>u.abort())):R=u.signal);const k=yield this.fetch(T.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),d),body:A,signal:R}).catch(W=>{throw new AN(W)}),P=k.headers.get("x-relay-error");if(P&&P==="true")throw new P0(k);if(!k.ok)throw new O0(k);let N=((o=k.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),F;return N==="application/json"?F=yield k.json():N==="application/octet-stream"||N==="application/pdf"?F=yield k.blob():N==="text/event-stream"?F=k:N==="multipart/form-data"?F=yield k.formData():F=yield k.text(),{data:F,error:null,response:k}}catch(d){return{data:null,error:d,response:d instanceof O0||d instanceof P0?d.context:void 0}}finally{a&&clearTimeout(a)}})}}var kt={};const Ts=zw(TN);var ul={},cl={},dl={},fl={},hl={},pl={},L0;function nx(){if(L0)return pl;L0=1,Object.defineProperty(pl,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return pl.default=t,pl}var q0;function ix(){if(q0)return hl;q0=1,Object.defineProperty(hl,"__esModule",{value:!0});const e=Ts.__importDefault(nx());class n{constructor(o){var a,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(a=o.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,a){return this.headers=new Headers(this.headers),this.headers.set(o,a),this}then(o,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var f,y,_,x;let b=null,T=null,A=null,R=p.status,k=p.statusText;if(p.ok){if(this.method!=="HEAD"){const W=await p.text();W===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?T=W:T=JSON.parse(W))}const N=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),F=(_=p.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");N&&F&&F.length>1&&(A=parseInt(F[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(T)&&(T.length>1?(b={code:"PGRST116",details:`Results contain ${T.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},T=null,A=null,R=406,k="Not Acceptable"):T.length===1?T=T[0]:T=null)}else{const N=await p.text();try{b=JSON.parse(N),Array.isArray(b)&&p.status===404&&(T=[],b=null,R=200,k="OK")}catch{p.status===404&&N===""?(R=204,k="No Content"):b={message:N}}if(b&&this.isMaybeSingle&&(!((x=b==null?void 0:b.details)===null||x===void 0)&&x.includes("0 rows"))&&(b=null,R=200,k="OK"),b&&this.shouldThrowOnError)throw new e.default(b)}return{error:b,data:T,count:A,status:R,statusText:k}});return this.shouldThrowOnError||(d=d.catch(p=>{var f,y,_,x,b,T;let A="";const R=p==null?void 0:p.cause;if(R){const k=(f=R==null?void 0:R.message)!==null&&f!==void 0?f:"",P=(y=R==null?void 0:R.code)!==null&&y!==void 0?y:"";A=`${(_=p==null?void 0:p.name)!==null&&_!==void 0?_:"FetchError"}: ${p==null?void 0:p.message}`,A+=`

Caused by: ${(x=R==null?void 0:R.name)!==null&&x!==void 0?x:"Error"}: ${k}`,P&&(A+=` (${P})`),R!=null&&R.stack&&(A+=`
${R.stack}`)}else A=(b=p==null?void 0:p.stack)!==null&&b!==void 0?b:"";return{error:{message:`${(T=p==null?void 0:p.name)!==null&&T!==void 0?T:"FetchError"}: ${p==null?void 0:p.message}`,details:A,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(o,a)}returns(){return this}overrideTypes(){return this}}return hl.default=n,hl}var B0;function rx(){if(B0)return fl;B0=1,Object.defineProperty(fl,"__esModule",{value:!0});const e=Ts.__importDefault(ix());class n extends e.default{select(o){let a=!1;const u=(o??"*").split("").map(d=>/\s/.test(d)&&!a?"":(d==='"'&&(a=!a),d)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:a=!0,nullsFirst:u,foreignTable:d,referencedTable:p=d}={}){const f=p?`${p}.order`:"order",y=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${y?`${y},`:""}${o}.${a?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:a,referencedTable:u=a}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${o}`),this}range(o,a,{foreignTable:u,referencedTable:d=u}={}){const p=typeof d>"u"?"offset":`${d}.offset`,f=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(p,`${o}`),this.url.searchParams.set(f,`${a-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:a=!1,settings:u=!1,buffers:d=!1,wal:p=!1,format:f="text"}={}){var y;const _=[o?"analyze":null,a?"verbose":null,u?"settings":null,d?"buffers":null,p?"wal":null].filter(Boolean).join("|"),x=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${x}"; options=${_};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return fl.default=n,fl}var H0;function Mf(){if(H0)return dl;H0=1,Object.defineProperty(dl,"__esModule",{value:!0});const e=Ts.__importDefault(rx()),n=new RegExp("[,()]");class r extends e.default{eq(a,u){return this.url.searchParams.append(a,`eq.${u}`),this}neq(a,u){return this.url.searchParams.append(a,`neq.${u}`),this}gt(a,u){return this.url.searchParams.append(a,`gt.${u}`),this}gte(a,u){return this.url.searchParams.append(a,`gte.${u}`),this}lt(a,u){return this.url.searchParams.append(a,`lt.${u}`),this}lte(a,u){return this.url.searchParams.append(a,`lte.${u}`),this}like(a,u){return this.url.searchParams.append(a,`like.${u}`),this}likeAllOf(a,u){return this.url.searchParams.append(a,`like(all).{${u.join(",")}}`),this}likeAnyOf(a,u){return this.url.searchParams.append(a,`like(any).{${u.join(",")}}`),this}ilike(a,u){return this.url.searchParams.append(a,`ilike.${u}`),this}ilikeAllOf(a,u){return this.url.searchParams.append(a,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(a,u){return this.url.searchParams.append(a,`ilike(any).{${u.join(",")}}`),this}regexMatch(a,u){return this.url.searchParams.append(a,`match.${u}`),this}regexIMatch(a,u){return this.url.searchParams.append(a,`imatch.${u}`),this}is(a,u){return this.url.searchParams.append(a,`is.${u}`),this}isDistinct(a,u){return this.url.searchParams.append(a,`isdistinct.${u}`),this}in(a,u){const d=Array.from(new Set(u)).map(p=>typeof p=="string"&&n.test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(a,`in.(${d})`),this}contains(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cs.{${u.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(u)}`),this}containedBy(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cd.{${u.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(u)}`),this}rangeGt(a,u){return this.url.searchParams.append(a,`sr.${u}`),this}rangeGte(a,u){return this.url.searchParams.append(a,`nxl.${u}`),this}rangeLt(a,u){return this.url.searchParams.append(a,`sl.${u}`),this}rangeLte(a,u){return this.url.searchParams.append(a,`nxr.${u}`),this}rangeAdjacent(a,u){return this.url.searchParams.append(a,`adj.${u}`),this}overlaps(a,u){return typeof u=="string"?this.url.searchParams.append(a,`ov.${u}`):this.url.searchParams.append(a,`ov.{${u.join(",")}}`),this}textSearch(a,u,{config:d,type:p}={}){let f="";p==="plain"?f="pl":p==="phrase"?f="ph":p==="websearch"&&(f="w");const y=d===void 0?"":`(${d})`;return this.url.searchParams.append(a,`${f}fts${y}.${u}`),this}match(a){return Object.entries(a).forEach(([u,d])=>{this.url.searchParams.append(u,`eq.${d}`)}),this}not(a,u,d){return this.url.searchParams.append(a,`not.${u}.${d}`),this}or(a,{foreignTable:u,referencedTable:d=u}={}){const p=d?`${d}.or`:"or";return this.url.searchParams.append(p,`(${a})`),this}filter(a,u,d){return this.url.searchParams.append(a,`${u}.${d}`),this}}return dl.default=r,dl}var V0;function sx(){if(V0)return cl;V0=1,Object.defineProperty(cl,"__esModule",{value:!0});const e=Ts.__importDefault(Mf());class n{constructor(o,{headers:a={},schema:u,fetch:d}){this.url=o,this.headers=new Headers(a),this.schema=u,this.fetch=d}select(o,a){const{head:u=!1,count:d}=a??{},p=u?"HEAD":"GET";let f=!1;const y=(o??"*").split("").map(_=>/\s/.test(_)&&!f?"":(_==='"'&&(f=!f),_)).join("");return this.url.searchParams.set("select",y),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:a,defaultToNull:u=!0}={}){var d;const p="POST";if(a&&this.headers.append("Prefer",`count=${a}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const f=o.reduce((y,_)=>y.concat(Object.keys(_)),[]);if(f.length>0){const y=[...new Set(f)].map(_=>`"${_}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(o,{onConflict:a,ignoreDuplicates:u=!1,count:d,defaultToNull:p=!0}={}){var f;const y="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),d&&this.headers.append("Prefer",`count=${d}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const _=o.reduce((x,b)=>x.concat(Object.keys(b)),[]);if(_.length>0){const x=[...new Set(_)].map(b=>`"${b}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(o,{count:a}={}){var u;const d="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:o}={}){var a;const u="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return cl.default=n,cl}var G0;function NN(){if(G0)return ul;G0=1,Object.defineProperty(ul,"__esModule",{value:!0});const t=Ts,e=t.__importDefault(sx()),n=t.__importDefault(Mf());class r{constructor(a,{headers:u={},schema:d,fetch:p}={}){this.url=a,this.headers=new Headers(u),this.schemaName=d,this.fetch=p}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const u=new URL(`${this.url}/${a}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,u={},{head:d=!1,get:p=!1,count:f}={}){var y;let _;const x=new URL(`${this.url}/rpc/${a}`);let b;d||p?(_=d?"HEAD":"GET",Object.entries(u).filter(([A,R])=>R!==void 0).map(([A,R])=>[A,Array.isArray(R)?`{${R.join(",")}}`:`${R}`]).forEach(([A,R])=>{x.searchParams.append(A,R)})):(_="POST",b=u);const T=new Headers(this.headers);return f&&T.set("Prefer",`count=${f}`),new n.default({method:_,url:x,headers:T,schema:this.schemaName,body:b,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return ul.default=r,ul}var F0;function RN(){if(F0)return kt;F0=1,Object.defineProperty(kt,"__esModule",{value:!0}),kt.PostgrestError=kt.PostgrestBuilder=kt.PostgrestTransformBuilder=kt.PostgrestFilterBuilder=kt.PostgrestQueryBuilder=kt.PostgrestClient=void 0;const t=Ts,e=t.__importDefault(NN());kt.PostgrestClient=e.default;const n=t.__importDefault(sx());kt.PostgrestQueryBuilder=n.default;const r=t.__importDefault(Mf());kt.PostgrestFilterBuilder=r.default;const o=t.__importDefault(rx());kt.PostgrestTransformBuilder=o.default;const a=t.__importDefault(ix());kt.PostgrestBuilder=a.default;const u=t.__importDefault(nx());return kt.PostgrestError=u.default,kt.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:a.default,PostgrestError:u.default},kt}var ox=RN();const ax=Ho(ox),IN=Mw({__proto__:null,default:ax},[ox]),{PostgrestClient:MN,PostgrestQueryBuilder:TO,PostgrestFilterBuilder:CO,PostgrestTransformBuilder:AO,PostgrestBuilder:kO,PostgrestError:NO}=ax||IN;class zN{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const DN="2.86.0",UN=`realtime-js/${DN}`,lx="1.0.0",PN="2.0.0",$0=lx,Zd=1e4,ON=1e3,LN=100;var or;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(or||(or={}));var yt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(yt||(yt={}));var Tn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Tn||(Tn={}));var ef;(function(t){t.websocket="websocket"})(ef||(ef={}));var ar;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ar||(ar={}));class qN{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const o=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var n,r;const o=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,n,r){var o,a;const u=e.topic,d=(o=e.ref)!==null&&o!==void 0?o:"",p=(a=e.join_ref)!==null&&a!==void 0?a:"",f=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},_=Object.keys(y).length===0?"":JSON.stringify(y);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+d.length+u.length+f.length+_.length,b=new ArrayBuffer(this.HEADER_LENGTH+x);let T=new DataView(b),A=0;T.setUint8(A++,this.KINDS.userBroadcastPush),T.setUint8(A++,p.length),T.setUint8(A++,d.length),T.setUint8(A++,u.length),T.setUint8(A++,f.length),T.setUint8(A++,_.length),T.setUint8(A++,n),Array.from(p,k=>T.setUint8(A++,k.charCodeAt(0))),Array.from(d,k=>T.setUint8(A++,k.charCodeAt(0))),Array.from(u,k=>T.setUint8(A++,k.charCodeAt(0))),Array.from(f,k=>T.setUint8(A++,k.charCodeAt(0))),Array.from(_,k=>T.setUint8(A++,k.charCodeAt(0)));var R=new Uint8Array(b.byteLength+r.byteLength);return R.set(new Uint8Array(b),0),R.set(new Uint8Array(r),b.byteLength),R.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[o,a,u,d,p]=r;return n({join_ref:o,ref:a,topic:u,event:d,payload:p})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),o=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,o)}}_decodeUserBroadcast(e,n,r){const o=n.getUint8(1),a=n.getUint8(2),u=n.getUint8(3),d=n.getUint8(4);let p=this.HEADER_LENGTH+4;const f=r.decode(e.slice(p,p+o));p=p+o;const y=r.decode(e.slice(p,p+a));p=p+a;const _=r.decode(e.slice(p,p+u));p=p+u;const x=e.slice(p,e.byteLength),b=d===this.JSON_ENCODING?JSON.parse(r.decode(x)):x,T={type:this.BROADCAST_EVENT,event:y,payload:b};return u>0&&(T.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:T}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class ux{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Qe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Qe||(Qe={}));const j0=(t,e,n={})=>{var r;const o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((a,u)=>(a[u]=BN(u,t,e,o),a),{}):{}},BN=(t,e,n,r)=>{const o=e.find(d=>d.name===t),a=o==null?void 0:o.type,u=n[t];return a&&!r.includes(a)?cx(a,u):tf(u)},cx=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return FN(e,n)}switch(t){case Qe.bool:return HN(e);case Qe.float4:case Qe.float8:case Qe.int2:case Qe.int4:case Qe.int8:case Qe.numeric:case Qe.oid:return VN(e);case Qe.json:case Qe.jsonb:return GN(e);case Qe.timestamp:return $N(e);case Qe.abstime:case Qe.date:case Qe.daterange:case Qe.int4range:case Qe.int8range:case Qe.money:case Qe.reltime:case Qe.text:case Qe.time:case Qe.timestamptz:case Qe.timetz:case Qe.tsrange:case Qe.tstzrange:return tf(e);default:return tf(e)}},tf=t=>t,HN=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},VN=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},GN=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},FN=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const u=t.slice(1,n);try{a=JSON.parse("["+u+"]")}catch{a=u?u.split(","):[]}return a.map(d=>cx(e,d))}return t},$N=t=>typeof t=="string"?t.replace(" ","T"):t,dx=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class _d{constructor(e,n,r={},o=Zd){this.channel=e,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var J0;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(J0||(J0={}));class Ro{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:a,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ro.syncState(this.state,o,a,u),this.pendingDiffs.forEach(p=>{this.state=Ro.syncDiff(this.state,p,a,u)}),this.pendingDiffs=[],d()}),this.channel._on(r.diff,{},o=>{const{onJoin:a,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Ro.syncDiff(this.state,o,a,u),d())}),this.onJoin((o,a,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:u})}),this.onLeave((o,a,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,o){const a=this.cloneDeep(e),u=this.transformState(n),d={},p={};return this.map(a,(f,y)=>{u[f]||(p[f]=y)}),this.map(u,(f,y)=>{const _=a[f];if(_){const x=y.map(R=>R.presence_ref),b=_.map(R=>R.presence_ref),T=y.filter(R=>b.indexOf(R.presence_ref)<0),A=_.filter(R=>x.indexOf(R.presence_ref)<0);T.length>0&&(d[f]=T),A.length>0&&(p[f]=A)}else d[f]=y}),this.syncDiff(a,{joins:d,leaves:p},r,o)}static syncDiff(e,n,r,o){const{joins:a,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(a,(d,p)=>{var f;const y=(f=e[d])!==null&&f!==void 0?f:[];if(e[d]=this.cloneDeep(p),y.length>0){const _=e[d].map(b=>b.presence_ref),x=y.filter(b=>_.indexOf(b.presence_ref)<0);e[d].unshift(...x)}r(d,y,p)}),this.map(u,(d,p)=>{let f=e[d];if(!f)return;const y=p.map(_=>_.presence_ref);f=f.filter(_=>y.indexOf(_.presence_ref)<0),e[d]=f,o(d,f,p),f.length===0&&delete e[d]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const o=e[r];return"metas"in o?n[r]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Y0;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Y0||(Y0={}));var Io;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Io||(Io={}));var ti;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ti||(ti={}));class zf{constructor(e,n={config:{}},r){var o,a;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=yt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new _d(this,Tn.join,this.params,this.timeout),this.rejoinTimer=new ux(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=yt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=yt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Tn.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new Ro(this),this.broadcastEndpointURL=dx(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==yt.closed){const{config:{broadcast:u,presence:d,private:p}}=this.params,f=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[Io.PRESENCE]&&this.bindings[Io.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,_={},x={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:y}),postgres_changes:f,private:p};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(b=>e==null?void 0:e(ti.CHANNEL_ERROR,b)),this._onClose(()=>e==null?void 0:e(ti.CLOSED)),this.updateJoinPayload(Object.assign({config:x},_)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var T;if(this.socket.setAuth(),b===void 0){e==null||e(ti.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,R=(T=A==null?void 0:A.length)!==null&&T!==void 0?T:0,k=[];for(let P=0;P<R;P++){const N=A[P],{filter:{event:F,schema:W,table:U,filter:$}}=N,se=b&&b[P];if(se&&se.event===F&&se.schema===W&&se.table===U&&se.filter===$)k.push(Object.assign(Object.assign({},N),{id:se.id}));else{this.unsubscribe(),this.state=yt.errored,e==null||e(ti.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(ti.SUBSCRIBED);return}}).receive("error",b=>{this.state=yt.errored,e==null||e(ti.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ti.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===yt.joined&&e===Io.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var o;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let p=d.statusText;try{const f=await d.json();p=f.error||f.message||p}catch{}return Promise.reject(new Error(p))}async send(e,n={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:u}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:u,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=f.body)===null||o===void 0?void 0:o.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var u,d,p;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||p===void 0)&&p.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=yt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Tn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new _d(this,Tn.leave,{},e),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=yt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const o=new AbortController,a=setTimeout(()=>o.abort(),r),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(a),u}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new _d(this,e,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>LN){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var o,a;const u=e.toLocaleLowerCase(),{close:d,error:p,leave:f,join:y}=Tn;if(r&&[d,p,f,y].indexOf(u)>=0&&r!==this._joinRef())return;let x=this._onMessage(u,n,r);if(n&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(b=>{var T,A,R;return((T=b.filter)===null||T===void 0?void 0:T.event)==="*"||((R=(A=b.filter)===null||A===void 0?void 0:A.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===u}).map(b=>b.callback(x,r)):(a=this.bindings[u])===null||a===void 0||a.filter(b=>{var T,A,R,k,P,N;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in b){const F=b.id,W=(T=b.filter)===null||T===void 0?void 0:T.event;return F&&((A=n.ids)===null||A===void 0?void 0:A.includes(F))&&(W==="*"||(W==null?void 0:W.toLocaleLowerCase())===((R=n.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const F=(P=(k=b==null?void 0:b.filter)===null||k===void 0?void 0:k.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return F==="*"||F===((N=n==null?void 0:n.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===u}).map(b=>{if(typeof x=="object"&&"ids"in x){const T=x.data,{schema:A,table:R,commit_timestamp:k,type:P,errors:N}=T;x=Object.assign(Object.assign({},{schema:A,table:R,commit_timestamp:k,eventType:P,new:{},old:{},errors:N}),this._getPayloadRecords(T))}b.callback(x,r)})}_isClosed(){return this.state===yt.closed}_isJoined(){return this.state===yt.joined}_isJoining(){return this.state===yt.joining}_isLeaving(){return this.state===yt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const o=e.toLocaleLowerCase(),a={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&zf.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Tn.close,{},e)}_onError(e){this._on(Tn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=yt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=j0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=j0(e.columns,e.old_record)),n}}const xd=()=>{},ml={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},jN=[1e3,2e3,5e3,1e4],JN=1e4,YN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class KN{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zd,this.transport=null,this.heartbeatIntervalMs=ml.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=xd,this.ref=0,this.reconnectTimer=null,this.vsn=$0,this.logger=xd,this.conn=null,this.sendBuffer=[],this.serializer=new qN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...a)=>o(...a):(...a)=>fetch(...a),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${ef.websocket}`,this.httpEndpoint=dx(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=zN.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case or.connecting:return ar.Connecting;case or.open:return ar.Open;case or.closing:return ar.Closing;default:return ar.Closed}}isConnected(){return this.connectionState()===ar.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===r);if(o)return o;{const a=new zf(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:o,ref:a}=e,u=()=>{this.encode(e,d=>{var p;(p=this.conn)===null||p===void 0||p.send(d)})};this.log("push",`${n} ${r} (${a})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(ON,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ml.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:a,ref:u}=n,d=u?`(${u})`:"",p=a.status||"";this.log("receive",`${p} ${r} ${o} ${d}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(o,a,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===or.open||this.conn.readyState===or.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Tn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${r}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([YN],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const o={access_token:n,version:UN};n&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(Tn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new ux(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ml.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,o,a,u,d,p,f,y,_,x,b;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Zd,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:ml.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e==null?void 0:e.heartbeatCallback)!==null&&d!==void 0?d:xd,this.vsn=(p=e==null?void 0:e.vsn)!==null&&p!==void 0?p:$0,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:(T=>jN[T-1]||JN),this.vsn){case lx:this.encode=(y=e==null?void 0:e.encode)!==null&&y!==void 0?y:((T,A)=>A(JSON.stringify(T))),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:((T,A)=>A(JSON.parse(T)));break;case PN:this.encode=(x=e==null?void 0:e.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class $l extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function rt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class XN extends $l{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class nf extends $l{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const Df=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),QN=()=>Response,rf=t=>{if(Array.isArray(t))return t.map(n=>rf(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=rf(r)}),e},WN=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ZN=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),bd=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},eR=(t,e,n)=>ue(void 0,void 0,void 0,function*(){const r=yield QN();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(o=>{const a=t.status||500,u=(o==null?void 0:o.statusCode)||a+"";e(new XN(bd(o),a,u))}).catch(o=>{e(new nf(bd(o),o))}):e(new nf(bd(t),t))}),tR=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?o:(WN(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,e!=null&&e.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),n))};function Vo(t,e,n,r,o,a){return ue(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(n,tR(e,r,o,a)).then(p=>{if(!p.ok)throw p;return r!=null&&r.noResolveJson?p:p.json()}).then(p=>u(p)).catch(p=>eR(p,d,r))})})}function Uo(t,e,n,r){return ue(this,void 0,void 0,function*(){return Vo(t,"GET",e,n,r)})}function En(t,e,n,r,o){return ue(this,void 0,void 0,function*(){return Vo(t,"POST",e,r,o,n)})}function sf(t,e,n,r,o){return ue(this,void 0,void 0,function*(){return Vo(t,"PUT",e,r,o,n)})}function nR(t,e,n,r){return ue(this,void 0,void 0,function*(){return Vo(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Uf(t,e,n,r,o){return ue(this,void 0,void 0,function*(){return Vo(t,"DELETE",e,r,o,n)})}class iR{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return ue(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rt(e))return{data:null,error:e};throw e}})}}var fx;class rR{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[fx]="BlobDownloadBuilder",this.promise=null}asStream(){return new iR(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ue(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rt(e))return{data:null,error:e};throw e}})}}fx=Symbol.toStringTag;const sR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},K0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class oR{constructor(e,n={},r,o){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Df(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,o){return ue(this,void 0,void 0,function*(){try{let a;const u=Object.assign(Object.assign({},K0),o);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const p=u.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),p&&a.append("metadata",this.encodeMetadata(p)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",u.cacheControl),p&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(p))):(a=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,p&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(p))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!u.duplex&&(u.duplex="half")),o!=null&&o.headers&&(d=Object.assign(Object.assign({},d),o.headers));const f=this._removeEmptyFolders(n),y=this._getFinalPath(f),_=yield(e=="PUT"?sf:En)(this.fetch,`${this.url}/object/${y}`,a,Object.assign({headers:d},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:f,id:_.Id,fullPath:_.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(rt(a))return{data:null,error:a};throw a}})}upload(e,n,r){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,o){return ue(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),u=this._getFinalPath(a),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",n);try{let p;const f=Object.assign({upsert:K0.upsert},o),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(p=new FormData,p.append("cacheControl",f.cacheControl),p.append("",r)):typeof FormData<"u"&&r instanceof FormData?(p=r,p.append("cacheControl",f.cacheControl)):(p=r,y["cache-control"]=`max-age=${f.cacheControl}`,y["content-type"]=f.contentType);const _=yield sf(this.fetch,d.toString(),p,{headers:y});return{data:{path:a,fullPath:_.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(rt(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,n){return ue(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const a=yield En(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),u=new URL(this.url+a.url),d=u.searchParams.get("token");if(!d)throw new $l("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:d},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}})}update(e,n,r){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ue(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(rt(o))return{data:null,error:o};throw o}})}copy(e,n,r){return ue(this,void 0,void 0,function*(){try{return{data:{path:(yield En(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(rt(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,r){return ue(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),a=yield En(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(rt(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,r){return ue(this,void 0,void 0,function*(){try{const o=yield En(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${a}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(rt(o))return{data:null,error:o};throw o}})}download(e,n){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),u=a?`?${a}`:"",d=this._getFinalPath(e),p=()=>Uo(this.fetch,`${this.url}/${o}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new rR(p,this.shouldThrowOnError)}info(e){return ue(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Uo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:rf(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}})}exists(e){return ue(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield nR(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r)&&r instanceof nf){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),o=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&o.push(a);const d=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});p!==""&&o.push(p);let f=o.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${r}${f}`)}}}remove(e){return ue(this,void 0,void 0,function*(){try{return{data:yield Uf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rt(n))return{data:null,error:n};throw n}})}list(e,n,r){return ue(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},sR),n),{prefix:e||""});return{data:yield En(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(rt(o))return{data:null,error:o};throw o}})}listV2(e,n){return ue(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield En(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const hx="2.86.0",px={"X-Client-Info":`storage-js/${hx}`};class aR{constructor(e,n={},r,o){this.shouldThrowOnError=!1;const a=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},px),n),this.fetch=Df(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ue(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield Uo(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rt(n))return{data:null,error:n};throw n}})}getBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield Uo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rt(n))return{data:null,error:n};throw n}})}createBucket(e){return ue(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield En(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(rt(o))return{data:null,error:o};throw o}})}updateBucket(e,n){return ue(this,void 0,void 0,function*(){try{return{data:yield sf(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield Uf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rt(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Po=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function lR(t,e,n){const r=new URL(e,t);if(n)for(const[o,a]of Object.entries(n))a!==void 0&&r.searchParams.set(o,a);return r.toString()}async function uR(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function cR(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:o,body:a,headers:u}){const d=lR(t.baseUrl,r,o),p=await uR(t.auth),f=await e(d,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...p,...u},body:a?JSON.stringify(a):void 0}),y=await f.text(),_=(f.headers.get("content-type")||"").includes("application/json"),x=_&&y?JSON.parse(y):y;if(!f.ok){const b=_?x:void 0,T=b==null?void 0:b.error;throw new Po((T==null?void 0:T.message)??`Request failed with status ${f.status}`,{status:f.status,icebergType:T==null?void 0:T.type,icebergCode:T==null?void 0:T.code,details:b})}return{status:f.status,headers:f.headers,data:x}}}}function gl(t){return t.join("")}var dR=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:gl(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${gl(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gl(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${gl(t.namespace)}`}),!0}catch(e){if(e instanceof Po&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Po&&n.status===409)return;throw n}}};function ts(t){return t.join("")}var fR=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ts(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ts(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ts(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ts(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ts(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ts(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Po&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Po&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},hR=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=cR({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new dR(this.client,e),this.tableOps=new fR(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class pR{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},px),n),this.fetch=Df(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rt(n))return{data:null,error:n};throw n}})}listBuckets(e){return ue(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),o=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Uo(this.fetch,o,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield Uf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rt(n))return{data:null,error:n};throw n}})}from(e){if(!ZN(e))throw new $l("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new hR({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>ue(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Pf={"X-Client-Info":`storage-js/${hx}`,"Content-Type":"application/json"};class mx extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function rn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Sd extends mx{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class mR extends mx{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var X0;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(X0||(X0={}));const Of=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),gR=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Q0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),yR=(t,e,n)=>ue(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const o=t.status||500,a=t;if(typeof a.json=="function")a.json().then(u=>{const d=(u==null?void 0:u.statusCode)||(u==null?void 0:u.code)||o+"";e(new Sd(Q0(u),o,d))}).catch(()=>{const u=o+"",d=a.statusText||`HTTP ${o} error`;e(new Sd(d,o,u))});else{const u=o+"",d=a.statusText||`HTTP ${o} error`;e(new Sd(d,o,u))}}else e(new mR(Q0(t),t))}),vR=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(gR(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),n)):o};function _R(t,e,n,r,o,a){return ue(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(n,vR(e,r,o,a)).then(p=>{if(!p.ok)throw p;if(r!=null&&r.noResolveJson)return p;const f=p.headers.get("content-type");return!f||!f.includes("application/json")?{}:p.json()}).then(p=>u(p)).catch(p=>yR(p,d,r))})})}function sn(t,e,n,r,o){return ue(this,void 0,void 0,function*(){return _R(t,"POST",e,r,o,n)})}class xR{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Pf),n),this.fetch=Of(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ue(this,void 0,void 0,function*(){try{return{data:(yield sn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}getIndex(e,n){return ue(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rn(r))return{data:null,error:r};throw r}})}listIndexes(e){return ue(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return ue(this,void 0,void 0,function*(){try{return{data:(yield sn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rn(r))return{data:null,error:r};throw r}})}}class bR{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Pf),n),this.fetch=Of(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ue(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield sn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}getVectors(e){return ue(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}listVectors(e){return ue(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield sn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}queryVectors(e){return ue(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}deleteVectors(e){return ue(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield sn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}}class SR{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Pf),n),this.fetch=Of(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:(yield sn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}getBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}listBuckets(){return ue(this,arguments,void 0,function*(e={}){try{return{data:yield sn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:(yield sn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}}class wR extends SR{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new ER(this.url,this.headers,e,this.fetch)}createBucket(e){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ue(this,void 0,void 0,function*(){return n.createBucket.call(this,e)})}getBucket(e){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ue(this,void 0,void 0,function*(){return n.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ue(this,arguments,void 0,function*(n={}){return e.listBuckets.call(this,n)})}deleteBucket(e){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ue(this,void 0,void 0,function*(){return n.deleteBucket.call(this,e)})}}class ER extends xR{constructor(e,n,r,o){super(e,n,o),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ue(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ue(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ue(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ue(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new TR(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class TR extends bR{constructor(e,n,r,o,a){super(e,n,a),this.vectorBucketName=r,this.indexName=o}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ue(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ue(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ue(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ue(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ue(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class CR extends aR{constructor(e,n={},r,o){super(e,n,r,o)}from(e){return new oR(this.url,this.headers,e,this.fetch)}get vectors(){return new wR(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new pR(this.url+"/iceberg",this.headers,this.fetch)}}const AR="2.86.0";let ko="";typeof Deno<"u"?ko="deno":typeof document<"u"?ko="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ko="react-native":ko="node";const kR={"X-Client-Info":`supabase-js-${ko}/${AR}`},NR={headers:kR},RR={schema:"public"},IR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},MR={},zR=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),DR=()=>Headers,UR=(t,e,n)=>{const r=zR(n),o=DR();return async(a,u)=>{var d;const p=(d=await e())!==null&&d!==void 0?d:t;let f=new o(u==null?void 0:u.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${p}`),r(a,Object.assign(Object.assign({},u),{headers:f}))}};function PR(t){return t.endsWith("/")?t:t+"/"}function OR(t,e){var n,r;const{db:o,auth:a,realtime:u,global:d}=t,{db:p,auth:f,realtime:y,global:_}=e,x={db:Object.assign(Object.assign({},p),o),auth:Object.assign(Object.assign({},f),a),realtime:Object.assign(Object.assign({},y),u),storage:{},global:Object.assign(Object.assign(Object.assign({},_),d),{headers:Object.assign(Object.assign({},(n=_==null?void 0:_.headers)!==null&&n!==void 0?n:{}),(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?x.accessToken=t.accessToken:delete x.accessToken,x}function LR(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(PR(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const gx="2.86.0",us=30*1e3,of=3,wd=of*us,qR="http://localhost:9999",BR="supabase.auth.token",HR={"X-Client-Info":`gotrue-js/${gx}`},af="X-Supabase-Api-Version",yx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},VR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,GR=600*1e3;class Oo extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ge(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class FR extends Oo{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function $R(t){return ge(t)&&t.name==="AuthApiError"}class lr extends Oo{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Oi extends Oo{constructor(e,n,r,o){super(e,r,o),this.name=n,this.status=r}}class tn extends Oi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jR(t){return ge(t)&&t.name==="AuthSessionMissingError"}class ns extends Oi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yl extends Oi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class vl extends Oi{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function JR(t){return ge(t)&&t.name==="AuthImplicitGrantRedirectError"}class W0 extends Oi{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lf extends Oi{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Ed(t){return ge(t)&&t.name==="AuthRetryableFetchError"}class Z0 extends Oi{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class uf extends Oi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ml="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ev=` 	
\r=`.split(""),YR=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ev.length;e+=1)t[ev[e].charCodeAt(0)]=-2;for(let e=0;e<Ml.length;e+=1)t[Ml[e].charCodeAt(0)]=e;return t})();function tv(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ml[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ml[r]),e.queuedBits-=6}}function vx(t,e,n){const r=YR[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function nv(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=u=>{QR(u,r,n)};for(let u=0;u<t.length;u+=1)vx(t.charCodeAt(u),o,a);return e.join("")}function KR(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function XR(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}KR(r,e)}}function QR(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function ms(t){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)vx(t.charCodeAt(o),n,r);return new Uint8Array(e)}function WR(t){const e=[];return XR(t,n=>e.push(n)),new Uint8Array(e)}function ur(t){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};return t.forEach(o=>tv(o,n,r)),tv(null,n,r),e.join("")}function ZR(t){return Math.round(Date.now()/1e3)+t}function e2(){return Symbol("auth-callback")}const Ct=()=>typeof window<"u"&&typeof document<"u",ir={tested:!1,writable:!1},_x=()=>{if(!Ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ir.tested)return ir.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ir.tested=!0,ir.writable=!0}catch{ir.tested=!0,ir.writable=!1}return ir.writable};function t2(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return n.searchParams.forEach((r,o)=>{e[o]=r}),e}const xx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),n2=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",cs=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},rr=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ri=async(t,e)=>{await t.removeItem(e)};class jl{constructor(){this.promise=new jl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}jl.promiseConstructor=Promise;function Td(t){const e=t.split(".");if(e.length!==3)throw new uf("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!VR.test(e[r]))throw new uf("JWT not in base64url format");return{header:JSON.parse(nv(e[0])),payload:JSON.parse(nv(e[1])),signature:ms(e[2]),raw:{header:e[0],payload:e[1]}}}async function i2(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function r2(t,e){return new Promise((r,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const u=await t(a);if(!e(a,null,u)){r(u);return}}catch(u){if(!e(a,u)){o(u);return}}})()})}function s2(t){return("0"+t.toString(16)).substr(-2)}function o2(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let a=0;a<56;a++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,s2).join("")}async function a2(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function l2(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await a2(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function is(t,e,n=!1){const r=o2();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await cs(t,`${e}-code-verifier`,o);const a=await l2(r);return[a,r===a?"plain":"s256"]}const u2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function c2(t){const e=t.headers.get(af);if(!e||!e.match(u2))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function d2(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function f2(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const h2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function rs(t){if(!h2.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cd(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function p2(t,e){return new Proxy(t,{get:(n,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,o)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,o)}})}function iv(t){return JSON.parse(JSON.stringify(t))}const sr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),m2=[502,503,504];async function rv(t){var e;if(!n2(t))throw new lf(sr(t),0);if(m2.includes(t.status))throw new lf(sr(t),t.status);let n;try{n=await t.json()}catch(a){throw new lr(sr(a),a)}let r;const o=c2(t);if(o&&o.getTime()>=yx["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Z0(sr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new tn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,u)=>a&&typeof u=="string",!0))throw new Z0(sr(n),t.status,n.weak_password.reasons);throw new FR(sr(n),t.status||500,r)}const g2=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function xe(t,e,n,r){var o;const a=Object.assign({},r==null?void 0:r.headers);a[af]||(a[af]=yx["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const u=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(u.redirect_to=r.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",p=await y2(t,e,n+d,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(p):{data:Object.assign({},p),error:null}}async function y2(t,e,n,r,o,a){const u=g2(e,r,o,a);let d;try{d=await t(n,Object.assign({},u))}catch(p){throw console.error(p),new lf(sr(p),0)}if(d.ok||await rv(d),r!=null&&r.noResolveJson)return d;try{return await d.json()}catch(p){await rv(p)}}function wn(t){var e;let n=null;x2(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=ZR(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function sv(t){const e=wn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Di(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function v2(t){return{data:t,error:null}}function _2(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:a}=t,u=Es(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:a},p=Object.assign({},u);return{data:{properties:d,user:p},error:null}}function ov(t){return t}function x2(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ad=["global","local","others"];class b2{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=xx(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Ad[0]){if(Ad.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ad.join(", ")}`);try{return await xe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Di})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Es(e,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:_2,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ge(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await xe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Di})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,o,a,u,d,p;try{const f={nextPage:null,lastPage:0,total:0},y=await xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:ov});if(y.error)throw y.error;const _=await y.json(),x=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(p=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&p!==void 0?p:[];return b.length>0&&(b.forEach(T=>{const A=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(T.split(";")[1].split("=")[1]);f[`${R}Page`]=A}),f.total=parseInt(x)),{data:Object.assign(Object.assign({},_),f),error:null}}catch(f){if(ge(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){rs(e);try{return await xe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Di})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){rs(e);try{return await xe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Di})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){rs(e);try{return await xe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Di})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){rs(e.userId);try{const{data:n,error:r}=await xe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _deleteFactor(e){rs(e.userId),rs(e.id);try{return{data:await xe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,o,a,u,d,p;try{const f={nextPage:null,lastPage:0,total:0},y=await xe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:ov});if(y.error)throw y.error;const _=await y.json(),x=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(p=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&p!==void 0?p:[];return b.length>0&&(b.forEach(T=>{const A=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(T.split(";")[1].split("=")[1]);f[`${R}Page`]=A}),f.total=parseInt(x)),{data:Object.assign(Object.assign({},_),f),error:null}}catch(f){if(ge(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await xe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await xe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await xe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await xe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await xe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}}function av(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const ss={debug:!!(globalThis&&_x()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class bx extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class S2 extends bx{}async function w2(t,e,n){ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ss.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new S2(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ss.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function E2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Sx(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function T2(t){return parseInt(t,16)}function C2(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function A2(t){var e;const{chainId:n,domain:r,expirationTime:o,issuedAt:a=new Date,nonce:u,notBefore:d,requestId:p,resources:f,scheme:y,uri:_,version:x}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=Sx(t.address),T=y?`${y}://${r}`:r,A=t.statement?`${t.statement}
`:"",R=`${T} wants you to sign in with your Ethereum account:
${b}

${A}`;let k=`URI: ${_}
Version: ${x}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${a.toISOString()}`;if(o&&(k+=`
Expiration Time: ${o.toISOString()}`),d&&(k+=`
Not Before: ${d.toISOString()}`),p&&(k+=`
Request ID: ${p}`),f){let P=`
Resources:`;for(const N of f){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);P+=`
- ${N}`}k+=P}return`${R}
${k}`}class pt extends Error{constructor({message:e,code:n,cause:r,name:o}){var a;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=o??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class zl extends pt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function k2({error:t,options:e}){var n,r,o;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new pt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new pt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new pt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=a.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new pt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new pt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new pt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new pt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new pt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(wx(u)){if(a.rp.id!==u)return new pt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new pt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new pt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new pt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new pt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function N2({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new pt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new pt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(wx(r)){if(n.rpId!==r)return new pt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new pt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new pt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new pt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class R2{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const I2=new R2;function M2(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,o=Es(t,["challenge","user","excludeCredentials"]),a=ms(e).buffer,u=Object.assign(Object.assign({},n),{id:ms(n.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:a,user:u});if(r&&r.length>0){d.excludeCredentials=new Array(r.length);for(let p=0;p<r.length;p++){const f=r[p];d.excludeCredentials[p]=Object.assign(Object.assign({},f),{id:ms(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return d}function z2(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Es(t,["challenge","allowCredentials"]),o=ms(e).buffer,a=Object.assign(Object.assign({},r),{challenge:o});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const d=n[u];a.allowCredentials[u]=Object.assign(Object.assign({},d),{id:ms(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return a}function D2(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:ur(new Uint8Array(t.response.attestationObject)),clientDataJSON:ur(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function U2(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ur(new Uint8Array(o.authenticatorData)),clientDataJSON:ur(new Uint8Array(o.clientDataJSON)),signature:ur(new Uint8Array(o.signature)),userHandle:o.userHandle?ur(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function wx(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function lv(){var t,e;return!!(Ct()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function P2(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new zl("Browser returned unexpected credential type",e)}:{data:null,error:new zl("Empty credential response",e)}}catch(e){return{data:null,error:k2({error:e,options:t})}}}async function O2(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new zl("Browser returned unexpected credential type",e)}:{data:null,error:new zl("Empty credential response",e)}}catch(e){return{data:null,error:N2({error:e,options:t})}}}const L2={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},q2={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Dl(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(const o of t)if(o)for(const a in o){const u=o[a];if(u!==void 0)if(Array.isArray(u))r[a]=u;else if(n(u))r[a]=u;else if(e(u)){const d=r[a];e(d)?r[a]=Dl(d,u):r[a]=Dl(u)}else r[a]=u}return r}function B2(t,e){return Dl(L2,t,e||{})}function H2(t,e){return Dl(q2,t,e||{})}class V2{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:o},a){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:d};const p=o??I2.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:f}=u.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(u.webauthn.type){case"create":{const f=B2(u.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:y,error:_}=await P2({publicKey:f,signal:p});return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:_}}case"request":{const f=H2(u.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:y,error:_}=await O2(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:f,signal:p}));return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:_}}}}catch(u){return ge(u)?{data:null,error:u}:{data:null,error:new lr("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!n)return{data:null,error:new Oo("rpId is required for WebAuthn authentication")};try{if(!lv())return{data:null,error:new lr("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:o},{request:a});if(!u)return{data:null,error:d};const{webauthn:p}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:p.type,rpId:n,rpOrigins:r,credential_response:p.credential_response}})}catch(u){return ge(u)?{data:null,error:u}:{data:null,error:new lr("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!n)return{data:null,error:new Oo("rpId is required for WebAuthn registration")};try{if(!lv())return{data:null,error:new lr("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(y=>{var _;return(_=y.data)===null||_===void 0?void 0:_.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===e&&x.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:d};const{data:p,error:f}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:o},{create:a});return p?this._verify({factorId:u.id,challengeId:p.challengeId,webauthn:{rpId:n,rpOrigins:r,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:f}}catch(u){return ge(u)?{data:null,error:u}:{data:null,error:new lr("Unexpected error in register",u)}}}}E2();const G2={url:qR,storageKey:BR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:HR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function uv(t,e,n){return await n()}const os={};class Lo{get jwks(){var e,n;return(n=(e=os[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){os[this.storageKey]=Object.assign(Object.assign({},os[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=os[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){os[this.storageKey]=Object.assign(Object.assign({},os[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},G2),e);if(this.storageKey=a.storageKey,this.instanceID=(n=Lo.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Lo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Ct()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new b2({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=xx(a.fetch),this.lock=a.lock||uv,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:Ct()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=w2:this.lock=uv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new V2(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:_x()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=av(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=av(this.memoryStorage)),Ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${gx}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Ct()&&(n=t2(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Ct()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),JR(a)){const p=(e=a.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:u,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ge(n)?this._returnResult({error:n}):this._returnResult({error:new lr("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,o;try{const a=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:wn}),{data:u,error:d}=a;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const p=u.session,f=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:f,session:p},error:null})}catch(a){if(ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var n,r,o;try{let a;if("email"in e){const{email:y,password:_,options:x}=e;let b=null,T=null;this.flowType==="pkce"&&([b,T]=await is(this.storage,this.storageKey)),a=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:y,password:_,data:(n=x==null?void 0:x.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:b,code_challenge_method:T},xform:wn})}else if("phone"in e){const{phone:y,password:_,options:x}=e;a=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:_,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},channel:(o=x==null?void 0:x.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:wn})}else throw new yl("You must provide either an email or phone number and a password");const{data:u,error:d}=a;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const p=u.session,f=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:f,session:p},error:null})}catch(a){if(ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:u,options:d}=e;n=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:sv})}else if("phone"in e){const{phone:a,password:u,options:d}=e;n=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:sv})}else throw new yl("You must provide either an email or phone number and a password");const{data:r,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!r||!r.session||!r.user){const a=new ns;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(n){if(ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,o,a,u,d,p,f,y,_,x;let b,T;if("message"in e)b=e.message,T=e.signature;else{const{chain:A,wallet:R,statement:k,options:P}=e;let N;if(Ct())if(typeof R=="object")N=R;else{const Z=window;if("ethereum"in Z&&typeof Z.ethereum=="object"&&"request"in Z.ethereum&&typeof Z.ethereum.request=="function")N=Z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=R}const F=new URL((n=P==null?void 0:P.url)!==null&&n!==void 0?n:window.location.href),W=await N.request({method:"eth_requestAccounts"}).then(Z=>Z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!W||W.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const U=Sx(W[0]);let $=(r=P==null?void 0:P.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!$){const Z=await N.request({method:"eth_chainId"});$=T2(Z)}const se={domain:F.host,address:U,statement:k,uri:F.href,version:"1",chainId:$,nonce:(o=P==null?void 0:P.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(a=P==null?void 0:P.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=P==null?void 0:P.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(p=P==null?void 0:P.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(f=P==null?void 0:P.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(y=P==null?void 0:P.signInWithEthereum)===null||y===void 0?void 0:y.resources};b=A2(se),T=await N.request({method:"personal_sign",params:[C2(b),U]})}try{const{data:A,error:R}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:T},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:wn});if(R)throw R;if(!A||!A.session||!A.user){const k=new ns;return this._returnResult({data:{user:null,session:null},error:k})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:R})}catch(A){if(ge(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async signInWithSolana(e){var n,r,o,a,u,d,p,f,y,_,x,b;let T,A;if("message"in e)T=e.message,A=e.signature;else{const{chain:R,wallet:k,statement:P,options:N}=e;let F;if(Ct())if(typeof k=="object")F=k;else{const U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))F=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=k}const W=new URL((n=N==null?void 0:N.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in F&&F.signIn){const U=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:W.host,uri:W.href}),P?{statement:P}:null));let $;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")$=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)$=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)T=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),A=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${W.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${W.href}`,`Issued At: ${(o=(r=N==null?void 0:N.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=N==null?void 0:N.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((u=N==null?void 0:N.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((d=N==null?void 0:N.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((p=N==null?void 0:N.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((f=N==null?void 0:N.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((_=(y=N==null?void 0:N.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||_===void 0)&&_.length?["Resources",...N.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const U=await F.signMessage(new TextEncoder().encode(T),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=U}}try{const{data:R,error:k}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:ur(A)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:wn});if(k)throw k;if(!R||!R.session||!R.user){const P=new ns;return this._returnResult({data:{user:null,session:null},error:P})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:k})}catch(R){if(ge(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async _exchangeCodeForSession(e){const n=await rr(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(n??"").split("/");try{const{data:a,error:u}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:wn});if(await Ri(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!a||!a.session||!a.user){const d=new ns;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:u})}catch(a){if(ge(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:o,access_token:a,nonce:u}=e,d=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:wn}),{data:p,error:f}=d;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!p||!p.session||!p.user){const y=new ns;return this._returnResult({data:{user:null,session:null},error:y})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:f})}catch(n){if(ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,o,a,u;try{if("email"in e){const{email:d,options:p}=e;let f=null,y=null;this.flowType==="pkce"&&([f,y]=await is(this.storage,this.storageKey));const{error:_}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(r=p==null?void 0:p.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:f,code_challenge_method:y},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in e){const{phone:d,options:p}=e,{data:f,error:y}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=p==null?void 0:p.data)!==null&&o!==void 0?o:{},create_user:(a=p==null?void 0:p.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(u=p==null?void 0:p.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:y})}throw new yl("You must provide either an email or phone number.")}catch(d){if(ge(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var n,r;try{let o,a;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:d}=await xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:wn});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const p=u.session,f=u.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:f,session:p},error:null})}catch(o){if(ge(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var n,r,o,a,u;try{let d=null,p=null;this.flowType==="pkce"&&([d,p]=await is(this.storage,this.storageKey));const f=await xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:p}),headers:this.headers,xform:v2});return!((a=f.data)===null||a===void 0)&&a.url&&Ct()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(d){if(ge(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new tn;const{error:o}=await xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(ge(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:o,options:a}=e,{error:u}=await xe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:r,type:o,options:a}=e,{data:u,error:d}=await xe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new yl("You must provide either an email or phone number and a type")}catch(n){if(ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await rr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<wd:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const u=await rr(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=Cd()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=p2(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Di}):await this._useSession(async n=>{var r,o,a;const{data:u,error:d}=n;if(d)throw d;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new tn}:await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:Di})})}catch(n){if(ge(n))return jR(n)&&(await this._removeSession(),await Ri(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:o,error:a}=r;if(a)throw a;if(!o.session)throw new tn;const u=o.session;let d=null,p=null;this.flowType==="pkce"&&e.email!=null&&([d,p]=await is(this.storage,this.storageKey));const{data:f,error:y}=await xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:p}),jwt:u.access_token,xform:Di});if(y)throw y;return u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(r){if(ge(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new tn;const n=Date.now()/1e3;let r=n,o=!0,a=null;const{payload:u}=Td(e.access_token);if(u.exp&&(r=u.exp,o=r<=n),o){const{data:d,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!d)return{data:{user:null,session:null},error:null};a=d}else{const{data:d,error:p}=await this._getUser(e.access_token);if(p)throw p;a={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(ge(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:u,error:d}=n;if(d)throw d;e=(r=u.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new tn;const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Ct())throw new vl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new vl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new W0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new W0("No code detected.");const{data:P,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:a,refresh_token:u,expires_in:d,expires_at:p,token_type:f}=e;if(!a||!d||!u||!f)throw new vl("No session defined in URL");const y=Math.round(Date.now()/1e3),_=parseInt(d);let x=y+_;p&&(x=parseInt(p));const b=x-y;b*1e3<=us&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${_}s`);const T=x-_;y-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,x,y):y-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,x,y);const{data:A,error:R}=await this._getUser(a);if(R)throw R;const k={provider_token:r,provider_refresh_token:o,access_token:a,expires_in:_,expires_at:x,refresh_token:u,token_type:f,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:e.type},error:null})}catch(r){if(ge(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await rr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return this._returnResult({error:a});const u=(r=o.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!($R(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await Ri(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=e2(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,o;try{const{data:{session:a},error:u}=n;if(u)throw u;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await is(this.storage,this.storageKey,!0));try{return await xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(ge(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:o}=await this._useSession(async a=>{var u,d,p,f,y;const{data:_,error:x}=a;if(x)throw x;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await xe(this.fetch,"GET",b,{headers:this.headers,jwt:(y=(f=_.session)===null||f===void 0?void 0:f.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return Ct()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ge(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:o,data:{session:a}}=n;if(o)throw o;const{options:u,provider:d,token:p,access_token:f,nonce:y}=e,_=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:d,id_token:p,access_token:f,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:wn}),{data:x,error:b}=_;return b?this._returnResult({data:{user:null,session:null},error:b}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new ns}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:b}))}catch(o){if(ge(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,o;const{data:a,error:u}=n;if(u)throw u;return await xe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await r2(async o=>(o>0&&await i2(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:wn})),(o,a)=>{const u=200*Math.pow(2,o);return a&&Ed(a)&&Date.now()+u-r<us})}catch(r){if(this._debug(n,"error",r),ge(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ct()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await rr(this.storage,this.storageKey);if(o&&this.userStorage){let u=await rr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await cs(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:Cd()}else if(o&&!o.user&&!o.user){const u=await rr(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(o.user=u.user,await Ri(this.storage,this.storageKey+"-user"),await cs(this.storage,this.storageKey,o)):o.user=Cd()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const a=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<wd;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${wd}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Ed(u)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(o.access_token);!d&&(u!=null&&u.user)?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(r,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new tn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new jl;const{data:a,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!a.session)throw new tn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const d={data:a.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(a){if(this._debug(o,"error",a),ge(a)){const u={data:null,error:a};return Ed(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,r=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,n)}catch(p){a.push(p)}});if(await Promise.all(u),a.length>0){for(let d=0;d<a.length;d+=1)console.error(a[d]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await cs(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const a=iv(o);await cs(this.storage,this.storageKey,a)}else{const o=iv(n);await cs(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Ri(this.storage,this.storageKey),await Ri(this.storage,this.storageKey+"-code-verifier"),await Ri(this.storage,this.storageKey+"-user"),this.userStorage&&await Ri(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ct()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),us);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-e)/us);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${us}ms, refresh threshold is ${of} ticks`),o<=of&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof bx)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ct()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const o=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,u]=await is(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(d.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);o.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;return a?this._returnResult({data:null,error:a}):await xe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,o;const{data:a,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:p,error:f}=await xe(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&p.type==="totp"&&(!((o=p==null?void 0:p.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?D2(e.webauthn.credential_response):U2(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:p}=await xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:p}))})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const u=await xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:M2(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:z2(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const o={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])o.all.push(a),a.status==="verified"&&o[a.factor_type].push(a);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Td(r.access_token);let u=null;a.aal&&(u=a.aal);let d=u;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const f=a.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:o}=n;return o?this._returnResult({data:null,error:o}):r?await xe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new tn})})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:o},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new tn});const u=await xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&Ct()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:o},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new tn});const u=await xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&Ct()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await xe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new tn})})}catch(e){if(ge(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:o}=n;return o?this._returnResult({data:null,error:o}):r?(await xe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new tn})})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(d=>d.kid===e);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(d=>d.kid===e),r&&this.jwks_cached_at+GR>o)return r;const{data:a,error:u}=await xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,r=a.keys.find(d=>d.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:b,error:T}=await this.getSession();if(T||!b.session)return this._returnResult({data:null,error:T});r=b.session.access_token}const{header:o,payload:a,signature:u,raw:{header:d,payload:p}}=Td(r);n!=null&&n.allowExpired||d2(a.exp);const f=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:a,header:o,signature:u},error:null}}const y=f2(o.alg),_=await crypto.subtle.importKey("jwk",f,y,!0,["verify"]);if(!await crypto.subtle.verify(y,_,u,WR(`${d}.${p}`)))throw new uf("Invalid JWT signature");return{data:{claims:a,header:o,signature:u},error:null}}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}}Lo.nextInstanceID={};const F2=Lo;class $2 extends F2{constructor(e){super(e)}}class j2{constructor(e,n,r){var o,a,u;this.supabaseUrl=e,this.supabaseKey=n;const d=LR(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const p=`sb-${d.hostname.split(".")[0]}-auth-token`,f={db:RR,realtime:MR,auth:Object.assign(Object.assign({},IR),{storageKey:p}),global:NR},y=OR(r??{},f);this.storageKey=(o=y.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=y.global.headers)!==null&&a!==void 0?a:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(_,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=y.auth)!==null&&u!==void 0?u:{},this.headers,y.global.fetch),this.fetch=UR(n,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new MN(new URL("rest/v1",d).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new CR(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new kN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:a,storageKey:u,flowType:d,lock:p,debug:f,throwOnError:y},_,x){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $2({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),_),storageKey:u,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:a,flowType:d,lock:p,debug:f,throwOnError:y,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(T=>T.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new KN(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const J2=(t,e,n)=>new j2(t,e,n);function Y2(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Y2()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const K2="https://cujdzulajfjzoalvxwoh.supabase.co",X2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN1amR6dWxhamZqem9hbHZ4d29oIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ1MDM4MDEsImV4cCI6MjA4MDA3OTgwMX0.SJK14-kM_61r3igadVFZyBbZmvV8CTn8ZBgHpGmUu54",Ii=J2(K2,X2),cv="propel_settings",dv={getItem:t=>{try{return typeof window<"u"&&window.localStorage?window.localStorage.getItem(t):null}catch(e){return console.warn("localStorage access denied or failed",e),null}},setItem:(t,e)=>{try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem(t,e)}catch(n){console.warn("localStorage write failed",n)}}},fv=t=>({id:t.id,author:t.author,avatar:t.avatar,text:t.text,date:new Date(t.created_at).toLocaleDateString()}),Q2=t=>({id:t.id,title:t.title,product_name:t.productName,short_description:t.shortDescription,sections:t.sections,is_public:t.isPublic,public_settings:t.publicSettings,upvotes:t.upvotes,status:t.status,approval_status:t.approvalStatus,last_updated:t.lastUpdated,created_by:t.createdBy||"anonymous"}),W2=(t,e)=>({id:t.id,title:t.title,productName:t.product_name,shortDescription:t.short_description,sections:t.sections,isPublic:t.is_public,publicSettings:t.public_settings,upvotes:t.upvotes,comments:e,lastUpdated:t.last_updated,status:t.status,approvalStatus:t.approval_status,createdAt:t.created_at,createdBy:t.created_by}),Mi={fetchPRD:async t=>{try{const{data:e,error:n}=await Ii.from("prds").select("*").eq("id",t).maybeSingle();if(n)return console.error("Error fetching PRD:",n),null;if(!e)return null;const{data:r,error:o}=await Ii.from("comments").select("*").eq("prd_id",t).order("created_at",{ascending:!1});o&&console.error("Error fetching comments:",o);const a=(r||[]).map(fv);return W2(e,a)}catch(e){return console.error("Failed to fetch PRD:",e),null}},savePRD:async t=>{try{const e=Q2(t),{error:n}=await Ii.from("prds").upsert(e,{onConflict:"id"});if(n)throw console.error("Error saving PRD:",n),n;return t}catch(e){throw console.error("Failed to save PRD:",e),e}},addComment:async(t,e)=>{try{const n={id:e.id,prd_id:t,author:e.author,avatar:e.avatar,text:e.text},{error:r}=await Ii.from("comments").insert(n);if(r)throw console.error("Error adding comment:",r),r;const{data:o,error:a}=await Ii.from("comments").select("*").eq("prd_id",t).order("created_at",{ascending:!1});if(a)throw console.error("Error fetching comments:",a),a;return(o||[]).map(fv)}catch(n){throw console.error("Failed to add comment:",n),n}},toggleUpvote:async(t,e)=>{try{const{data:n,error:r}=await Ii.from("prds").select("upvotes").eq("id",t).maybeSingle();if(r)throw console.error("Error fetching PRD for upvote:",r),r;if(!n)throw new Error("PRD not found");const o=e?(n.upvotes||0)+1:Math.max(0,(n.upvotes||0)-1),{error:a}=await Ii.from("prds").update({upvotes:o}).eq("id",t);if(a)throw console.error("Error updating upvotes:",a),a;return o}catch(n){throw console.error("Failed to toggle upvote:",n),n}},updateStatus:async(t,e,n,r)=>{try{const{error:o}=await Ii.from("prds").update({approval_status:e}).eq("id",t);if(o)throw console.error("Error updating status:",o),o;r&&await xN(t,e,r.title,n,r.comment,r.approverName,r.approverEmail)}catch(o){throw console.error("Failed to update status:",o),o}},getSettings:()=>{const t=dv.getItem(cv);return t?JSON.parse(t):{geminiModel:"gemini-2.5-flash",geminiApiKey:"",webhookUrl:"",email:""}},saveSettings:t=>{dv.setItem(cv,JSON.stringify(t))}},hv=()=>{try{if(typeof crypto<"u"&&"randomUUID"in crypto)return crypto.randomUUID()}catch{}return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},Z2=()=>{try{if(typeof window<"u"&&window.localStorage)return window.localStorage.getItem("theme")}catch{return null}return null},pv=t=>{try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem("theme",t)}catch{}},eI=()=>{const[t,e]=Te.useState("landing"),[n,r]=Te.useState(!0),o=()=>({id:hv(),title:"New PRD",productName:"",shortDescription:"",sections:JSON.parse(JSON.stringify(ly)),isPublic:!1,publicSettings:{...uy},upvotes:0,comments:[],lastUpdated:new Date().toISOString(),status:"draft",approvalStatus:"pending"}),[a,u]=Te.useState(o()),[d,p]=Te.useState({geminiModel:"gemini-2.5-flash",geminiApiKey:"",webhookUrl:"",email:""}),[f,y]=Te.useState(!1),[_,x]=Te.useState(!1),[b,T]=Te.useState(!1),[A,R]=Te.useState(!1),[k,P]=Te.useState({}),[N,F]=Te.useState(!1),[W,U]=Te.useState(!1),$=Te.useRef(null);Te.useEffect(()=>{(async()=>{const C=Z2();(document.documentElement.classList.contains("dark")||C==="dark")&&(x(!0),document.documentElement.classList.add("dark"));const Y=Mi.getSettings();p(Y);const de=()=>y(window.scrollY>20);window.addEventListener("scroll",de);const he=new URLSearchParams(window.location.search),we=he.get("id"),Ye=he.get("view");if(we)try{const Ae=await Mi.fetchPRD(we);Ae?(u($t=>({...o(),...Ae,publicSettings:{...uy,...Ae.publicSettings||{}},sections:ly.map(jt=>{const Dn=Array.isArray(Ae.sections)?Ae.sections.find(fr=>fr.id===jt.id):null;return Dn?{...jt,content:Dn.content,isEnabled:Dn.isEnabled}:jt}),comments:Array.isArray(Ae.comments)?Ae.comments:[],upvotes:typeof Ae.upvotes=="number"?Ae.upvotes:0,approvalStatus:Ae.approvalStatus||"pending"})),e(Ye||"config")):(console.warn(`PRD with ID ${we} not found. Starting new.`),e("landing"))}catch(Ae){console.error("Failed to fetch PRD from URL",Ae)}return r(!1),()=>window.removeEventListener("scroll",de)})()},[]),Te.useEffect(()=>{if(n||t==="landing")return;if($.current&&clearTimeout($.current),$.current=setTimeout(()=>{(a.productName||a.sections.some(Y=>Y.content))&&Mi.savePRD(a).catch(Y=>console.error("Auto-save failed",Y))},2e3),!new URLSearchParams(window.location.search).get("id")&&a.id){const Y=`${window.location.pathname}?id=${a.id}`;try{window.history.replaceState({},"",Y)}catch(de){console.warn("History API update failed",de)}}},[a,n,t]);const se=()=>{const q=!_;x(q),q?(document.documentElement.classList.add("dark"),pv("dark")):(document.documentElement.classList.remove("dark"),pv("light"))},Z=q=>{p(q),Mi.saveSettings(q),R(!1)},ae=q=>{u(C=>({...C,sections:C.sections.map(Y=>Y.id===q?{...Y,isEnabled:!Y.isEnabled}:Y)}))},ne=(q,C)=>{u(Y=>({...Y,lastUpdated:new Date().toISOString(),sections:Y.sections.map(de=>de.id===q?{...de,content:C}:de)}))},Q=(q,C)=>{u(Y=>({...Y,[q]:C}))},me=async q=>{const C={id:hv(),author:"Guest User",avatar:`https://picsum.photos/seed/${Math.random()}/64/64`,text:q,date:new Date().toLocaleDateString()};u(Y=>({...Y,comments:[C,...Y.comments||[]]}));try{await Mi.addComment(a.id,C)}catch(Y){console.error("Failed to save comment",Y)}},ce=async()=>{u(q=>({...q,upvotes:(q.upvotes||0)+1}));try{await Mi.toggleUpvote(a.id,!0)}catch(q){console.error("Failed to save upvote",q)}},ie=async(q,C)=>{u(Y=>({...Y,approvalStatus:q}));try{await Mi.updateStatus(a.id,q,d.webhookUrl,{title:a.productName,...C})}catch(Y){console.error("Failed to update status",Y)}},L=()=>{const q={};return a.sections.forEach(C=>{C.isEnabled&&C.content&&(q[C.title]=C.content)}),{productName:a.productName,shortDescription:a.shortDescription,existingSections:q}};return{view:t,setView:e,isLoading:n,prd:a,scrolled:f,isDark:_,toggleTheme:se,settings:d,isSettingsOpen:A,setIsSettingsOpen:R,handleUpdateSettings:Z,handleSectionToggle:ae,updateSectionContent:ne,updateContext:Q,getGenerationContext:L,handleGenerateDescription:async()=>{if(a.productName.trim()){F(!0);try{const q=await vN(a.productName,d.geminiApiKey,d.geminiModel);u(C=>({...C,shortDescription:q}))}catch(q){console.error(q)}finally{F(!1)}}},handleGenerateSection:async(q,C)=>{if(a.productName){P(Y=>({...Y,[q]:!0}));try{const Y=await U0(C,L(),d.geminiApiKey,d.geminiModel);ne(q,Y)}catch(Y){console.error(`Failed to generate ${C}`,Y)}finally{P(Y=>({...Y,[q]:!1}))}}},handleGenerateAll:async()=>{if(!a.productName)return;U(!0);const q=a.sections.filter(C=>C.isEnabled&&!C.content);for(const C of q){P(Y=>({...Y,[C.id]:!0}));try{const Y=L(),de=await U0(C.title,Y,d.geminiApiKey,d.geminiModel);u(he=>({...he,lastUpdated:new Date().toISOString(),sections:he.sections.map(we=>we.id===C.id?{...we,content:de}:we)}))}catch(Y){console.error(Y)}finally{P(Y=>({...Y,[C.id]:!1}))}}U(!1)},initiatePublish:()=>{T(!0)},confirmPublish:async q=>{const C={...a,isPublic:!0,status:"published",publicSettings:q};u(C),await Mi.savePRD(C),T(!1),e("public");const Y=`${window.location.pathname}?id=${a.id}&view=public`;try{window.history.pushState({},"",Y)}catch(de){console.warn("History API failed",de)}},isPublishModalOpen:b,setIsPublishModalOpen:T,handlePublicComment:me,handlePublicUpvote:ce,handleStatusChange:ie,loadingStates:{generatingSections:k,isGeneratingDescription:N,isGeneratingAll:W}}};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nI=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),mv=t=>{const e=nI(t);return e.charAt(0).toUpperCase()+e.slice(1)},Ex=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),iI=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=Te.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:u,...d},p)=>Te.createElement("svg",{ref:p,...rI,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Ex("lucide",o),...!a&&!iI(d)&&{"aria-hidden":"true"},...d},[...u.map(([f,y])=>Te.createElement(f,y)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=(t,e)=>{const n=Te.forwardRef(({className:r,...o},a)=>Te.createElement(sI,{ref:a,iconNode:e,className:Ex(`lucide-${tI(mv(t))}`,`lucide-${t}`,r),...o}));return n.displayName=mv(t),n};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Lf=ve("arrow-left",oI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],lI=ve("arrow-up",aI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],cI=ve("book-open",uI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],fI=ve("bot",dI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],pI=ve("calendar",hI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],gI=ve("chart-no-axes-column",mI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gs=ve("check",yI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],_I=ve("chevron-down",vI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],qf=ve("chevron-right",xI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],SI=ve("chevron-up",bI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Tx=ve("circle-alert",wI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Cx=ve("circle-check",EI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],CI=ve("command",TI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],kI=ve("cpu",AI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],RI=ve("database",NI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],MI=ve("download",II);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],DI=ve("eraser",zI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ul=ve("eye",UI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],Ax=ve("file-braces",PI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],LI=ve("file-code",OI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Jl=ve("file-text",qI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M11 18h2",key:"12mj7e"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M9 13v-.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v.5",key:"qbrxap"}]],HI=ve("file-type",BI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],GI=ve("file",VI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],kx=ve("key",FI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]],jI=ve("layout-template",$I);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],YI=ve("list-checks",JI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Bf=ve("loader-circle",KI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Nx=ve("mail",XI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],WI=ve("maximize-2",QI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],eM=ve("message-square",ZI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],nM=ve("minimize-2",tM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],rM=ve("moon",iM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],oM=ve("palette",sM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],lM=ve("panels-top-left",aM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],cM=ve("pen-line",uM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Pl=ve("refresh-cw",dM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Ol=ve("rocket",fM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],pM=ve("save",hM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Hf=ve("settings-2",mM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yM=ve("settings",gM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],_M=ve("share-2",vM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Rx=ve("shield-alert",xM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],qo=ve("shield-check",bM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ys=ve("sparkles",SM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],EM=ve("sun",wM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],CM=ve("target",TM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],kM=ve("terminal",AM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],Ix=ve("thumbs-up",NM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["path",{d:"M2 21a8 8 0 0 1 11.873-7",key:"74fkxq"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"m17 17 5 5",key:"p7ous7"}],["path",{d:"m22 17-5 5",key:"gqnmv0"}]],IM=ve("user-round-x",RM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],zM=ve("user",MM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],UM=ve("users",DM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],Mx=ve("wand-sparkles",PM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]],zx=ve("webhook",OM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Yl=ve("x",LM);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],BM=ve("zap",qM),vt=({children:t,variant:e="primary",size:n="md",isLoading:r=!1,leftIcon:o,rightIcon:a,className:u="",disabled:d,...p})=>{const f="inline-flex items-center justify-center rounded-full font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-900 dark:focus-visible:ring-zinc-100 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed ring-offset-white dark:ring-offset-zinc-950 active:scale-[0.98]",y={primary:"bg-zinc-900 text-white hover:bg-zinc-800 shadow-lg shadow-zinc-900/20 border border-transparent dark:bg-zinc-50 dark:text-zinc-950 dark:hover:bg-zinc-200",secondary:"bg-white text-zinc-900 border border-zinc-200 hover:border-zinc-300 hover:bg-zinc-50 shadow-sm text-zinc-700 hover:text-zinc-900 dark:bg-zinc-800 dark:text-zinc-100 dark:border-zinc-700 dark:hover:bg-zinc-700 dark:hover:border-zinc-600",outline:"bg-transparent border border-zinc-300 text-zinc-700 hover:border-zinc-400 hover:bg-zinc-50 hover:text-zinc-900 dark:border-zinc-700 dark:text-zinc-300 dark:hover:bg-zinc-800 dark:hover:text-zinc-100",ghost:"hover:bg-zinc-100 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:bg-zinc-800 dark:hover:text-zinc-100"},_={sm:"h-9 px-4 text-xs tracking-wide",md:"h-11 px-6 text-sm font-medium",lg:"h-14 px-8 text-base font-semibold"};return S.jsxs("button",{className:`${f} ${y[e]} ${_[n]} ${u}`,disabled:r||d,...p,children:[r?S.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[S.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),S.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):o?S.jsx("span",{className:"mr-2 opacity-90",children:o}):null,t,a&&!r&&S.jsx("span",{className:"ml-2 opacity-90",children:a})]})},HM=({scrolled:t,view:e,setView:n,isDark:r,toggleTheme:o,onPublish:a,onOpenSettings:u})=>{const d=[{id:"config",label:"Structure",icon:S.jsx(Hf,{size:16})},{id:"edit",label:"Write",icon:S.jsx(Jl,{size:16})},{id:"preview",label:"Preview",icon:S.jsx(Ul,{size:16})}];return e==="public"?null:S.jsx("header",{className:`
      sticky top-0 z-30 transition-all duration-300
      ${t?"bg-white/90 dark:bg-zinc-950/90 backdrop-blur-md shadow-sm border-b border-zinc-200 dark:border-zinc-800":"bg-transparent pt-6 pb-2"}
    `,children:S.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 h-20 flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-2.5",children:[S.jsx("div",{className:"bg-zinc-900 dark:bg-white text-white dark:text-zinc-900 w-10 h-10 rounded-xl flex items-center justify-center shadow-sm flex-shrink-0",children:S.jsx(Ol,{size:20,strokeWidth:2.5})}),S.jsx("span",{className:"text-xl font-bold text-zinc-900 dark:text-white tracking-tight hidden sm:inline-block",children:"Propel"})]}),S.jsx("div",{className:"hidden md:flex items-center p-1.5 bg-zinc-200/50 dark:bg-zinc-800/50 rounded-full border border-zinc-200/60 dark:border-zinc-800 backdrop-blur-sm",children:d.map(p=>{const f=e===p.id;return S.jsxs("button",{onClick:()=>n(p.id),className:`
                          flex items-center gap-2.5 px-8 py-2.5 rounded-full text-sm font-semibold transition-all duration-200
                          ${f?"bg-white dark:bg-zinc-950 text-zinc-900 dark:text-white shadow-sm ring-1 ring-zinc-900/5 dark:ring-zinc-100/10":"text-zinc-500 dark:text-zinc-400 hover:text-zinc-700 dark:hover:text-zinc-200 hover:bg-zinc-200/50 dark:hover:bg-zinc-700/50"}
                      `,children:[p.icon,p.label]},p.id)})}),S.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[S.jsx("button",{onClick:o,className:"w-10 h-10 rounded-full flex items-center justify-center text-zinc-500 dark:text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-800 transition-colors",children:r?S.jsx(EM,{size:20}):S.jsx(rM,{size:20})}),S.jsx("button",{onClick:u,className:"w-10 h-10 rounded-full flex items-center justify-center text-zinc-500 dark:text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-800 transition-colors",children:S.jsx(yM,{size:20})}),e==="preview"?S.jsx(vt,{onClick:a,variant:"primary",size:"md",rightIcon:S.jsx(qf,{size:18}),children:"Publish"}):S.jsx(vt,{onClick:()=>n("preview"),variant:"secondary",size:"md",className:"hidden sm:inline-flex",children:"Preview"})]})]})})},gv=t=>{switch(t){case"executive_summary":return S.jsx(jI,{size:20});case"problem_statement":return S.jsx(Tx,{size:20});case"goals_objectives":return S.jsx(CM,{size:20});case"target_audience":return S.jsx(UM,{size:20});case"user_stories":return S.jsx(cI,{size:20});case"features_requirements":return S.jsx(YI,{size:20});case"technical_requirements":return S.jsx(RI,{size:20});case"design_requirements":return S.jsx(oM,{size:20});case"timeline_milestones":return S.jsx(pI,{size:20});case"success_metrics":return S.jsx(gI,{size:20});case"risks":return S.jsx(Rx,{size:20});default:return S.jsx(Jl,{size:20})}},VM=({sections:t,onToggle:e})=>S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5 auto-rows-fr",children:t.map(n=>(gv(n.id),S.jsxs("div",{onClick:()=>e(n.id),className:`
              group relative p-6 rounded-2xl cursor-pointer transition-all duration-300 ease-out
              flex flex-col min-h-[180px]
              ${n.isEnabled?"bg-white dark:bg-zinc-900 ring-2 ring-zinc-900 dark:ring-zinc-100 shadow-xl shadow-zinc-200/50 dark:shadow-black/50 transform -translate-y-1":"bg-white dark:bg-zinc-800/40 border border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-800 hover:shadow-md"}
            `,children:[S.jsxs("div",{className:"flex items-start justify-between mb-5",children:[S.jsx("div",{className:`
                p-3 rounded-xl transition-colors duration-300
                ${n.isEnabled?"bg-zinc-900 text-white dark:bg-zinc-50 dark:text-zinc-900":"bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 text-zinc-500 dark:text-zinc-500 group-hover:text-zinc-700 dark:group-hover:text-zinc-300 group-hover:border-zinc-300"}
              `,children:gv(n.id)}),S.jsx("div",{className:`
                w-6 h-6 rounded-full flex items-center justify-center transition-all duration-300
                ${n.isEnabled?"bg-zinc-900 text-white dark:bg-zinc-50 dark:text-zinc-900 scale-100":"border-2 border-zinc-200 dark:border-zinc-700 text-transparent scale-90 group-hover:border-zinc-300"}
              `,children:S.jsx(gs,{size:14,strokeWidth:3})})]}),S.jsxs("div",{className:"flex-1 flex flex-col",children:[S.jsx("h3",{className:`font-bold text-lg mb-2 transition-colors ${n.isEnabled?"text-zinc-900 dark:text-zinc-50":"text-zinc-700 dark:text-zinc-400"}`,children:n.title}),S.jsx("p",{className:`text-sm leading-relaxed transition-colors ${n.isEnabled?"text-zinc-600 dark:text-zinc-300":"text-zinc-500 dark:text-zinc-500"}`,children:n.description})]})]},n.id)))}),GM=({prd:t,onSectionToggle:e,onNext:n})=>S.jsxs("div",{className:"animate-enter space-y-10 md:space-y-16 max-w-4xl mx-auto",children:[S.jsxs("div",{className:"text-center space-y-4 mb-10 md:mb-16",children:[S.jsx("h1",{className:"text-3xl md:text-5xl font-extrabold text-zinc-900 dark:text-white tracking-tight leading-tight",children:"What's in your PRD?"}),S.jsx("p",{className:"text-base md:text-xl text-zinc-500 dark:text-zinc-400 max-w-lg mx-auto leading-relaxed font-light",children:"Select the sections you need. Propel will help you fill them out with intelligent suggestions."})]}),S.jsx(VM,{sections:t.sections,onToggle:e}),S.jsx("div",{className:"flex justify-center pt-10",children:S.jsx(vt,{size:"lg",rightIcon:S.jsx(qf,{size:18}),onClick:n,className:"shadow-xl shadow-zinc-200/50 dark:shadow-zinc-900/50",children:"Start Writing"})})]});var FM=n_();function $M(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const jM=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,JM=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,YM={};function yv(t,e){return(YM.jsx?JM:jM).test(t)}const KM=/[ \t\n\f\r]/g;function XM(t){return typeof t=="object"?t.type==="text"?vv(t.value):!1:vv(t)}function vv(t){return t.replace(KM,"")===""}class Go{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Go.prototype.normal={};Go.prototype.property={};Go.prototype.space=void 0;function Dx(t,e){const n={},r={};for(const o of t)Object.assign(n,o.property),Object.assign(r,o.normal);return new Go(n,r,e)}function cf(t){return t.toLowerCase()}class Ft{constructor(e,n){this.attribute=n,this.property=e}}Ft.prototype.attribute="";Ft.prototype.booleanish=!1;Ft.prototype.boolean=!1;Ft.prototype.commaOrSpaceSeparated=!1;Ft.prototype.commaSeparated=!1;Ft.prototype.defined=!1;Ft.prototype.mustUseProperty=!1;Ft.prototype.number=!1;Ft.prototype.overloadedBoolean=!1;Ft.prototype.property="";Ft.prototype.spaceSeparated=!1;Ft.prototype.space=void 0;let QM=0;const Ne=dr(),ht=dr(),df=dr(),te=dr(),We=dr(),vs=dr(),nn=dr();function dr(){return 2**++QM}const ff=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ne,booleanish:ht,commaOrSpaceSeparated:nn,commaSeparated:vs,number:te,overloadedBoolean:df,spaceSeparated:We},Symbol.toStringTag,{value:"Module"})),kd=Object.keys(ff);class Vf extends Ft{constructor(e,n,r,o){let a=-1;if(super(e,n),_v(this,"space",o),typeof r=="number")for(;++a<kd.length;){const u=kd[a];_v(this,kd[a],(r&ff[u])===ff[u])}}}Vf.prototype.defined=!0;function _v(t,e,n){n&&(t[e]=n)}function Cs(t){const e={},n={};for(const[r,o]of Object.entries(t.properties)){const a=new Vf(r,t.transform(t.attributes||{},r),o,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[cf(r)]=r,n[cf(a.attribute)]=r}return new Go(e,n,t.space)}const Ux=Cs({properties:{ariaActiveDescendant:null,ariaAtomic:ht,ariaAutoComplete:null,ariaBusy:ht,ariaChecked:ht,ariaColCount:te,ariaColIndex:te,ariaColSpan:te,ariaControls:We,ariaCurrent:null,ariaDescribedBy:We,ariaDetails:null,ariaDisabled:ht,ariaDropEffect:We,ariaErrorMessage:null,ariaExpanded:ht,ariaFlowTo:We,ariaGrabbed:ht,ariaHasPopup:null,ariaHidden:ht,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:We,ariaLevel:te,ariaLive:null,ariaModal:ht,ariaMultiLine:ht,ariaMultiSelectable:ht,ariaOrientation:null,ariaOwns:We,ariaPlaceholder:null,ariaPosInSet:te,ariaPressed:ht,ariaReadOnly:ht,ariaRelevant:null,ariaRequired:ht,ariaRoleDescription:We,ariaRowCount:te,ariaRowIndex:te,ariaRowSpan:te,ariaSelected:ht,ariaSetSize:te,ariaSort:null,ariaValueMax:te,ariaValueMin:te,ariaValueNow:te,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Px(t,e){return e in t?t[e]:e}function Ox(t,e){return Px(t,e.toLowerCase())}const WM=Cs({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:vs,acceptCharset:We,accessKey:We,action:null,allow:null,allowFullScreen:Ne,allowPaymentRequest:Ne,allowUserMedia:Ne,alt:null,as:null,async:Ne,autoCapitalize:null,autoComplete:We,autoFocus:Ne,autoPlay:Ne,blocking:We,capture:null,charSet:null,checked:Ne,cite:null,className:We,cols:te,colSpan:null,content:null,contentEditable:ht,controls:Ne,controlsList:We,coords:te|vs,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ne,defer:Ne,dir:null,dirName:null,disabled:Ne,download:df,draggable:ht,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ne,formTarget:null,headers:We,height:te,hidden:df,high:te,href:null,hrefLang:null,htmlFor:We,httpEquiv:We,id:null,imageSizes:null,imageSrcSet:null,inert:Ne,inputMode:null,integrity:null,is:null,isMap:Ne,itemId:null,itemProp:We,itemRef:We,itemScope:Ne,itemType:We,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ne,low:te,manifest:null,max:null,maxLength:te,media:null,method:null,min:null,minLength:te,multiple:Ne,muted:Ne,name:null,nonce:null,noModule:Ne,noValidate:Ne,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ne,optimum:te,pattern:null,ping:We,placeholder:null,playsInline:Ne,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ne,referrerPolicy:null,rel:We,required:Ne,reversed:Ne,rows:te,rowSpan:te,sandbox:We,scope:null,scoped:Ne,seamless:Ne,selected:Ne,shadowRootClonable:Ne,shadowRootDelegatesFocus:Ne,shadowRootMode:null,shape:null,size:te,sizes:null,slot:null,span:te,spellCheck:ht,src:null,srcDoc:null,srcLang:null,srcSet:null,start:te,step:null,style:null,tabIndex:te,target:null,title:null,translate:null,type:null,typeMustMatch:Ne,useMap:null,value:ht,width:te,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:We,axis:null,background:null,bgColor:null,border:te,borderColor:null,bottomMargin:te,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ne,declare:Ne,event:null,face:null,frame:null,frameBorder:null,hSpace:te,leftMargin:te,link:null,longDesc:null,lowSrc:null,marginHeight:te,marginWidth:te,noResize:Ne,noHref:Ne,noShade:Ne,noWrap:Ne,object:null,profile:null,prompt:null,rev:null,rightMargin:te,rules:null,scheme:null,scrolling:ht,standby:null,summary:null,text:null,topMargin:te,valueType:null,version:null,vAlign:null,vLink:null,vSpace:te,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ne,disableRemotePlayback:Ne,prefix:null,property:null,results:te,security:null,unselectable:null},space:"html",transform:Ox}),ZM=Cs({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:nn,accentHeight:te,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:te,amplitude:te,arabicForm:null,ascent:te,attributeName:null,attributeType:null,azimuth:te,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:te,by:null,calcMode:null,capHeight:te,className:We,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:te,diffuseConstant:te,direction:null,display:null,dur:null,divisor:te,dominantBaseline:null,download:Ne,dx:null,dy:null,edgeMode:null,editable:null,elevation:te,enableBackground:null,end:null,event:null,exponent:te,externalResourcesRequired:null,fill:null,fillOpacity:te,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:vs,g2:vs,glyphName:vs,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:te,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:te,horizOriginX:te,horizOriginY:te,id:null,ideographic:te,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:te,k:te,k1:te,k2:te,k3:te,k4:te,kernelMatrix:nn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:te,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:te,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:te,overlineThickness:te,paintOrder:null,panose1:null,path:null,pathLength:te,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:We,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:te,pointsAtY:te,pointsAtZ:te,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:nn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:nn,rev:nn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:nn,requiredFeatures:nn,requiredFonts:nn,requiredFormats:nn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:te,specularExponent:te,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:te,strikethroughThickness:te,string:null,stroke:null,strokeDashArray:nn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:te,strokeOpacity:te,strokeWidth:null,style:null,surfaceScale:te,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:nn,tabIndex:te,tableValues:null,target:null,targetX:te,targetY:te,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:nn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:te,underlineThickness:te,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:te,values:null,vAlphabetic:te,vMathematical:te,vectorEffect:null,vHanging:te,vIdeographic:te,version:null,vertAdvY:te,vertOriginX:te,vertOriginY:te,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:te,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Px}),Lx=Cs({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),qx=Cs({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Ox}),Bx=Cs({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),ez={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},tz=/[A-Z]/g,xv=/-[a-z]/g,nz=/^data[-\w.:]+$/i;function iz(t,e){const n=cf(e);let r=e,o=Ft;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&nz.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(xv,sz);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!xv.test(a)){let u=a.replace(tz,rz);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}o=Vf}return new o(r,e)}function rz(t){return"-"+t.toLowerCase()}function sz(t){return t.charAt(1).toUpperCase()}const oz=Dx([Ux,WM,Lx,qx,Bx],"html"),Gf=Dx([Ux,ZM,Lx,qx,Bx],"svg");function az(t){return t.join(" ").trim()}var as={},Nd,bv;function lz(){if(bv)return Nd;bv=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,d=/^\s+|\s+$/g,p=`
`,f="/",y="*",_="",x="comment",b="declaration";function T(R,k){if(typeof R!="string")throw new TypeError("First argument must be a string");if(!R)return[];k=k||{};var P=1,N=1;function F(ce){var ie=ce.match(e);ie&&(P+=ie.length);var L=ce.lastIndexOf(p);N=~L?ce.length-L:N+ce.length}function W(){var ce={line:P,column:N};return function(ie){return ie.position=new U(ce),Z(),ie}}function U(ce){this.start=ce,this.end={line:P,column:N},this.source=k.source}U.prototype.content=R;function $(ce){var ie=new Error(k.source+":"+P+":"+N+": "+ce);if(ie.reason=ce,ie.filename=k.source,ie.line=P,ie.column=N,ie.source=R,!k.silent)throw ie}function se(ce){var ie=ce.exec(R);if(ie){var L=ie[0];return F(L),R=R.slice(L.length),ie}}function Z(){se(n)}function ae(ce){var ie;for(ce=ce||[];ie=ne();)ie!==!1&&ce.push(ie);return ce}function ne(){var ce=W();if(!(f!=R.charAt(0)||y!=R.charAt(1))){for(var ie=2;_!=R.charAt(ie)&&(y!=R.charAt(ie)||f!=R.charAt(ie+1));)++ie;if(ie+=2,_===R.charAt(ie-1))return $("End of comment missing");var L=R.slice(2,ie-2);return N+=2,F(L),R=R.slice(ie),N+=2,ce({type:x,comment:L})}}function Q(){var ce=W(),ie=se(r);if(ie){if(ne(),!se(o))return $("property missing ':'");var L=se(a),ee=ce({type:b,property:A(ie[0].replace(t,_)),value:L?A(L[0].replace(t,_)):_});return se(u),ee}}function me(){var ce=[];ae(ce);for(var ie;ie=Q();)ie!==!1&&(ce.push(ie),ae(ce));return ce}return Z(),me()}function A(R){return R?R.replace(d,_):_}return Nd=T,Nd}var Sv;function uz(){if(Sv)return as;Sv=1;var t=as&&as.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(as,"__esModule",{value:!0}),as.default=n;const e=t(lz());function n(r,o){let a=null;if(!r||typeof r!="string")return a;const u=(0,e.default)(r),d=typeof o=="function";return u.forEach(p=>{if(p.type!=="declaration")return;const{property:f,value:y}=p;d?o(f,y,p):y&&(a=a||{},a[f]=y)}),a}return as}var Eo={},wv;function cz(){if(wv)return Eo;wv=1,Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,a=function(f){return!f||n.test(f)||t.test(f)},u=function(f,y){return y.toUpperCase()},d=function(f,y){return"".concat(y,"-")},p=function(f,y){return y===void 0&&(y={}),a(f)?f:(f=f.toLowerCase(),y.reactCompat?f=f.replace(o,d):f=f.replace(r,d),f.replace(e,u))};return Eo.camelCase=p,Eo}var To,Ev;function dz(){if(Ev)return To;Ev=1;var t=To&&To.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},e=t(uz()),n=cz();function r(o,a){var u={};return!o||typeof o!="string"||(0,e.default)(o,function(d,p){d&&p&&(u[(0,n.camelCase)(d,a)]=p)}),u}return r.default=r,To=r,To}var fz=dz();const hz=Ho(fz),Hx=Vx("end"),Ff=Vx("start");function Vx(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function pz(t){const e=Ff(t),n=Hx(t);if(e&&n)return{start:e,end:n}}function Mo(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Tv(t.position):"start"in t||"end"in t?Tv(t):"line"in t||"column"in t?hf(t):""}function hf(t){return Cv(t&&t.line)+":"+Cv(t&&t.column)}function Tv(t){return hf(t&&t.start)+"-"+hf(t&&t.end)}function Cv(t){return t&&typeof t=="number"?t:1}class Rt extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let o="",a={},u=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?o=e:!a.cause&&e&&(u=!0,o=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const p=r.indexOf(":");p===-1?a.ruleId=r:(a.source=r.slice(0,p),a.ruleId=r.slice(p+1))}if(!a.place&&a.ancestors&&a.ancestors){const p=a.ancestors[a.ancestors.length-1];p&&(a.place=p.position)}const d=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=d?d.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=d?d.line:void 0,this.name=Mo(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=u&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Rt.prototype.file="";Rt.prototype.name="";Rt.prototype.reason="";Rt.prototype.message="";Rt.prototype.stack="";Rt.prototype.column=void 0;Rt.prototype.line=void 0;Rt.prototype.ancestors=void 0;Rt.prototype.cause=void 0;Rt.prototype.fatal=void 0;Rt.prototype.place=void 0;Rt.prototype.ruleId=void 0;Rt.prototype.source=void 0;const $f={}.hasOwnProperty,mz=new Map,gz=/[A-Z]/g,yz=new Set(["table","tbody","thead","tfoot","tr"]),vz=new Set(["td","th"]),Gx="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function _z(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Az(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Cz(n,e.jsx,e.jsxs)}const o={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Gf:oz,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=Fx(o,t,void 0);return a&&typeof a!="string"?a:o.create(t,o.Fragment,{children:a||void 0},void 0)}function Fx(t,e,n){if(e.type==="element")return xz(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return bz(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return wz(t,e,n);if(e.type==="mdxjsEsm")return Sz(t,e);if(e.type==="root")return Ez(t,e,n);if(e.type==="text")return Tz(t,e)}function xz(t,e,n){const r=t.schema;let o=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(o=Gf,t.schema=o),t.ancestors.push(e);const a=jx(t,e.tagName,!1),u=kz(t,e);let d=Jf(t,e);return yz.has(e.tagName)&&(d=d.filter(function(p){return typeof p=="string"?!XM(p):!0})),$x(t,u,a,e),jf(u,d),t.ancestors.pop(),t.schema=r,t.create(e,a,u,n)}function bz(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Bo(t,e.position)}function Sz(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Bo(t,e.position)}function wz(t,e,n){const r=t.schema;let o=r;e.name==="svg"&&r.space==="html"&&(o=Gf,t.schema=o),t.ancestors.push(e);const a=e.name===null?t.Fragment:jx(t,e.name,!0),u=Nz(t,e),d=Jf(t,e);return $x(t,u,a,e),jf(u,d),t.ancestors.pop(),t.schema=r,t.create(e,a,u,n)}function Ez(t,e,n){const r={};return jf(r,Jf(t,e)),t.create(e,t.Fragment,r,n)}function Tz(t,e){return e.value}function $x(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function jf(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function Cz(t,e,n){return r;function r(o,a,u,d){const f=Array.isArray(u.children)?n:e;return d?f(a,u,d):f(a,u)}}function Az(t,e){return n;function n(r,o,a,u){const d=Array.isArray(a.children),p=Ff(r);return e(o,a,u,d,{columnNumber:p?p.column-1:void 0,fileName:t,lineNumber:p?p.line:void 0},void 0)}}function kz(t,e){const n={};let r,o;for(o in e.properties)if(o!=="children"&&$f.call(e.properties,o)){const a=Rz(t,o,e.properties[o]);if(a){const[u,d]=a;t.tableCellAlignToStyle&&u==="align"&&typeof d=="string"&&vz.has(e.tagName)?r=d:n[u]=d}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Nz(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const u=a.expression;u.type;const d=u.properties[0];d.type,Object.assign(n,t.evaluater.evaluateExpression(d.argument))}else Bo(t,e.position);else{const o=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const d=r.value.data.estree.body[0];d.type,a=t.evaluater.evaluateExpression(d.expression)}else Bo(t,e.position);else a=r.value===null?!0:r.value;n[o]=a}return n}function Jf(t,e){const n=[];let r=-1;const o=t.passKeys?new Map:mz;for(;++r<e.children.length;){const a=e.children[r];let u;if(t.passKeys){const p=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(p){const f=o.get(p)||0;u=p+"-"+f,o.set(p,f+1)}}const d=Fx(t,a,u);d!==void 0&&n.push(d)}return n}function Rz(t,e,n){const r=iz(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?$M(n):az(n)),r.property==="style"){let o=typeof n=="object"?n:Iz(t,String(n));return t.stylePropertyNameCase==="css"&&(o=Mz(o)),["style",o]}return[t.elementAttributeNameCase==="react"&&r.space?ez[r.property]||r.property:r.attribute,n]}}function Iz(t,e){try{return hz(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,o=new Rt("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=t.filePath||void 0,o.url=Gx+"#cannot-parse-style-attribute",o}}function jx(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const o=e.split(".");let a=-1,u;for(;++a<o.length;){const d=yv(o[a])?{type:"Identifier",name:o[a]}:{type:"Literal",value:o[a]};u=u?{type:"MemberExpression",object:u,property:d,computed:!!(a&&d.type==="Literal"),optional:!1}:d}r=u}else r=yv(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const o=r.value;return $f.call(t.components,o)?t.components[o]:o}if(t.evaluater)return t.evaluater.evaluateExpression(r);Bo(t)}function Bo(t,e){const n=new Rt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=Gx+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Mz(t){const e={};let n;for(n in t)$f.call(t,n)&&(e[zz(n)]=t[n]);return e}function zz(t){let e=t.replace(gz,Dz);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Dz(t){return"-"+t.toLowerCase()}const Rd={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Uz={};function Pz(t,e){const n=Uz,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Jx(t,r,o)}function Jx(t,e,n){if(Oz(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Av(t.children,e,n)}return Array.isArray(t)?Av(t,e,n):""}function Av(t,e,n){const r=[];let o=-1;for(;++o<t.length;)r[o]=Jx(t[o],e,n);return r.join("")}function Oz(t){return!!(t&&typeof t=="object")}const kv=document.createElement("i");function Yf(t){const e="&"+t+";";kv.innerHTML=e;const n=kv.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function zn(t,e,n,r){const o=t.length;let a=0,u;if(e<0?e=-e>o?0:o+e:e=e>o?o:e,n=n>0?n:0,r.length<1e4)u=Array.from(r),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);a<r.length;)u=r.slice(a,a+1e4),u.unshift(e,0),t.splice(...u),a+=1e4,e+=1e4}function yn(t,e){return t.length>0?(zn(t,t.length,0,e),t):e}const Nv={}.hasOwnProperty;function Lz(t){const e={};let n=-1;for(;++n<t.length;)qz(e,t[n]);return e}function qz(t,e){let n;for(n in e){const o=(Nv.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let u;if(a)for(u in a){Nv.call(o,u)||(o[u]=[]);const d=a[u];Bz(o[u],Array.isArray(d)?d:d?[d]:[])}}}function Bz(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);zn(t,0,0,r)}function Yx(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function _s(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Mn=Li(/[A-Za-z]/),on=Li(/[\dA-Za-z]/),Hz=Li(/[#-'*+\--9=?A-Z^-~]/);function pf(t){return t!==null&&(t<32||t===127)}const mf=Li(/\d/),Vz=Li(/[\dA-Fa-f]/),Gz=Li(/[!-/:-@[-`{-~]/);function Se(t){return t!==null&&t<-2}function Gt(t){return t!==null&&(t<0||t===32)}function He(t){return t===-2||t===-1||t===32}const Fz=Li(new RegExp("\\p{P}|\\p{S}","u")),$z=Li(/\s/);function Li(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function As(t){const e=[];let n=-1,r=0,o=0;for(;++n<t.length;){const a=t.charCodeAt(n);let u="";if(a===37&&on(t.charCodeAt(n+1))&&on(t.charCodeAt(n+2)))o=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(u=String.fromCharCode(a));else if(a>55295&&a<57344){const d=t.charCodeAt(n+1);a<56320&&d>56319&&d<57344?(u=String.fromCharCode(a,d),o=1):u=""}else u=String.fromCharCode(a);u&&(e.push(t.slice(r,n),encodeURIComponent(u)),r=n+o+1,u=""),o&&(n+=o,o=0)}return e.join("")+t.slice(r)}function Ze(t,e,n,r){const o=r?r-1:Number.POSITIVE_INFINITY;let a=0;return u;function u(p){return He(p)?(t.enter(n),d(p)):e(p)}function d(p){return He(p)&&a++<o?(t.consume(p),d):(t.exit(n),e(p))}}const jz={tokenize:Jz};function Jz(t){const e=t.attempt(this.parser.constructs.contentInitial,r,o);let n;return e;function r(d){if(d===null){t.consume(d);return}return t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),Ze(t,e,"linePrefix")}function o(d){return t.enter("paragraph"),a(d)}function a(d){const p=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=p),n=p,u(d)}function u(d){if(d===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(d);return}return Se(d)?(t.consume(d),t.exit("chunkText"),a):(t.consume(d),u)}}const Yz={tokenize:Kz},Rv={tokenize:Xz};function Kz(t){const e=this,n=[];let r=0,o,a,u;return d;function d(N){if(r<n.length){const F=n[r];return e.containerState=F[1],t.attempt(F[0].continuation,p,f)(N)}return f(N)}function p(N){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,o&&P();const F=e.events.length;let W=F,U;for(;W--;)if(e.events[W][0]==="exit"&&e.events[W][1].type==="chunkFlow"){U=e.events[W][1].end;break}k(r);let $=F;for(;$<e.events.length;)e.events[$][1].end={...U},$++;return zn(e.events,W+1,0,e.events.slice(F)),e.events.length=$,f(N)}return d(N)}function f(N){if(r===n.length){if(!o)return x(N);if(o.currentConstruct&&o.currentConstruct.concrete)return T(N);e.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Rv,y,_)(N)}function y(N){return o&&P(),k(r),x(N)}function _(N){return e.parser.lazy[e.now().line]=r!==n.length,u=e.now().offset,T(N)}function x(N){return e.containerState={},t.attempt(Rv,b,T)(N)}function b(N){return r++,n.push([e.currentConstruct,e.containerState]),x(N)}function T(N){if(N===null){o&&P(),k(0),t.consume(N);return}return o=o||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:a}),A(N)}function A(N){if(N===null){R(t.exit("chunkFlow"),!0),k(0),t.consume(N);return}return Se(N)?(t.consume(N),R(t.exit("chunkFlow")),r=0,e.interrupt=void 0,d):(t.consume(N),A)}function R(N,F){const W=e.sliceStream(N);if(F&&W.push(null),N.previous=a,a&&(a.next=N),a=N,o.defineSkip(N.start),o.write(W),e.parser.lazy[N.start.line]){let U=o.events.length;for(;U--;)if(o.events[U][1].start.offset<u&&(!o.events[U][1].end||o.events[U][1].end.offset>u))return;const $=e.events.length;let se=$,Z,ae;for(;se--;)if(e.events[se][0]==="exit"&&e.events[se][1].type==="chunkFlow"){if(Z){ae=e.events[se][1].end;break}Z=!0}for(k(r),U=$;U<e.events.length;)e.events[U][1].end={...ae},U++;zn(e.events,se+1,0,e.events.slice($)),e.events.length=U}}function k(N){let F=n.length;for(;F-- >N;){const W=n[F];e.containerState=W[1],W[0].exit.call(e,t)}n.length=N}function P(){o.write([null]),a=void 0,o=void 0,e.containerState._closeFlow=void 0}}function Xz(t,e,n){return Ze(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Iv(t){if(t===null||Gt(t)||$z(t))return 1;if(Fz(t))return 2}function Kf(t,e,n){const r=[];let o=-1;for(;++o<t.length;){const a=t[o].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const gf={name:"attention",resolveAll:Qz,tokenize:Wz};function Qz(t,e){let n=-1,r,o,a,u,d,p,f,y;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;p=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const _={...t[r][1].end},x={...t[n][1].start};Mv(_,-p),Mv(x,p),u={type:p>1?"strongSequence":"emphasisSequence",start:_,end:{...t[r][1].end}},d={type:p>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:x},a={type:p>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},o={type:p>1?"strong":"emphasis",start:{...u.start},end:{...d.end}},t[r][1].end={...u.start},t[n][1].start={...d.end},f=[],t[r][1].end.offset-t[r][1].start.offset&&(f=yn(f,[["enter",t[r][1],e],["exit",t[r][1],e]])),f=yn(f,[["enter",o,e],["enter",u,e],["exit",u,e],["enter",a,e]]),f=yn(f,Kf(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),f=yn(f,[["exit",a,e],["enter",d,e],["exit",d,e],["exit",o,e]]),t[n][1].end.offset-t[n][1].start.offset?(y=2,f=yn(f,[["enter",t[n][1],e],["exit",t[n][1],e]])):y=0,zn(t,r-1,n-r+3,f),n=r+f.length-y-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Wz(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=Iv(r);let a;return u;function u(p){return a=p,t.enter("attentionSequence"),d(p)}function d(p){if(p===a)return t.consume(p),d;const f=t.exit("attentionSequence"),y=Iv(p),_=!y||y===2&&o||n.includes(p),x=!o||o===2&&y||n.includes(r);return f._open=!!(a===42?_:_&&(o||!x)),f._close=!!(a===42?x:x&&(y||!_)),e(p)}}function Mv(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Zz={name:"autolink",tokenize:eD};function eD(t,e,n){let r=0;return o;function o(b){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(b){return Mn(b)?(t.consume(b),u):b===64?n(b):f(b)}function u(b){return b===43||b===45||b===46||on(b)?(r=1,d(b)):f(b)}function d(b){return b===58?(t.consume(b),r=0,p):(b===43||b===45||b===46||on(b))&&r++<32?(t.consume(b),d):(r=0,f(b))}function p(b){return b===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),e):b===null||b===32||b===60||pf(b)?n(b):(t.consume(b),p)}function f(b){return b===64?(t.consume(b),y):Hz(b)?(t.consume(b),f):n(b)}function y(b){return on(b)?_(b):n(b)}function _(b){return b===46?(t.consume(b),r=0,y):b===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),e):x(b)}function x(b){if((b===45||on(b))&&r++<63){const T=b===45?x:_;return t.consume(b),T}return n(b)}}const Kl={partial:!0,tokenize:tD};function tD(t,e,n){return r;function r(a){return He(a)?Ze(t,o,"linePrefix")(a):o(a)}function o(a){return a===null||Se(a)?e(a):n(a)}}const Kx={continuation:{tokenize:iD},exit:rD,name:"blockQuote",tokenize:nD};function nD(t,e,n){const r=this;return o;function o(u){if(u===62){const d=r.containerState;return d.open||(t.enter("blockQuote",{_container:!0}),d.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),a}return n(u)}function a(u){return He(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function iD(t,e,n){const r=this;return o;function o(u){return He(u)?Ze(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):a(u)}function a(u){return t.attempt(Kx,e,n)(u)}}function rD(t){t.exit("blockQuote")}const Xx={name:"characterEscape",tokenize:sD};function sD(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),o}function o(a){return Gz(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const Qx={name:"characterReference",tokenize:oD};function oD(t,e,n){const r=this;let o=0,a,u;return d;function d(_){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(_),t.exit("characterReferenceMarker"),p}function p(_){return _===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(_),t.exit("characterReferenceMarkerNumeric"),f):(t.enter("characterReferenceValue"),a=31,u=on,y(_))}function f(_){return _===88||_===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(_),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,u=Vz,y):(t.enter("characterReferenceValue"),a=7,u=mf,y(_))}function y(_){if(_===59&&o){const x=t.exit("characterReferenceValue");return u===on&&!Yf(r.sliceSerialize(x))?n(_):(t.enter("characterReferenceMarker"),t.consume(_),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(_)&&o++<a?(t.consume(_),y):n(_)}}const zv={partial:!0,tokenize:lD},Dv={concrete:!0,name:"codeFenced",tokenize:aD};function aD(t,e,n){const r=this,o={partial:!0,tokenize:W};let a=0,u=0,d;return p;function p(U){return f(U)}function f(U){const $=r.events[r.events.length-1];return a=$&&$[1].type==="linePrefix"?$[2].sliceSerialize($[1],!0).length:0,d=U,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),y(U)}function y(U){return U===d?(u++,t.consume(U),y):u<3?n(U):(t.exit("codeFencedFenceSequence"),He(U)?Ze(t,_,"whitespace")(U):_(U))}function _(U){return U===null||Se(U)?(t.exit("codeFencedFence"),r.interrupt?e(U):t.check(zv,A,F)(U)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),x(U))}function x(U){return U===null||Se(U)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),_(U)):He(U)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ze(t,b,"whitespace")(U)):U===96&&U===d?n(U):(t.consume(U),x)}function b(U){return U===null||Se(U)?_(U):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),T(U))}function T(U){return U===null||Se(U)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),_(U)):U===96&&U===d?n(U):(t.consume(U),T)}function A(U){return t.attempt(o,F,R)(U)}function R(U){return t.enter("lineEnding"),t.consume(U),t.exit("lineEnding"),k}function k(U){return a>0&&He(U)?Ze(t,P,"linePrefix",a+1)(U):P(U)}function P(U){return U===null||Se(U)?t.check(zv,A,F)(U):(t.enter("codeFlowValue"),N(U))}function N(U){return U===null||Se(U)?(t.exit("codeFlowValue"),P(U)):(t.consume(U),N)}function F(U){return t.exit("codeFenced"),e(U)}function W(U,$,se){let Z=0;return ae;function ae(ie){return U.enter("lineEnding"),U.consume(ie),U.exit("lineEnding"),ne}function ne(ie){return U.enter("codeFencedFence"),He(ie)?Ze(U,Q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ie):Q(ie)}function Q(ie){return ie===d?(U.enter("codeFencedFenceSequence"),me(ie)):se(ie)}function me(ie){return ie===d?(Z++,U.consume(ie),me):Z>=u?(U.exit("codeFencedFenceSequence"),He(ie)?Ze(U,ce,"whitespace")(ie):ce(ie)):se(ie)}function ce(ie){return ie===null||Se(ie)?(U.exit("codeFencedFence"),$(ie)):se(ie)}}}function lD(t,e,n){const r=this;return o;function o(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),a)}function a(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}const Id={name:"codeIndented",tokenize:cD},uD={partial:!0,tokenize:dD};function cD(t,e,n){const r=this;return o;function o(f){return t.enter("codeIndented"),Ze(t,a,"linePrefix",5)(f)}function a(f){const y=r.events[r.events.length-1];return y&&y[1].type==="linePrefix"&&y[2].sliceSerialize(y[1],!0).length>=4?u(f):n(f)}function u(f){return f===null?p(f):Se(f)?t.attempt(uD,u,p)(f):(t.enter("codeFlowValue"),d(f))}function d(f){return f===null||Se(f)?(t.exit("codeFlowValue"),u(f)):(t.consume(f),d)}function p(f){return t.exit("codeIndented"),e(f)}}function dD(t,e,n){const r=this;return o;function o(u){return r.parser.lazy[r.now().line]?n(u):Se(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o):Ze(t,a,"linePrefix",5)(u)}function a(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?e(u):Se(u)?o(u):n(u)}}const fD={name:"codeText",previous:pD,resolve:hD,tokenize:mD};function hD(t){let e=t.length-4,n=3,r,o;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)o===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(o=r):(r===e||t[r][1].type==="lineEnding")&&(t[o][1].type="codeTextData",r!==o+2&&(t[o][1].end=t[r-1][1].end,t.splice(o+2,r-o-2),e-=r-o-2,r=o+2),o=void 0);return t}function pD(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function mD(t,e,n){let r=0,o,a;return u;function u(_){return t.enter("codeText"),t.enter("codeTextSequence"),d(_)}function d(_){return _===96?(t.consume(_),r++,d):(t.exit("codeTextSequence"),p(_))}function p(_){return _===null?n(_):_===32?(t.enter("space"),t.consume(_),t.exit("space"),p):_===96?(a=t.enter("codeTextSequence"),o=0,y(_)):Se(_)?(t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),p):(t.enter("codeTextData"),f(_))}function f(_){return _===null||_===32||_===96||Se(_)?(t.exit("codeTextData"),p(_)):(t.consume(_),f)}function y(_){return _===96?(t.consume(_),o++,y):o===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(_)):(a.type="codeTextData",f(_))}}class gD{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const o=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return r&&Co(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Co(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Co(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Co(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Co(this.left,n.reverse())}}}function Co(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function Wx(t){const e={};let n=-1,r,o,a,u,d,p,f;const y=new gD(t);for(;++n<y.length;){for(;n in e;)n=e[n];if(r=y.get(n),n&&r[1].type==="chunkFlow"&&y.get(n-1)[1].type==="listItemPrefix"&&(p=r[1]._tokenizer.events,a=0,a<p.length&&p[a][1].type==="lineEndingBlank"&&(a+=2),a<p.length&&p[a][1].type==="content"))for(;++a<p.length&&p[a][1].type!=="content";)p[a][1].type==="chunkText"&&(p[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,yD(y,n)),n=e[n],f=!0);else if(r[1]._container){for(a=n,o=void 0;a--;)if(u=y.get(a),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(o&&(y.get(o)[1].type="lineEndingBlank"),u[1].type="lineEnding",o=a);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;o&&(r[1].end={...y.get(o)[1].start},d=y.slice(o,n),d.unshift(r),y.splice(o,n-o+1,d))}}return zn(t,0,Number.POSITIVE_INFINITY,y.slice(0)),!f}function yD(t,e){const n=t.get(e)[1],r=t.get(e)[2];let o=e-1;const a=[];let u=n._tokenizer;u||(u=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const d=u.events,p=[],f={};let y,_,x=-1,b=n,T=0,A=0;const R=[A];for(;b;){for(;t.get(++o)[1]!==b;);a.push(o),b._tokenizer||(y=r.sliceStream(b),b.next||y.push(null),_&&u.defineSkip(b.start),b._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(y),b._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),_=b,b=b.next}for(b=n;++x<d.length;)d[x][0]==="exit"&&d[x-1][0]==="enter"&&d[x][1].type===d[x-1][1].type&&d[x][1].start.line!==d[x][1].end.line&&(A=x+1,R.push(A),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(u.events=[],b?(b._tokenizer=void 0,b.previous=void 0):R.pop(),x=R.length;x--;){const k=d.slice(R[x],R[x+1]),P=a.pop();p.push([P,P+k.length-1]),t.splice(P,2,k)}for(p.reverse(),x=-1;++x<p.length;)f[T+p[x][0]]=T+p[x][1],T+=p[x][1]-p[x][0]-1;return f}const vD={resolve:xD,tokenize:bD},_D={partial:!0,tokenize:SD};function xD(t){return Wx(t),t}function bD(t,e){let n;return r;function r(d){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),o(d)}function o(d){return d===null?a(d):Se(d)?t.check(_D,u,a)(d):(t.consume(d),o)}function a(d){return t.exit("chunkContent"),t.exit("content"),e(d)}function u(d){return t.consume(d),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function SD(t,e,n){const r=this;return o;function o(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),Ze(t,a,"linePrefix")}function a(u){if(u===null||Se(u))return n(u);const d=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?e(u):t.interrupt(r.parser.constructs.flow,n,e)(u)}}function Zx(t,e,n,r,o,a,u,d,p){const f=p||Number.POSITIVE_INFINITY;let y=0;return _;function _(k){return k===60?(t.enter(r),t.enter(o),t.enter(a),t.consume(k),t.exit(a),x):k===null||k===32||k===41||pf(k)?n(k):(t.enter(r),t.enter(u),t.enter(d),t.enter("chunkString",{contentType:"string"}),A(k))}function x(k){return k===62?(t.enter(a),t.consume(k),t.exit(a),t.exit(o),t.exit(r),e):(t.enter(d),t.enter("chunkString",{contentType:"string"}),b(k))}function b(k){return k===62?(t.exit("chunkString"),t.exit(d),x(k)):k===null||k===60||Se(k)?n(k):(t.consume(k),k===92?T:b)}function T(k){return k===60||k===62||k===92?(t.consume(k),b):b(k)}function A(k){return!y&&(k===null||k===41||Gt(k))?(t.exit("chunkString"),t.exit(d),t.exit(u),t.exit(r),e(k)):y<f&&k===40?(t.consume(k),y++,A):k===41?(t.consume(k),y--,A):k===null||k===32||k===40||pf(k)?n(k):(t.consume(k),k===92?R:A)}function R(k){return k===40||k===41||k===92?(t.consume(k),A):A(k)}}function eb(t,e,n,r,o,a){const u=this;let d=0,p;return f;function f(b){return t.enter(r),t.enter(o),t.consume(b),t.exit(o),t.enter(a),y}function y(b){return d>999||b===null||b===91||b===93&&!p||b===94&&!d&&"_hiddenFootnoteSupport"in u.parser.constructs?n(b):b===93?(t.exit(a),t.enter(o),t.consume(b),t.exit(o),t.exit(r),e):Se(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),y):(t.enter("chunkString",{contentType:"string"}),_(b))}function _(b){return b===null||b===91||b===93||Se(b)||d++>999?(t.exit("chunkString"),y(b)):(t.consume(b),p||(p=!He(b)),b===92?x:_)}function x(b){return b===91||b===92||b===93?(t.consume(b),d++,_):_(b)}}function tb(t,e,n,r,o,a){let u;return d;function d(x){return x===34||x===39||x===40?(t.enter(r),t.enter(o),t.consume(x),t.exit(o),u=x===40?41:x,p):n(x)}function p(x){return x===u?(t.enter(o),t.consume(x),t.exit(o),t.exit(r),e):(t.enter(a),f(x))}function f(x){return x===u?(t.exit(a),p(u)):x===null?n(x):Se(x)?(t.enter("lineEnding"),t.consume(x),t.exit("lineEnding"),Ze(t,f,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),y(x))}function y(x){return x===u||x===null||Se(x)?(t.exit("chunkString"),f(x)):(t.consume(x),x===92?_:y)}function _(x){return x===u||x===92?(t.consume(x),y):y(x)}}function zo(t,e){let n;return r;function r(o){return Se(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),n=!0,r):He(o)?Ze(t,r,n?"linePrefix":"lineSuffix")(o):e(o)}}const wD={name:"definition",tokenize:TD},ED={partial:!0,tokenize:CD};function TD(t,e,n){const r=this;let o;return a;function a(b){return t.enter("definition"),u(b)}function u(b){return eb.call(r,t,d,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function d(b){return o=_s(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),b===58?(t.enter("definitionMarker"),t.consume(b),t.exit("definitionMarker"),p):n(b)}function p(b){return Gt(b)?zo(t,f)(b):f(b)}function f(b){return Zx(t,y,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function y(b){return t.attempt(ED,_,_)(b)}function _(b){return He(b)?Ze(t,x,"whitespace")(b):x(b)}function x(b){return b===null||Se(b)?(t.exit("definition"),r.parser.defined.push(o),e(b)):n(b)}}function CD(t,e,n){return r;function r(d){return Gt(d)?zo(t,o)(d):n(d)}function o(d){return tb(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(d)}function a(d){return He(d)?Ze(t,u,"whitespace")(d):u(d)}function u(d){return d===null||Se(d)?e(d):n(d)}}const AD={name:"hardBreakEscape",tokenize:kD};function kD(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),o}function o(a){return Se(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const ND={name:"headingAtx",resolve:RD,tokenize:ID};function RD(t,e){let n=t.length-2,r=3,o,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(o={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},zn(t,r,n-r+1,[["enter",o,e],["enter",a,e],["exit",a,e],["exit",o,e]])),t}function ID(t,e,n){let r=0;return o;function o(y){return t.enter("atxHeading"),a(y)}function a(y){return t.enter("atxHeadingSequence"),u(y)}function u(y){return y===35&&r++<6?(t.consume(y),u):y===null||Gt(y)?(t.exit("atxHeadingSequence"),d(y)):n(y)}function d(y){return y===35?(t.enter("atxHeadingSequence"),p(y)):y===null||Se(y)?(t.exit("atxHeading"),e(y)):He(y)?Ze(t,d,"whitespace")(y):(t.enter("atxHeadingText"),f(y))}function p(y){return y===35?(t.consume(y),p):(t.exit("atxHeadingSequence"),d(y))}function f(y){return y===null||y===35||Gt(y)?(t.exit("atxHeadingText"),d(y)):(t.consume(y),f)}}const MD=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Uv=["pre","script","style","textarea"],zD={concrete:!0,name:"htmlFlow",resolveTo:PD,tokenize:OD},DD={partial:!0,tokenize:qD},UD={partial:!0,tokenize:LD};function PD(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function OD(t,e,n){const r=this;let o,a,u,d,p;return f;function f(C){return y(C)}function y(C){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(C),_}function _(C){return C===33?(t.consume(C),x):C===47?(t.consume(C),a=!0,A):C===63?(t.consume(C),o=3,r.interrupt?e:I):Mn(C)?(t.consume(C),u=String.fromCharCode(C),R):n(C)}function x(C){return C===45?(t.consume(C),o=2,b):C===91?(t.consume(C),o=5,d=0,T):Mn(C)?(t.consume(C),o=4,r.interrupt?e:I):n(C)}function b(C){return C===45?(t.consume(C),r.interrupt?e:I):n(C)}function T(C){const Y="CDATA[";return C===Y.charCodeAt(d++)?(t.consume(C),d===Y.length?r.interrupt?e:Q:T):n(C)}function A(C){return Mn(C)?(t.consume(C),u=String.fromCharCode(C),R):n(C)}function R(C){if(C===null||C===47||C===62||Gt(C)){const Y=C===47,de=u.toLowerCase();return!Y&&!a&&Uv.includes(de)?(o=1,r.interrupt?e(C):Q(C)):MD.includes(u.toLowerCase())?(o=6,Y?(t.consume(C),k):r.interrupt?e(C):Q(C)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(C):a?P(C):N(C))}return C===45||on(C)?(t.consume(C),u+=String.fromCharCode(C),R):n(C)}function k(C){return C===62?(t.consume(C),r.interrupt?e:Q):n(C)}function P(C){return He(C)?(t.consume(C),P):ae(C)}function N(C){return C===47?(t.consume(C),ae):C===58||C===95||Mn(C)?(t.consume(C),F):He(C)?(t.consume(C),N):ae(C)}function F(C){return C===45||C===46||C===58||C===95||on(C)?(t.consume(C),F):W(C)}function W(C){return C===61?(t.consume(C),U):He(C)?(t.consume(C),W):N(C)}function U(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(t.consume(C),p=C,$):He(C)?(t.consume(C),U):se(C)}function $(C){return C===p?(t.consume(C),p=null,Z):C===null||Se(C)?n(C):(t.consume(C),$)}function se(C){return C===null||C===34||C===39||C===47||C===60||C===61||C===62||C===96||Gt(C)?W(C):(t.consume(C),se)}function Z(C){return C===47||C===62||He(C)?N(C):n(C)}function ae(C){return C===62?(t.consume(C),ne):n(C)}function ne(C){return C===null||Se(C)?Q(C):He(C)?(t.consume(C),ne):n(C)}function Q(C){return C===45&&o===2?(t.consume(C),L):C===60&&o===1?(t.consume(C),ee):C===62&&o===4?(t.consume(C),z):C===63&&o===3?(t.consume(C),I):C===93&&o===5?(t.consume(C),Re):Se(C)&&(o===6||o===7)?(t.exit("htmlFlowData"),t.check(DD,q,me)(C)):C===null||Se(C)?(t.exit("htmlFlowData"),me(C)):(t.consume(C),Q)}function me(C){return t.check(UD,ce,q)(C)}function ce(C){return t.enter("lineEnding"),t.consume(C),t.exit("lineEnding"),ie}function ie(C){return C===null||Se(C)?me(C):(t.enter("htmlFlowData"),Q(C))}function L(C){return C===45?(t.consume(C),I):Q(C)}function ee(C){return C===47?(t.consume(C),u="",fe):Q(C)}function fe(C){if(C===62){const Y=u.toLowerCase();return Uv.includes(Y)?(t.consume(C),z):Q(C)}return Mn(C)&&u.length<8?(t.consume(C),u+=String.fromCharCode(C),fe):Q(C)}function Re(C){return C===93?(t.consume(C),I):Q(C)}function I(C){return C===62?(t.consume(C),z):C===45&&o===2?(t.consume(C),I):Q(C)}function z(C){return C===null||Se(C)?(t.exit("htmlFlowData"),q(C)):(t.consume(C),z)}function q(C){return t.exit("htmlFlow"),e(C)}}function LD(t,e,n){const r=this;return o;function o(u){return Se(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),a):n(u)}function a(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}function qD(t,e,n){return r;function r(o){return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),t.attempt(Kl,e,n)}}const BD={name:"htmlText",tokenize:HD};function HD(t,e,n){const r=this;let o,a,u;return d;function d(I){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(I),p}function p(I){return I===33?(t.consume(I),f):I===47?(t.consume(I),W):I===63?(t.consume(I),N):Mn(I)?(t.consume(I),se):n(I)}function f(I){return I===45?(t.consume(I),y):I===91?(t.consume(I),a=0,T):Mn(I)?(t.consume(I),P):n(I)}function y(I){return I===45?(t.consume(I),b):n(I)}function _(I){return I===null?n(I):I===45?(t.consume(I),x):Se(I)?(u=_,ee(I)):(t.consume(I),_)}function x(I){return I===45?(t.consume(I),b):_(I)}function b(I){return I===62?L(I):I===45?x(I):_(I)}function T(I){const z="CDATA[";return I===z.charCodeAt(a++)?(t.consume(I),a===z.length?A:T):n(I)}function A(I){return I===null?n(I):I===93?(t.consume(I),R):Se(I)?(u=A,ee(I)):(t.consume(I),A)}function R(I){return I===93?(t.consume(I),k):A(I)}function k(I){return I===62?L(I):I===93?(t.consume(I),k):A(I)}function P(I){return I===null||I===62?L(I):Se(I)?(u=P,ee(I)):(t.consume(I),P)}function N(I){return I===null?n(I):I===63?(t.consume(I),F):Se(I)?(u=N,ee(I)):(t.consume(I),N)}function F(I){return I===62?L(I):N(I)}function W(I){return Mn(I)?(t.consume(I),U):n(I)}function U(I){return I===45||on(I)?(t.consume(I),U):$(I)}function $(I){return Se(I)?(u=$,ee(I)):He(I)?(t.consume(I),$):L(I)}function se(I){return I===45||on(I)?(t.consume(I),se):I===47||I===62||Gt(I)?Z(I):n(I)}function Z(I){return I===47?(t.consume(I),L):I===58||I===95||Mn(I)?(t.consume(I),ae):Se(I)?(u=Z,ee(I)):He(I)?(t.consume(I),Z):L(I)}function ae(I){return I===45||I===46||I===58||I===95||on(I)?(t.consume(I),ae):ne(I)}function ne(I){return I===61?(t.consume(I),Q):Se(I)?(u=ne,ee(I)):He(I)?(t.consume(I),ne):Z(I)}function Q(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(t.consume(I),o=I,me):Se(I)?(u=Q,ee(I)):He(I)?(t.consume(I),Q):(t.consume(I),ce)}function me(I){return I===o?(t.consume(I),o=void 0,ie):I===null?n(I):Se(I)?(u=me,ee(I)):(t.consume(I),me)}function ce(I){return I===null||I===34||I===39||I===60||I===61||I===96?n(I):I===47||I===62||Gt(I)?Z(I):(t.consume(I),ce)}function ie(I){return I===47||I===62||Gt(I)?Z(I):n(I)}function L(I){return I===62?(t.consume(I),t.exit("htmlTextData"),t.exit("htmlText"),e):n(I)}function ee(I){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(I),t.exit("lineEnding"),fe}function fe(I){return He(I)?Ze(t,Re,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):Re(I)}function Re(I){return t.enter("htmlTextData"),u(I)}}const Xf={name:"labelEnd",resolveAll:$D,resolveTo:jD,tokenize:JD},VD={tokenize:YD},GD={tokenize:KD},FD={tokenize:XD};function $D(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const o=r.type==="labelImage"?4:2;r.type="data",e+=o}}return t.length!==n.length&&zn(t,0,t.length,n),t}function jD(t,e){let n=t.length,r=0,o,a,u,d;for(;n--;)if(o=t[n][1],a){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;t[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(a=n,o.type!=="labelLink")){r=2;break}}else o.type==="labelEnd"&&(u=n);const p={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},f={type:"label",start:{...t[a][1].start},end:{...t[u][1].end}},y={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[u-2][1].start}};return d=[["enter",p,e],["enter",f,e]],d=yn(d,t.slice(a+1,a+r+3)),d=yn(d,[["enter",y,e]]),d=yn(d,Kf(e.parser.constructs.insideSpan.null,t.slice(a+r+4,u-3),e)),d=yn(d,[["exit",y,e],t[u-2],t[u-1],["exit",f,e]]),d=yn(d,t.slice(u+1)),d=yn(d,[["exit",p,e]]),zn(t,a,t.length,d),t}function JD(t,e,n){const r=this;let o=r.events.length,a,u;for(;o--;)if((r.events[o][1].type==="labelImage"||r.events[o][1].type==="labelLink")&&!r.events[o][1]._balanced){a=r.events[o][1];break}return d;function d(x){return a?a._inactive?_(x):(u=r.parser.defined.includes(_s(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(x),t.exit("labelMarker"),t.exit("labelEnd"),p):n(x)}function p(x){return x===40?t.attempt(VD,y,u?y:_)(x):x===91?t.attempt(GD,y,u?f:_)(x):u?y(x):_(x)}function f(x){return t.attempt(FD,y,_)(x)}function y(x){return e(x)}function _(x){return a._balanced=!0,n(x)}}function YD(t,e,n){return r;function r(_){return t.enter("resource"),t.enter("resourceMarker"),t.consume(_),t.exit("resourceMarker"),o}function o(_){return Gt(_)?zo(t,a)(_):a(_)}function a(_){return _===41?y(_):Zx(t,u,d,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(_)}function u(_){return Gt(_)?zo(t,p)(_):y(_)}function d(_){return n(_)}function p(_){return _===34||_===39||_===40?tb(t,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(_):y(_)}function f(_){return Gt(_)?zo(t,y)(_):y(_)}function y(_){return _===41?(t.enter("resourceMarker"),t.consume(_),t.exit("resourceMarker"),t.exit("resource"),e):n(_)}}function KD(t,e,n){const r=this;return o;function o(d){return eb.call(r,t,a,u,"reference","referenceMarker","referenceString")(d)}function a(d){return r.parser.defined.includes(_s(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(d):n(d)}function u(d){return n(d)}}function XD(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),o}function o(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const QD={name:"labelStartImage",resolveAll:Xf.resolveAll,tokenize:WD};function WD(t,e,n){const r=this;return o;function o(d){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(d),t.exit("labelImageMarker"),a}function a(d){return d===91?(t.enter("labelMarker"),t.consume(d),t.exit("labelMarker"),t.exit("labelImage"),u):n(d)}function u(d){return d===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(d):e(d)}}const ZD={name:"labelStartLink",resolveAll:Xf.resolveAll,tokenize:eU};function eU(t,e,n){const r=this;return o;function o(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),a}function a(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}const Md={name:"lineEnding",tokenize:tU};function tU(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Ze(t,e,"linePrefix")}}const Tl={name:"thematicBreak",tokenize:nU};function nU(t,e,n){let r=0,o;return a;function a(f){return t.enter("thematicBreak"),u(f)}function u(f){return o=f,d(f)}function d(f){return f===o?(t.enter("thematicBreakSequence"),p(f)):r>=3&&(f===null||Se(f))?(t.exit("thematicBreak"),e(f)):n(f)}function p(f){return f===o?(t.consume(f),r++,p):(t.exit("thematicBreakSequence"),He(f)?Ze(t,d,"whitespace")(f):d(f))}}const Vt={continuation:{tokenize:oU},exit:lU,name:"list",tokenize:sU},iU={partial:!0,tokenize:uU},rU={partial:!0,tokenize:aU};function sU(t,e,n){const r=this,o=r.events[r.events.length-1];let a=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,u=0;return d;function d(b){const T=r.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(T==="listUnordered"?!r.containerState.marker||b===r.containerState.marker:mf(b)){if(r.containerState.type||(r.containerState.type=T,t.enter(T,{_container:!0})),T==="listUnordered")return t.enter("listItemPrefix"),b===42||b===45?t.check(Tl,n,f)(b):f(b);if(!r.interrupt||b===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),p(b)}return n(b)}function p(b){return mf(b)&&++u<10?(t.consume(b),p):(!r.interrupt||u<2)&&(r.containerState.marker?b===r.containerState.marker:b===41||b===46)?(t.exit("listItemValue"),f(b)):n(b)}function f(b){return t.enter("listItemMarker"),t.consume(b),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||b,t.check(Kl,r.interrupt?n:y,t.attempt(iU,x,_))}function y(b){return r.containerState.initialBlankLine=!0,a++,x(b)}function _(b){return He(b)?(t.enter("listItemPrefixWhitespace"),t.consume(b),t.exit("listItemPrefixWhitespace"),x):n(b)}function x(b){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(b)}}function oU(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Kl,o,a);function o(d){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ze(t,e,"listItemIndent",r.containerState.size+1)(d)}function a(d){return r.containerState.furtherBlankLines||!He(d)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,u(d)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(rU,e,u)(d))}function u(d){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ze(t,t.attempt(Vt,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d)}}function aU(t,e,n){const r=this;return Ze(t,o,"listItemIndent",r.containerState.size+1);function o(a){const u=r.events[r.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===r.containerState.size?e(a):n(a)}}function lU(t){t.exit(this.containerState.type)}function uU(t,e,n){const r=this;return Ze(t,o,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(a){const u=r.events[r.events.length-1];return!He(a)&&u&&u[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const Pv={name:"setextUnderline",resolveTo:cU,tokenize:dU};function cU(t,e){let n=t.length,r,o,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(o=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const u={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[o][1].type="setextHeadingText",a?(t.splice(o,0,["enter",u,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=u,t.push(["exit",u,e]),t}function dU(t,e,n){const r=this;let o;return a;function a(f){let y=r.events.length,_;for(;y--;)if(r.events[y][1].type!=="lineEnding"&&r.events[y][1].type!=="linePrefix"&&r.events[y][1].type!=="content"){_=r.events[y][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||_)?(t.enter("setextHeadingLine"),o=f,u(f)):n(f)}function u(f){return t.enter("setextHeadingLineSequence"),d(f)}function d(f){return f===o?(t.consume(f),d):(t.exit("setextHeadingLineSequence"),He(f)?Ze(t,p,"lineSuffix")(f):p(f))}function p(f){return f===null||Se(f)?(t.exit("setextHeadingLine"),e(f)):n(f)}}const fU={tokenize:hU};function hU(t){const e=this,n=t.attempt(Kl,r,t.attempt(this.parser.constructs.flowInitial,o,Ze(t,t.attempt(this.parser.constructs.flow,o,t.attempt(vD,o)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function o(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const pU={resolveAll:ib()},mU=nb("string"),gU=nb("text");function nb(t){return{resolveAll:ib(t==="text"?yU:void 0),tokenize:e};function e(n){const r=this,o=this.parser.constructs[t],a=n.attempt(o,u,d);return u;function u(y){return f(y)?a(y):d(y)}function d(y){if(y===null){n.consume(y);return}return n.enter("data"),n.consume(y),p}function p(y){return f(y)?(n.exit("data"),a(y)):(n.consume(y),p)}function f(y){if(y===null)return!0;const _=o[y];let x=-1;if(_)for(;++x<_.length;){const b=_[x];if(!b.previous||b.previous.call(r,r.previous))return!0}return!1}}}function ib(t){return e;function e(n,r){let o=-1,a;for(;++o<=n.length;)a===void 0?n[o]&&n[o][1].type==="data"&&(a=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==a+2&&(n[a][1].end=n[o-1][1].end,n.splice(a+2,o-a-2),o=a+2),a=void 0);return t?t(n,r):n}}function yU(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],o=e.sliceStream(r);let a=o.length,u=-1,d=0,p;for(;a--;){const f=o[a];if(typeof f=="string"){for(u=f.length;f.charCodeAt(u-1)===32;)d++,u--;if(u)break;u=-1}else if(f===-2)p=!0,d++;else if(f!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(d=0),d){const f={type:n===t.length||p||d<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?u:r.start._bufferIndex+u,_index:r.start._index+a,line:r.end.line,column:r.end.column-d,offset:r.end.offset-d},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(t.splice(n,0,["enter",f,e],["exit",f,e]),n+=2)}n++}return t}const vU={42:Vt,43:Vt,45:Vt,48:Vt,49:Vt,50:Vt,51:Vt,52:Vt,53:Vt,54:Vt,55:Vt,56:Vt,57:Vt,62:Kx},_U={91:wD},xU={[-2]:Id,[-1]:Id,32:Id},bU={35:ND,42:Tl,45:[Pv,Tl],60:zD,61:Pv,95:Tl,96:Dv,126:Dv},SU={38:Qx,92:Xx},wU={[-5]:Md,[-4]:Md,[-3]:Md,33:QD,38:Qx,42:gf,60:[Zz,BD],91:ZD,92:[AD,Xx],93:Xf,95:gf,96:fD},EU={null:[gf,pU]},TU={null:[42,95]},CU={null:[]},AU=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:TU,contentInitial:_U,disable:CU,document:vU,flow:bU,flowInitial:xU,insideSpan:EU,string:SU,text:wU},Symbol.toStringTag,{value:"Module"}));function kU(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},a=[];let u=[],d=[];const p={attempt:$(W),check:$(U),consume:P,enter:N,exit:F,interrupt:$(U,{interrupt:!0})},f={code:null,containerState:{},defineSkip:A,events:[],now:T,parser:t,previous:null,sliceSerialize:x,sliceStream:b,write:_};let y=e.tokenize.call(f,p);return e.resolveAll&&a.push(e),f;function _(ne){return u=yn(u,ne),R(),u[u.length-1]!==null?[]:(se(e,0),f.events=Kf(a,f.events,f),f.events)}function x(ne,Q){return RU(b(ne),Q)}function b(ne){return NU(u,ne)}function T(){const{_bufferIndex:ne,_index:Q,line:me,column:ce,offset:ie}=r;return{_bufferIndex:ne,_index:Q,line:me,column:ce,offset:ie}}function A(ne){o[ne.line]=ne.column,ae()}function R(){let ne;for(;r._index<u.length;){const Q=u[r._index];if(typeof Q=="string")for(ne=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===ne&&r._bufferIndex<Q.length;)k(Q.charCodeAt(r._bufferIndex));else k(Q)}}function k(ne){y=y(ne)}function P(ne){Se(ne)?(r.line++,r.column=1,r.offset+=ne===-3?2:1,ae()):ne!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===u[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=ne}function N(ne,Q){const me=Q||{};return me.type=ne,me.start=T(),f.events.push(["enter",me,f]),d.push(me),me}function F(ne){const Q=d.pop();return Q.end=T(),f.events.push(["exit",Q,f]),Q}function W(ne,Q){se(ne,Q.from)}function U(ne,Q){Q.restore()}function $(ne,Q){return me;function me(ce,ie,L){let ee,fe,Re,I;return Array.isArray(ce)?q(ce):"tokenize"in ce?q([ce]):z(ce);function z(he){return we;function we(Ye){const Ae=Ye!==null&&he[Ye],$t=Ye!==null&&he.null,jt=[...Array.isArray(Ae)?Ae:Ae?[Ae]:[],...Array.isArray($t)?$t:$t?[$t]:[]];return q(jt)(Ye)}}function q(he){return ee=he,fe=0,he.length===0?L:C(he[fe])}function C(he){return we;function we(Ye){return I=Z(),Re=he,he.partial||(f.currentConstruct=he),he.name&&f.parser.constructs.disable.null.includes(he.name)?de():he.tokenize.call(Q?Object.assign(Object.create(f),Q):f,p,Y,de)(Ye)}}function Y(he){return ne(Re,I),ie}function de(he){return I.restore(),++fe<ee.length?C(ee[fe]):L}}}function se(ne,Q){ne.resolveAll&&!a.includes(ne)&&a.push(ne),ne.resolve&&zn(f.events,Q,f.events.length-Q,ne.resolve(f.events.slice(Q),f)),ne.resolveTo&&(f.events=ne.resolveTo(f.events,f))}function Z(){const ne=T(),Q=f.previous,me=f.currentConstruct,ce=f.events.length,ie=Array.from(d);return{from:ce,restore:L};function L(){r=ne,f.previous=Q,f.currentConstruct=me,f.events.length=ce,d=ie,ae()}}function ae(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}function NU(t,e){const n=e.start._index,r=e.start._bufferIndex,o=e.end._index,a=e.end._bufferIndex;let u;if(n===o)u=[t[n].slice(r,a)];else{if(u=t.slice(n,o),r>-1){const d=u[0];typeof d=="string"?u[0]=d.slice(r):u.shift()}a>0&&u.push(t[o].slice(0,a))}return u}function RU(t,e){let n=-1;const r=[];let o;for(;++n<t.length;){const a=t[n];let u;if(typeof a=="string")u=a;else switch(a){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&o)continue;u=" ";break}default:u=String.fromCharCode(a)}o=a===-2,r.push(u)}return r.join("")}function IU(t){const r={constructs:Lz([AU,...(t||{}).extensions||[]]),content:o(jz),defined:[],document:o(Yz),flow:o(fU),lazy:{},string:o(mU),text:o(gU)};return r;function o(a){return u;function u(d){return kU(r,a,d)}}}function MU(t){for(;!Wx(t););return t}const Ov=/[\0\t\n\r]/g;function zU(){let t=1,e="",n=!0,r;return o;function o(a,u,d){const p=[];let f,y,_,x,b;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(u||void 0).decode(a)),_=0,e="",n&&(a.charCodeAt(0)===65279&&_++,n=void 0);_<a.length;){if(Ov.lastIndex=_,f=Ov.exec(a),x=f&&f.index!==void 0?f.index:a.length,b=a.charCodeAt(x),!f){e=a.slice(_);break}if(b===10&&_===x&&r)p.push(-3),r=void 0;else switch(r&&(p.push(-5),r=void 0),_<x&&(p.push(a.slice(_,x)),t+=x-_),b){case 0:{p.push(65533),t++;break}case 9:{for(y=Math.ceil(t/4)*4,p.push(-2);t++<y;)p.push(-1);break}case 10:{p.push(-4),t=1;break}default:r=!0,t=1}_=x+1}return d&&(r&&p.push(-5),e&&p.push(e),p.push(null)),p}}const DU=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function UU(t){return t.replace(DU,PU)}function PU(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),a=o===120||o===88;return Yx(n.slice(a?2:1),a?16:10)}return Yf(n)||t}const rb={}.hasOwnProperty;function OU(t,e,n){return typeof e!="string"&&(n=e,e=void 0),LU(n)(MU(IU(n).document().write(zU()(t,e,!0))))}function LU(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(mr),autolinkProtocol:Z,autolinkEmail:Z,atxHeading:a(hr),blockQuote:a($t),characterEscape:Z,characterReference:Z,codeFenced:a(jt),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:a(jt,u),codeText:a(Dn,u),codeTextData:Z,data:Z,codeFlowValue:Z,definition:a(fr),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:a(Un),hardBreakEscape:a(pr),hardBreakTrailing:a(pr),htmlFlow:a($o,u),htmlFlowData:Z,htmlText:a($o,u),htmlTextData:Z,image:a(jo),label:u,link:a(mr),listItem:a(ks),listItemValue:x,listOrdered:a(gr,_),listUnordered:a(gr),paragraph:a(Wl),reference:C,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:a(hr),strong:a(Zl),thematicBreak:a(eu)},exit:{atxHeading:p(),atxHeadingSequence:W,autolink:p(),autolinkEmail:Ae,autolinkProtocol:Ye,blockQuote:p(),characterEscapeValue:ae,characterReferenceMarkerHexadecimal:de,characterReferenceMarkerNumeric:de,characterReferenceValue:he,characterReference:we,codeFenced:p(R),codeFencedFence:A,codeFencedFenceInfo:b,codeFencedFenceMeta:T,codeFlowValue:ae,codeIndented:p(k),codeText:p(ie),codeTextData:ae,data:ae,definition:p(),definitionDestinationString:F,definitionLabelString:P,definitionTitleString:N,emphasis:p(),hardBreakEscape:p(Q),hardBreakTrailing:p(Q),htmlFlow:p(me),htmlFlowData:ae,htmlText:p(ce),htmlTextData:ae,image:p(ee),label:Re,labelText:fe,lineEnding:ne,link:p(L),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:Y,resourceDestinationString:I,resourceTitleString:z,resource:q,setextHeading:p(se),setextHeadingLineSequence:$,setextHeadingText:U,strong:p(),thematicBreak:p()}};sb(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(J){let re={type:"root",children:[]};const be={stack:[re],tokenStack:[],config:e,enter:d,exit:f,buffer:u,resume:y,data:n},Ie=[];let Ve=-1;for(;++Ve<J.length;)if(J[Ve][1].type==="listOrdered"||J[Ve][1].type==="listUnordered")if(J[Ve][0]==="enter")Ie.push(Ve);else{const Jt=Ie.pop();Ve=o(J,Jt,Ve)}for(Ve=-1;++Ve<J.length;){const Jt=e[J[Ve][0]];rb.call(Jt,J[Ve][1].type)&&Jt[J[Ve][1].type].call(Object.assign({sliceSerialize:J[Ve][2].sliceSerialize},be),J[Ve][1])}if(be.tokenStack.length>0){const Jt=be.tokenStack[be.tokenStack.length-1];(Jt[1]||Lv).call(be,void 0,Jt[0])}for(re.position={start:zi(J.length>0?J[0][1].start:{line:1,column:1,offset:0}),end:zi(J.length>0?J[J.length-2][1].end:{line:1,column:1,offset:0})},Ve=-1;++Ve<e.transforms.length;)re=e.transforms[Ve](re)||re;return re}function o(J,re,be){let Ie=re-1,Ve=-1,Jt=!1,Pn,Mt,mt,Dt;for(;++Ie<=be;){const Ke=J[Ie];switch(Ke[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ke[0]==="enter"?Ve++:Ve--,Dt=void 0;break}case"lineEndingBlank":{Ke[0]==="enter"&&(Pn&&!Dt&&!Ve&&!mt&&(mt=Ie),Dt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Dt=void 0}if(!Ve&&Ke[0]==="enter"&&Ke[1].type==="listItemPrefix"||Ve===-1&&Ke[0]==="exit"&&(Ke[1].type==="listUnordered"||Ke[1].type==="listOrdered")){if(Pn){let si=Ie;for(Mt=void 0;si--;){const _n=J[si];if(_n[1].type==="lineEnding"||_n[1].type==="lineEndingBlank"){if(_n[0]==="exit")continue;Mt&&(J[Mt][1].type="lineEndingBlank",Jt=!0),_n[1].type="lineEnding",Mt=si}else if(!(_n[1].type==="linePrefix"||_n[1].type==="blockQuotePrefix"||_n[1].type==="blockQuotePrefixWhitespace"||_n[1].type==="blockQuoteMarker"||_n[1].type==="listItemIndent"))break}mt&&(!Mt||mt<Mt)&&(Pn._spread=!0),Pn.end=Object.assign({},Mt?J[Mt][1].start:Ke[1].end),J.splice(Mt||Ie,0,["exit",Pn,Ke[2]]),Ie++,be++}if(Ke[1].type==="listItemPrefix"){const si={type:"listItem",_spread:!1,start:Object.assign({},Ke[1].start),end:void 0};Pn=si,J.splice(Ie,0,["enter",si,Ke[2]]),Ie++,be++,mt=void 0,Dt=!0}}}return J[re][1]._spread=Jt,be}function a(J,re){return be;function be(Ie){d.call(this,J(Ie),Ie),re&&re.call(this,Ie)}}function u(){this.stack.push({type:"fragment",children:[]})}function d(J,re,be){this.stack[this.stack.length-1].children.push(J),this.stack.push(J),this.tokenStack.push([re,be||void 0]),J.position={start:zi(re.start),end:void 0}}function p(J){return re;function re(be){J&&J.call(this,be),f.call(this,be)}}function f(J,re){const be=this.stack.pop(),Ie=this.tokenStack.pop();if(Ie)Ie[0].type!==J.type&&(re?re.call(this,J,Ie[0]):(Ie[1]||Lv).call(this,J,Ie[0]));else throw new Error("Cannot close `"+J.type+"` ("+Mo({start:J.start,end:J.end})+"): its not open");be.position.end=zi(J.end)}function y(){return Pz(this.stack.pop())}function _(){this.data.expectingFirstListItemValue=!0}function x(J){if(this.data.expectingFirstListItemValue){const re=this.stack[this.stack.length-2];re.start=Number.parseInt(this.sliceSerialize(J),10),this.data.expectingFirstListItemValue=void 0}}function b(){const J=this.resume(),re=this.stack[this.stack.length-1];re.lang=J}function T(){const J=this.resume(),re=this.stack[this.stack.length-1];re.meta=J}function A(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function R(){const J=this.resume(),re=this.stack[this.stack.length-1];re.value=J.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const J=this.resume(),re=this.stack[this.stack.length-1];re.value=J.replace(/(\r?\n|\r)$/g,"")}function P(J){const re=this.resume(),be=this.stack[this.stack.length-1];be.label=re,be.identifier=_s(this.sliceSerialize(J)).toLowerCase()}function N(){const J=this.resume(),re=this.stack[this.stack.length-1];re.title=J}function F(){const J=this.resume(),re=this.stack[this.stack.length-1];re.url=J}function W(J){const re=this.stack[this.stack.length-1];if(!re.depth){const be=this.sliceSerialize(J).length;re.depth=be}}function U(){this.data.setextHeadingSlurpLineEnding=!0}function $(J){const re=this.stack[this.stack.length-1];re.depth=this.sliceSerialize(J).codePointAt(0)===61?1:2}function se(){this.data.setextHeadingSlurpLineEnding=void 0}function Z(J){const be=this.stack[this.stack.length-1].children;let Ie=be[be.length-1];(!Ie||Ie.type!=="text")&&(Ie=It(),Ie.position={start:zi(J.start),end:void 0},be.push(Ie)),this.stack.push(Ie)}function ae(J){const re=this.stack.pop();re.value+=this.sliceSerialize(J),re.position.end=zi(J.end)}function ne(J){const re=this.stack[this.stack.length-1];if(this.data.atHardBreak){const be=re.children[re.children.length-1];be.position.end=zi(J.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(re.type)&&(Z.call(this,J),ae.call(this,J))}function Q(){this.data.atHardBreak=!0}function me(){const J=this.resume(),re=this.stack[this.stack.length-1];re.value=J}function ce(){const J=this.resume(),re=this.stack[this.stack.length-1];re.value=J}function ie(){const J=this.resume(),re=this.stack[this.stack.length-1];re.value=J}function L(){const J=this.stack[this.stack.length-1];if(this.data.inReference){const re=this.data.referenceType||"shortcut";J.type+="Reference",J.referenceType=re,delete J.url,delete J.title}else delete J.identifier,delete J.label;this.data.referenceType=void 0}function ee(){const J=this.stack[this.stack.length-1];if(this.data.inReference){const re=this.data.referenceType||"shortcut";J.type+="Reference",J.referenceType=re,delete J.url,delete J.title}else delete J.identifier,delete J.label;this.data.referenceType=void 0}function fe(J){const re=this.sliceSerialize(J),be=this.stack[this.stack.length-2];be.label=UU(re),be.identifier=_s(re).toLowerCase()}function Re(){const J=this.stack[this.stack.length-1],re=this.resume(),be=this.stack[this.stack.length-1];if(this.data.inReference=!0,be.type==="link"){const Ie=J.children;be.children=Ie}else be.alt=re}function I(){const J=this.resume(),re=this.stack[this.stack.length-1];re.url=J}function z(){const J=this.resume(),re=this.stack[this.stack.length-1];re.title=J}function q(){this.data.inReference=void 0}function C(){this.data.referenceType="collapsed"}function Y(J){const re=this.resume(),be=this.stack[this.stack.length-1];be.label=re,be.identifier=_s(this.sliceSerialize(J)).toLowerCase(),this.data.referenceType="full"}function de(J){this.data.characterReferenceType=J.type}function he(J){const re=this.sliceSerialize(J),be=this.data.characterReferenceType;let Ie;be?(Ie=Yx(re,be==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ie=Yf(re);const Ve=this.stack[this.stack.length-1];Ve.value+=Ie}function we(J){const re=this.stack.pop();re.position.end=zi(J.end)}function Ye(J){ae.call(this,J);const re=this.stack[this.stack.length-1];re.url=this.sliceSerialize(J)}function Ae(J){ae.call(this,J);const re=this.stack[this.stack.length-1];re.url="mailto:"+this.sliceSerialize(J)}function $t(){return{type:"blockquote",children:[]}}function jt(){return{type:"code",lang:null,meta:null,value:""}}function Dn(){return{type:"inlineCode",value:""}}function fr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Un(){return{type:"emphasis",children:[]}}function hr(){return{type:"heading",depth:0,children:[]}}function pr(){return{type:"break"}}function $o(){return{type:"html",value:""}}function jo(){return{type:"image",title:null,url:"",alt:null}}function mr(){return{type:"link",title:null,url:"",children:[]}}function gr(J){return{type:"list",ordered:J.type==="listOrdered",start:null,spread:J._spread,children:[]}}function ks(J){return{type:"listItem",spread:J._spread,checked:null,children:[]}}function Wl(){return{type:"paragraph",children:[]}}function Zl(){return{type:"strong",children:[]}}function It(){return{type:"text",value:""}}function eu(){return{type:"thematicBreak"}}}function zi(t){return{line:t.line,column:t.column,offset:t.offset}}function sb(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?sb(t,r):qU(t,r)}}function qU(t,e){let n;for(n in e)if(rb.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function Lv(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Mo({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Mo({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Mo({start:e.start,end:e.end})+") is still open")}function BU(t){const e=this;e.parser=n;function n(r){return OU(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function HU(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function VU(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function GU(t,e){const n=e.value?e.value+`
`:"",r={},o=e.lang?e.lang.split(/\s+/):[];o.length>0&&(r.className=["language-"+o[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(a.data={meta:e.meta}),t.patch(e,a),a=t.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(e,a),a}function FU(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function $U(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function jU(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),o=As(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let u,d=t.footnoteCounts.get(r);d===void 0?(d=0,t.footnoteOrder.push(r),u=t.footnoteOrder.length):u=a+1,d+=1,t.footnoteCounts.set(r,d);const p={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,p);const f={type:"element",tagName:"sup",properties:{},children:[p]};return t.patch(e,f),t.applyData(e,f)}function JU(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function YU(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function ob(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const o=t.all(e),a=o[0];a&&a.type==="text"?a.value="["+a.value:o.unshift({type:"text",value:"["});const u=o[o.length-1];return u&&u.type==="text"?u.value+=r:o.push({type:"text",value:r}),o}function KU(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return ob(t,e);const o={src:As(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(o.title=r.title);const a={type:"element",tagName:"img",properties:o,children:[]};return t.patch(e,a),t.applyData(e,a)}function XU(t,e){const n={src:As(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function QU(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function WU(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return ob(t,e);const o={href:As(r.url||"")};r.title!==null&&r.title!==void 0&&(o.title=r.title);const a={type:"element",tagName:"a",properties:o,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function ZU(t,e){const n={href:As(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function eP(t,e,n){const r=t.all(e),o=n?tP(n):ab(e),a={},u=[];if(typeof e.checked=="boolean"){const y=r[0];let _;y&&y.type==="element"&&y.tagName==="p"?_=y:(_={type:"element",tagName:"p",properties:{},children:[]},r.unshift(_)),_.children.length>0&&_.children.unshift({type:"text",value:" "}),_.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let d=-1;for(;++d<r.length;){const y=r[d];(o||d!==0||y.type!=="element"||y.tagName!=="p")&&u.push({type:"text",value:`
`}),y.type==="element"&&y.tagName==="p"&&!o?u.push(...y.children):u.push(y)}const p=r[r.length-1];p&&(o||p.type!=="element"||p.tagName!=="p")&&u.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:a,children:u};return t.patch(e,f),t.applyData(e,f)}function tP(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=ab(n[r])}return e}function ab(t){const e=t.spread;return e??t.children.length>1}function nP(t,e){const n={},r=t.all(e);let o=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++o<r.length;){const u=r[o];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function iP(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function rP(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function sP(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function oP(t,e){const n=t.all(e),r=n.shift(),o=[];if(r){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],u),o.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},d=Ff(e.children[1]),p=Hx(e.children[e.children.length-1]);d&&p&&(u.position={start:d,end:p}),o.push(u)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(o,!0)};return t.patch(e,a),t.applyData(e,a)}function aP(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,d=u?u.length:e.children.length;let p=-1;const f=[];for(;++p<d;){const _=e.children[p],x={},b=u?u[p]:void 0;b&&(x.align=b);let T={type:"element",tagName:a,properties:x,children:[]};_&&(T.children=t.all(_),t.patch(_,T),T=t.applyData(_,T)),f.push(T)}const y={type:"element",tagName:"tr",properties:{},children:t.wrap(f,!0)};return t.patch(e,y),t.applyData(e,y)}function lP(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const qv=9,Bv=32;function uP(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),o=0;const a=[];for(;r;)a.push(Hv(e.slice(o,r.index),o>0,!0),r[0]),o=r.index+r[0].length,r=n.exec(e);return a.push(Hv(e.slice(o),o>0,!1)),a.join("")}function Hv(t,e,n){let r=0,o=t.length;if(e){let a=t.codePointAt(r);for(;a===qv||a===Bv;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(o-1);for(;a===qv||a===Bv;)o--,a=t.codePointAt(o-1)}return o>r?t.slice(r,o):""}function cP(t,e){const n={type:"text",value:uP(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function dP(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const fP={blockquote:HU,break:VU,code:GU,delete:FU,emphasis:$U,footnoteReference:jU,heading:JU,html:YU,imageReference:KU,image:XU,inlineCode:QU,linkReference:WU,link:ZU,listItem:eP,list:nP,paragraph:iP,root:rP,strong:sP,table:oP,tableCell:lP,tableRow:aP,text:cP,thematicBreak:dP,toml:_l,yaml:_l,definition:_l,footnoteDefinition:_l};function _l(){}const lb=-1,Xl=0,Do=1,Ll=2,Qf=3,Wf=4,Zf=5,eh=6,ub=7,cb=8,Vv=typeof self=="object"?self:globalThis,hP=(t,e)=>{const n=(o,a)=>(t.set(a,o),o),r=o=>{if(t.has(o))return t.get(o);const[a,u]=e[o];switch(a){case Xl:case lb:return n(u,o);case Do:{const d=n([],o);for(const p of u)d.push(r(p));return d}case Ll:{const d=n({},o);for(const[p,f]of u)d[r(p)]=r(f);return d}case Qf:return n(new Date(u),o);case Wf:{const{source:d,flags:p}=u;return n(new RegExp(d,p),o)}case Zf:{const d=n(new Map,o);for(const[p,f]of u)d.set(r(p),r(f));return d}case eh:{const d=n(new Set,o);for(const p of u)d.add(r(p));return d}case ub:{const{name:d,message:p}=u;return n(new Vv[d](p),o)}case cb:return n(BigInt(u),o);case"BigInt":return n(Object(BigInt(u)),o);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:d}=new Uint8Array(u);return n(new DataView(d),u)}}return n(new Vv[a](u),o)};return r},Gv=t=>hP(new Map,t)(0),ls="",{toString:pP}={},{keys:mP}=Object,Ao=t=>{const e=typeof t;if(e!=="object"||!t)return[Xl,e];const n=pP.call(t).slice(8,-1);switch(n){case"Array":return[Do,ls];case"Object":return[Ll,ls];case"Date":return[Qf,ls];case"RegExp":return[Wf,ls];case"Map":return[Zf,ls];case"Set":return[eh,ls];case"DataView":return[Do,n]}return n.includes("Array")?[Do,n]:n.includes("Error")?[ub,n]:[Ll,n]},xl=([t,e])=>t===Xl&&(e==="function"||e==="symbol"),gP=(t,e,n,r)=>{const o=(u,d)=>{const p=r.push(u)-1;return n.set(d,p),p},a=u=>{if(n.has(u))return n.get(u);let[d,p]=Ao(u);switch(d){case Xl:{let y=u;switch(p){case"bigint":d=cb,y=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+p);y=null;break;case"undefined":return o([lb],u)}return o([d,y],u)}case Do:{if(p){let x=u;return p==="DataView"?x=new Uint8Array(u.buffer):p==="ArrayBuffer"&&(x=new Uint8Array(u)),o([p,[...x]],u)}const y=[],_=o([d,y],u);for(const x of u)y.push(a(x));return _}case Ll:{if(p)switch(p){case"BigInt":return o([p,u.toString()],u);case"Boolean":case"Number":case"String":return o([p,u.valueOf()],u)}if(e&&"toJSON"in u)return a(u.toJSON());const y=[],_=o([d,y],u);for(const x of mP(u))(t||!xl(Ao(u[x])))&&y.push([a(x),a(u[x])]);return _}case Qf:return o([d,u.toISOString()],u);case Wf:{const{source:y,flags:_}=u;return o([d,{source:y,flags:_}],u)}case Zf:{const y=[],_=o([d,y],u);for(const[x,b]of u)(t||!(xl(Ao(x))||xl(Ao(b))))&&y.push([a(x),a(b)]);return _}case eh:{const y=[],_=o([d,y],u);for(const x of u)(t||!xl(Ao(x)))&&y.push(a(x));return _}}const{message:f}=u;return o([d,{name:p,message:f}],u)};return a},Fv=(t,{json:e,lossy:n}={})=>{const r=[];return gP(!(e||n),!!e,new Map,r)(t),r},ql=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?Gv(Fv(t,e)):structuredClone(t):(t,e)=>Gv(Fv(t,e));function yP(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function vP(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function _P(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||yP,r=t.options.footnoteBackLabel||vP,o=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},d=[];let p=-1;for(;++p<t.footnoteOrder.length;){const f=t.footnoteById.get(t.footnoteOrder[p]);if(!f)continue;const y=t.all(f),_=String(f.identifier).toUpperCase(),x=As(_.toLowerCase());let b=0;const T=[],A=t.footnoteCounts.get(_);for(;A!==void 0&&++b<=A;){T.length>0&&T.push({type:"text",value:" "});let P=typeof n=="string"?n:n(p,b);typeof P=="string"&&(P={type:"text",value:P}),T.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+x+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(p,b),className:["data-footnote-backref"]},children:Array.isArray(P)?P:[P]})}const R=y[y.length-1];if(R&&R.type==="element"&&R.tagName==="p"){const P=R.children[R.children.length-1];P&&P.type==="text"?P.value+=" ":R.children.push({type:"text",value:" "}),R.children.push(...T)}else y.push(...T);const k={type:"element",tagName:"li",properties:{id:e+"fn-"+x},children:t.wrap(y,!0)};t.patch(f,k),d.push(k)}if(d.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...ql(u),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(d,!0)},{type:"text",value:`
`}]}}const db=(function(t){if(t==null)return wP;if(typeof t=="function")return Ql(t);if(typeof t=="object")return Array.isArray(t)?xP(t):bP(t);if(typeof t=="string")return SP(t);throw new Error("Expected function, string, or object as test")});function xP(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=db(t[n]);return Ql(r);function r(...o){let a=-1;for(;++a<e.length;)if(e[a].apply(this,o))return!0;return!1}}function bP(t){const e=t;return Ql(n);function n(r){const o=r;let a;for(a in t)if(o[a]!==e[a])return!1;return!0}}function SP(t){return Ql(e);function e(n){return n&&n.type===t}}function Ql(t){return e;function e(n,r,o){return!!(EP(n)&&t.call(this,n,typeof r=="number"?r:void 0,o||void 0))}}function wP(){return!0}function EP(t){return t!==null&&typeof t=="object"&&"type"in t}const fb=[],TP=!0,$v=!1,CP="skip";function AP(t,e,n,r){let o;typeof e=="function"&&typeof n!="function"?(r=n,n=e):o=e;const a=db(o),u=r?-1:1;d(t,void 0,[])();function d(p,f,y){const _=p&&typeof p=="object"?p:{};if(typeof _.type=="string"){const b=typeof _.tagName=="string"?_.tagName:typeof _.name=="string"?_.name:void 0;Object.defineProperty(x,"name",{value:"node ("+(p.type+(b?"<"+b+">":""))+")"})}return x;function x(){let b=fb,T,A,R;if((!e||a(p,f,y[y.length-1]||void 0))&&(b=kP(n(p,y)),b[0]===$v))return b;if("children"in p&&p.children){const k=p;if(k.children&&b[0]!==CP)for(A=(r?k.children.length:-1)+u,R=y.concat(k);A>-1&&A<k.children.length;){const P=k.children[A];if(T=d(P,A,R)(),T[0]===$v)return T;A=typeof T[1]=="number"?T[1]:A+u}}return b}}}function kP(t){return Array.isArray(t)?t:typeof t=="number"?[TP,t]:t==null?fb:[t]}function hb(t,e,n,r){let o,a,u;typeof e=="function"&&typeof n!="function"?(a=void 0,u=e,o=n):(a=e,u=n,o=r),AP(t,a,d,o);function d(p,f){const y=f[f.length-1],_=y?y.children.indexOf(p):void 0;return u(p,_,y)}}const yf={}.hasOwnProperty,NP={};function RP(t,e){const n=e||NP,r=new Map,o=new Map,a=new Map,u={...fP,...n.handlers},d={all:f,applyData:MP,definitionById:r,footnoteById:o,footnoteCounts:a,footnoteOrder:[],handlers:u,one:p,options:n,patch:IP,wrap:DP};return hb(t,function(y){if(y.type==="definition"||y.type==="footnoteDefinition"){const _=y.type==="definition"?r:o,x=String(y.identifier).toUpperCase();_.has(x)||_.set(x,y)}}),d;function p(y,_){const x=y.type,b=d.handlers[x];if(yf.call(d.handlers,x)&&b)return b(d,y,_);if(d.options.passThrough&&d.options.passThrough.includes(x)){if("children"in y){const{children:A,...R}=y,k=ql(R);return k.children=d.all(y),k}return ql(y)}return(d.options.unknownHandler||zP)(d,y,_)}function f(y){const _=[];if("children"in y){const x=y.children;let b=-1;for(;++b<x.length;){const T=d.one(x[b],y);if(T){if(b&&x[b-1].type==="break"&&(!Array.isArray(T)&&T.type==="text"&&(T.value=jv(T.value)),!Array.isArray(T)&&T.type==="element")){const A=T.children[0];A&&A.type==="text"&&(A.value=jv(A.value))}Array.isArray(T)?_.push(...T):_.push(T)}}}return _}}function IP(t,e){t.position&&(e.position=pz(t))}function MP(t,e){let n=e;if(t&&t.data){const r=t.data.hName,o=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const u="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:u}}n.type==="element"&&a&&Object.assign(n.properties,ql(a)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function zP(t,e){const n=e.data||{},r="value"in e&&!(yf.call(n,"hProperties")||yf.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function DP(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function jv(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function Jv(t,e){const n=RP(t,e),r=n.one(t,void 0),o=_P(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return o&&a.children.push({type:"text",value:`
`},o),a}function UP(t,e){return t&&"run"in t?async function(n,r){const o=Jv(n,{file:r,...e});await t.run(o,r)}:function(n,r){return Jv(n,{file:r,...t||e})}}function Yv(t){if(t)throw t}var zd,Kv;function PP(){if(Kv)return zd;Kv=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=function(f){return typeof Array.isArray=="function"?Array.isArray(f):e.call(f)==="[object Array]"},a=function(f){if(!f||e.call(f)!=="[object Object]")return!1;var y=t.call(f,"constructor"),_=f.constructor&&f.constructor.prototype&&t.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!y&&!_)return!1;var x;for(x in f);return typeof x>"u"||t.call(f,x)},u=function(f,y){n&&y.name==="__proto__"?n(f,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):f[y.name]=y.newValue},d=function(f,y){if(y==="__proto__")if(t.call(f,y)){if(r)return r(f,y).value}else return;return f[y]};return zd=function p(){var f,y,_,x,b,T,A=arguments[0],R=1,k=arguments.length,P=!1;for(typeof A=="boolean"&&(P=A,A=arguments[1]||{},R=2),(A==null||typeof A!="object"&&typeof A!="function")&&(A={});R<k;++R)if(f=arguments[R],f!=null)for(y in f)_=d(A,y),x=d(f,y),A!==x&&(P&&x&&(a(x)||(b=o(x)))?(b?(b=!1,T=_&&o(_)?_:[]):T=_&&a(_)?_:{},u(A,{name:y,newValue:p(P,T,x)})):typeof x<"u"&&u(A,{name:y,newValue:x}));return A},zd}var OP=PP();const Dd=Ho(OP);function vf(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function LP(){const t=[],e={run:n,use:r};return e;function n(...o){let a=-1;const u=o.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);d(null,...o);function d(p,...f){const y=t[++a];let _=-1;if(p){u(p);return}for(;++_<o.length;)(f[_]===null||f[_]===void 0)&&(f[_]=o[_]);o=f,y?qP(y,d)(...f):u(null,...f)}}function r(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return t.push(o),e}}function qP(t,e){let n;return r;function r(...u){const d=t.length>u.length;let p;d&&u.push(o);try{p=t.apply(this,u)}catch(f){const y=f;if(d&&n)throw y;return o(y)}d||(p&&p.then&&typeof p.then=="function"?p.then(a,o):p instanceof Error?o(p):a(p))}function o(u,...d){n||(n=!0,e(u,...d))}function a(u){o(null,u)}}const In={basename:BP,dirname:HP,extname:VP,join:GP,sep:"/"};function BP(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Fo(t);let n=0,r=-1,o=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;o--;)if(t.codePointAt(o)===47){if(a){n=o+1;break}}else r<0&&(a=!0,r=o+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let u=-1,d=e.length-1;for(;o--;)if(t.codePointAt(o)===47){if(a){n=o+1;break}}else u<0&&(a=!0,u=o+1),d>-1&&(t.codePointAt(o)===e.codePointAt(d--)?d<0&&(r=o):(d=-1,r=u));return n===r?r=u:r<0&&(r=t.length),t.slice(n,r)}function HP(t){if(Fo(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function VP(t){Fo(t);let e=t.length,n=-1,r=0,o=-1,a=0,u;for(;e--;){const d=t.codePointAt(e);if(d===47){if(u){r=e+1;break}continue}n<0&&(u=!0,n=e+1),d===46?o<0?o=e:a!==1&&(a=1):o>-1&&(a=-1)}return o<0||n<0||a===0||a===1&&o===n-1&&o===r+1?"":t.slice(o,n)}function GP(...t){let e=-1,n;for(;++e<t.length;)Fo(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":FP(n)}function FP(t){Fo(t);const e=t.codePointAt(0)===47;let n=$P(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function $P(t,e){let n="",r=0,o=-1,a=0,u=-1,d,p;for(;++u<=t.length;){if(u<t.length)d=t.codePointAt(u);else{if(d===47)break;d=47}if(d===47){if(!(o===u-1||a===1))if(o!==u-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(p=n.lastIndexOf("/"),p!==n.length-1){p<0?(n="",r=0):(n=n.slice(0,p),r=n.length-1-n.lastIndexOf("/")),o=u,a=0;continue}}else if(n.length>0){n="",r=0,o=u,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(o+1,u):n=t.slice(o+1,u),r=u-o-1;o=u,a=0}else d===46&&a>-1?a++:a=-1}return n}function Fo(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const jP={cwd:JP};function JP(){return"/"}function _f(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function YP(t){if(typeof t=="string")t=new URL(t);else if(!_f(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return KP(t)}function KP(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(e)}const Ud=["history","path","basename","stem","extname","dirname"];class pb{constructor(e){let n;e?_f(e)?n={path:e}:typeof e=="string"||XP(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":jP.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Ud.length;){const a=Ud[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let o;for(o in n)Ud.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?In.basename(this.path):void 0}set basename(e){Od(e,"basename"),Pd(e,"basename"),this.path=In.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?In.dirname(this.path):void 0}set dirname(e){Xv(this.basename,"dirname"),this.path=In.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?In.extname(this.path):void 0}set extname(e){if(Pd(e,"extname"),Xv(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=In.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){_f(e)&&(e=YP(e)),Od(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?In.basename(this.path,this.extname):void 0}set stem(e){Od(e,"stem"),Pd(e,"stem"),this.path=In.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const o=this.message(e,n,r);throw o.fatal=!0,o}info(e,n,r){const o=this.message(e,n,r);return o.fatal=void 0,o}message(e,n,r){const o=new Rt(e,n,r);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Pd(t,e){if(t&&t.includes(In.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+In.sep+"`")}function Od(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Xv(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function XP(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const QP=(function(t){const r=this.constructor.prototype,o=r[t],a=function(){return o.apply(a,arguments)};return Object.setPrototypeOf(a,r),a}),WP={}.hasOwnProperty;class th extends QP{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=LP()}copy(){const e=new th;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Dd(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Bd("data",this.frozen),this.namespace[e]=n,this):WP.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Bd("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const o=n.call(e,...r);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=bl(e),r=this.parser||this.Parser;return Ld("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Ld("process",this.parser||this.Parser),qd("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(a,u){const d=bl(e),p=r.parse(d);r.run(p,d,function(y,_,x){if(y||!_||!x)return f(y);const b=_,T=r.stringify(b,x);tO(T)?x.value=T:x.result=T,f(y,x)});function f(y,_){y||!_?u(y):a?a(_):n(void 0,_)}}}processSync(e){let n=!1,r;return this.freeze(),Ld("processSync",this.parser||this.Parser),qd("processSync",this.compiler||this.Compiler),this.process(e,o),Wv("processSync","process",n),r;function o(a,u){n=!0,Yv(a),r=u}}run(e,n,r){Qv(e),this.freeze();const o=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(u,d){const p=bl(n);o.run(e,p,f);function f(y,_,x){const b=_||e;y?d(y):u?u(b):r(void 0,b,x)}}}runSync(e,n){let r=!1,o;return this.run(e,n,a),Wv("runSync","run",r),o;function a(u,d){Yv(u),o=d,r=!0}}stringify(e,n){this.freeze();const r=bl(n),o=this.compiler||this.Compiler;return qd("stringify",o),Qv(e),o(e,r)}use(e,...n){const r=this.attachers,o=this.namespace;if(Bd("use",this.frozen),e!=null)if(typeof e=="function")p(e,n);else if(typeof e=="object")Array.isArray(e)?d(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(f){if(typeof f=="function")p(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[y,..._]=f;p(y,_)}else u(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function u(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");d(f.plugins),f.settings&&(o.settings=Dd(!0,o.settings,f.settings))}function d(f){let y=-1;if(f!=null)if(Array.isArray(f))for(;++y<f.length;){const _=f[y];a(_)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function p(f,y){let _=-1,x=-1;for(;++_<r.length;)if(r[_][0]===f){x=_;break}if(x===-1)r.push([f,...y]);else if(y.length>0){let[b,...T]=y;const A=r[x][1];vf(A)&&vf(b)&&(b=Dd(!0,A,b)),r[x]=[f,b,...T]}}}}const ZP=new th().freeze();function Ld(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function qd(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Bd(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Qv(t){if(!vf(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Wv(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function bl(t){return eO(t)?t:new pb(t)}function eO(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function tO(t){return typeof t=="string"||nO(t)}function nO(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const iO="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Zv=[],e_={allowDangerousHtml:!0},rO=/^(https?|ircs?|mailto|xmpp)$/i,sO=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function mb(t){const e=oO(t),n=aO(t);return lO(e.runSync(e.parse(n),n),t)}function oO(t){const e=t.rehypePlugins||Zv,n=t.remarkPlugins||Zv,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...e_}:e_;return ZP().use(BU).use(n).use(UP,r).use(e)}function aO(t){const e=t.children||"",n=new pb;return typeof e=="string"&&(n.value=e),n}function lO(t,e){const n=e.allowedElements,r=e.allowElement,o=e.components,a=e.disallowedElements,u=e.skipHtml,d=e.unwrapDisallowed,p=e.urlTransform||uO;for(const y of sO)Object.hasOwn(e,y.from)&&(""+y.from+(y.to?"use `"+y.to+"` instead":"remove it")+iO+y.id,void 0);return hb(t,f),_z(t,{Fragment:S.Fragment,components:o,ignoreInvalidStyle:!0,jsx:S.jsx,jsxs:S.jsxs,passKeys:!0,passNode:!0});function f(y,_,x){if(y.type==="raw"&&x&&typeof _=="number")return u?x.children.splice(_,1):x.children[_]={type:"text",value:y.value},_;if(y.type==="element"){let b;for(b in Rd)if(Object.hasOwn(Rd,b)&&Object.hasOwn(y.properties,b)){const T=y.properties[b],A=Rd[b];(A===null||A.includes(y.tagName))&&(y.properties[b]=p(String(T||""),b,y))}}if(y.type==="element"){let b=n?!n.includes(y.tagName):a?a.includes(y.tagName):!1;if(!b&&r&&typeof _=="number"&&(b=!r(y,_,x)),b&&x&&typeof _=="number")return d&&y.children?x.children.splice(_,1,...y.children):x.children.splice(_,1),_}}}function uO(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),o=t.indexOf("/");return e===-1||o!==-1&&e>o||n!==-1&&e>n||r!==-1&&e>r||rO.test(t.slice(0,e))?t:""}const cO=({label:t,sectionId:e,value:n,placeholder:r,context:o,onChange:a,description:u,isGenerating:d,onGenerate:p,isZoomed:f,onToggleZoom:y})=>{const[_,x]=Te.useState(!1),[b,T]=Te.useState(null),[A,R]=Te.useState(!1),[k,P]=Te.useState("write"),[N,F]=Te.useState(!1),[W,U]=Te.useState(""),$=Te.useRef(null);Te.useEffect(()=>{if(!f&&k==="write"&&$.current){$.current.style.height="auto";const Q=Math.max(180,$.current.scrollHeight);$.current.style.height=`${Q}px`}},[n,f,k]),Te.useEffect(()=>(f?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[f]);const se=async()=>{if(W.trim()){x(!0),T(null);try{const Q=await _N(n,W);a(Q),F(!1),U(""),P("write")}catch{T("Failed to enhance content.")}finally{x(!1)}}},Z=Q=>{Q.key==="Enter"&&!Q.shiftKey&&(Q.preventDefault(),se()),Q.key==="Escape"&&(N?F(!1):f&&y())},ae=f?"fixed inset-0 m-4 sm:inset-6 md:inset-10 z-[60] flex flex-col shadow-2xl ring-1 ring-zinc-900/10 dark:ring-white/10 animate-in zoom-in-95 fade-in duration-200":`relative transition-all duration-300 ${A||N?"shadow-xl shadow-zinc-200/60 dark:shadow-black/50 ring-2 ring-zinc-900 dark:ring-zinc-100 border-transparent":"border border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700 shadow-sm"}`,ne=S.jsxs("div",{className:`
        group bg-white dark:bg-zinc-900 rounded-2xl
        ${ae}
      `,onFocus:()=>R(!0),onBlur:()=>R(!1),children:[S.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between px-6 py-5 gap-4 border-b border-zinc-100 dark:border-zinc-800/50 min-h-[72px] flex-shrink-0",children:[S.jsxs("div",{className:`flex flex-col gap-3 flex-1 min-w-0 ${N?"hidden sm:flex opacity-40":""}`,children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100 tracking-tight leading-none truncate pr-2",children:t}),u&&!f&&S.jsx("p",{className:"hidden sm:block text-sm text-zinc-500 dark:text-zinc-400 font-medium leading-relaxed truncate mt-1.5",children:u})]}),S.jsxs("div",{className:"flex items-center p-1 bg-zinc-100 dark:bg-zinc-800/50 rounded-full self-start w-auto border border-zinc-200 dark:border-zinc-800",children:[S.jsxs("button",{onClick:()=>P("write"),className:`
                        flex items-center gap-2 px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-wider transition-all
                        ${k==="write"?"bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 shadow-sm ring-1 ring-black/5":"text-zinc-500 dark:text-zinc-400 hover:text-zinc-700 dark:hover:text-zinc-300"}
                    `,children:[S.jsx(cM,{size:14}),"Write"]}),S.jsxs("button",{onClick:()=>P("preview"),className:`
                        flex items-center gap-2 px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-wider transition-all
                        ${k==="preview"?"bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 shadow-sm ring-1 ring-black/5":"text-zinc-500 dark:text-zinc-400 hover:text-zinc-700 dark:hover:text-zinc-300"}
                    `,children:[S.jsx(Ul,{size:14}),"Preview"]})]})]}),S.jsx("div",{className:`flex-shrink-0 flex items-center justify-end gap-2 sm:gap-3 ${N?"w-full sm:w-auto":""} pt-1`,children:N?S.jsxs("div",{className:"flex items-center gap-2 w-full animate-enter",children:[S.jsx("div",{className:"relative flex-1 sm:w-80",children:S.jsx("input",{autoFocus:!0,type:"text",value:W,onChange:Q=>U(Q.target.value),onKeyDown:Z,placeholder:"How should we improve this?",className:"w-full bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 rounded-full pl-5 pr-2 py-3 text-sm text-zinc-900 dark:text-zinc-100 focus:ring-2 focus:ring-zinc-900 dark:focus:ring-zinc-50 focus:border-transparent placeholder:text-zinc-400 shadow-sm"})}),S.jsx("button",{onClick:se,disabled:_||!W.trim(),className:"p-3 bg-zinc-900 dark:bg-zinc-50 text-white dark:text-zinc-900 rounded-full hover:opacity-90 disabled:opacity-50 transition-all flex-shrink-0 shadow-sm",children:_?S.jsx(Pl,{size:14,className:"animate-spin"}):S.jsx(lI,{size:14})}),S.jsx("button",{onClick:()=>F(!1),className:"p-3 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-200 flex-shrink-0",children:S.jsx(Yl,{size:16})})]}):S.jsxs("div",{className:"flex items-center gap-2 sm:gap-2.5",children:[S.jsx("button",{onClick:y,className:"p-3 text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors rounded-full hover:bg-zinc-100 dark:hover:bg-zinc-800",title:f?"Minimize":"Focus Mode",children:f?S.jsx(nM,{size:18,className:"sm:w-4 sm:h-4"}):S.jsx(WI,{size:18,className:"sm:w-4 sm:h-4"})}),S.jsx("div",{className:"w-px h-6 bg-zinc-200 dark:bg-zinc-800 mx-1"}),n.length>0&&!d&&S.jsx("button",{onClick:()=>a(""),className:`${f?"flex":"hidden group-hover:flex"} p-3 text-zinc-300 hover:text-red-500 transition-colors rounded-full hover:bg-zinc-100 dark:hover:bg-zinc-800 items-center justify-center`,title:"Clear section",children:S.jsx(DI,{size:18,className:"sm:w-4 sm:h-4"})}),n.length>0&&S.jsxs("button",{onClick:()=>F(!0),disabled:d||_,className:"flex items-center gap-2 px-4 py-2.5 rounded-full text-xs font-bold uppercase tracking-wider bg-white dark:bg-zinc-800 text-zinc-700 dark:text-zinc-300 hover:bg-zinc-50 dark:hover:bg-zinc-700 transition-colors border border-zinc-200 dark:border-zinc-700 hover:border-zinc-300 dark:hover:border-zinc-600 shadow-sm",children:[S.jsx(Mx,{size:14,className:"sm:w-3.5 sm:h-3.5"}),S.jsx("span",{className:"hidden sm:inline",children:"Refine"})]}),S.jsxs("button",{onClick:()=>{P("write"),p()},disabled:d||_,className:`
                            flex items-center gap-2 px-5 py-2.5 rounded-full
                            text-xs font-bold uppercase tracking-wider transition-all
                            ${d?"bg-zinc-100 dark:bg-zinc-800 text-zinc-400 cursor-wait":"bg-zinc-900 dark:bg-zinc-50 text-white dark:text-zinc-900 hover:bg-zinc-800 dark:hover:bg-zinc-200 shadow-md"}
                        `,children:[d?S.jsx(Pl,{size:14,className:"animate-spin sm:w-3.5 sm:h-3.5"}):S.jsx(ys,{size:14,fill:"currentColor",className:"sm:w-3.5 sm:h-3.5"}),S.jsx("span",{className:d?"inline":"hidden sm:inline",children:d?"Generating":"Auto-Fill"})]})]})})]}),S.jsx("div",{className:`p-2 relative ${f?"flex-1 flex flex-col min-h-0":""}`,children:k==="write"?S.jsx("textarea",{ref:$,value:n,onChange:Q=>{a(Q.target.value),b&&T(null)},placeholder:r,className:`
                block w-full rounded-b-xl bg-transparent px-6 sm:px-7 py-5 text-base leading-relaxed
                text-zinc-900 dark:text-zinc-100 font-mono sm:font-sans
                placeholder:text-zinc-400 dark:placeholder:text-zinc-600
                focus:outline-none 
                ${f?"flex-1 resize-none text-lg p-8 overflow-y-auto":"resize-none overflow-hidden min-h-[180px]"}
              `}):S.jsx("div",{className:`
                w-full px-6 sm:px-7 py-5 
                ${f?"flex-1 overflow-y-auto p-8":"min-h-[180px]"}
            `,children:n?S.jsx("div",{className:"prose prose-zinc dark:prose-invert prose-sm sm:prose-base max-w-none leading-relaxed",children:S.jsx(mb,{components:{h3:({node:Q,...me})=>S.jsx("h3",{className:"text-zinc-900 dark:text-zinc-100 font-semibold mt-4 mb-2 text-base",...me}),ul:({node:Q,...me})=>S.jsx("ul",{className:"list-disc pl-5 space-y-1 my-2 marker:text-zinc-300 dark:marker:text-zinc-600",...me}),li:({node:Q,...me})=>S.jsx("li",{className:"pl-1",...me}),p:({node:Q,...me})=>S.jsx("p",{className:"mb-3 text-zinc-700 dark:text-zinc-300",...me}),strong:({node:Q,...me})=>S.jsx("strong",{className:"font-semibold text-zinc-900 dark:text-zinc-100",...me}),code:({node:Q,...me})=>S.jsx("code",{className:"bg-zinc-100 dark:bg-zinc-800 px-1 py-0.5 rounded text-sm text-zinc-800 dark:text-zinc-200",...me})},children:n})}):S.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-zinc-400 dark:text-zinc-600 italic text-sm",children:[S.jsx(Ul,{size:24,className:"mb-2 opacity-50"}),S.jsx("span",{children:"Nothing to preview yet."})]})})}),k==="write"&&n.length===0&&!A&&!d&&!N&&!f&&S.jsxs("div",{className:"absolute top-[65%] left-1/2 -translate-x-1/2 pointer-events-none opacity-40 flex flex-col items-center gap-2",children:[S.jsx(CI,{size:28,className:"text-zinc-200 dark:text-zinc-700"}),S.jsx("span",{className:"text-xs font-medium text-zinc-300 dark:text-zinc-700 whitespace-nowrap",children:"Write or Auto-Fill..."})]}),b&&S.jsx("div",{className:"px-6 pb-5",children:S.jsxs("p",{className:"text-xs text-red-500 font-medium flex items-center gap-1",children:[S.jsx("span",{children:""})," ",b]})})]});return f?FM.createPortal(ne,document.body):ne},dO=({prd:t,context:e,onUpdateContext:n,onUpdateSection:r,onGenerateDescription:o,onGenerateSection:a,onGenerateAll:u,onBack:d,onPreview:p,loadingStates:f})=>{const[y,_]=Te.useState(null);return S.jsxs("div",{className:"animate-enter flex flex-col gap-10 max-w-4xl mx-auto",children:[y&&S.jsx("div",{className:"fixed inset-0 bg-white/80 dark:bg-zinc-950/80 backdrop-blur-sm z-40 animate-in fade-in duration-300",onClick:()=>_(null)}),S.jsx("div",{className:`transition-opacity duration-300 ${y?"opacity-20 pointer-events-none":""}`,children:S.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 sm:p-8 rounded-3xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-6 text-zinc-900 dark:text-white",children:[S.jsx(ys,{size:18,className:"text-zinc-900 dark:text-white"}),S.jsx("h2",{className:"font-semibold text-lg tracking-tight",children:"Product Context"})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[S.jsxs("div",{className:"space-y-2.5",children:[S.jsx("label",{className:"text-xs font-bold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider",children:"Product Name"}),S.jsx("input",{type:"text",className:"w-full bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 rounded-xl px-4 py-3 text-base font-medium text-zinc-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-zinc-900 dark:focus:ring-zinc-50 focus:border-transparent transition-all shadow-sm",placeholder:"Name your product...",value:t.productName,onChange:x=>n("productName",x.target.value)})]}),S.jsxs("div",{className:"space-y-2.5 relative",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("label",{className:"text-xs font-bold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider",children:"Description"}),S.jsxs("button",{onClick:o,disabled:f.isGeneratingDescription||!t.productName,className:"text-[10px] font-bold uppercase tracking-wider text-zinc-500 hover:text-zinc-900 dark:hover:text-white disabled:opacity-30 transition-colors flex items-center gap-1.5 px-2 py-1 rounded-md bg-zinc-50 hover:bg-zinc-100 dark:bg-zinc-800 dark:hover:bg-zinc-700 border border-zinc-200 dark:border-zinc-700",children:[f.isGeneratingDescription?S.jsx(Pl,{size:12,className:"animate-spin"}):S.jsx(ys,{size:12}),"Auto-Fill"]})]}),S.jsx("textarea",{className:"w-full bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 rounded-xl px-4 py-3 text-sm text-zinc-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-zinc-900 dark:focus:ring-zinc-50 focus:border-transparent transition-all resize-none leading-relaxed shadow-sm",rows:3,placeholder:"What does it do? Who is it for?",value:t.shortDescription,onChange:x=>n("shortDescription",x.target.value)})]})]})]})}),S.jsxs("div",{className:"space-y-8 pb-24 relative",children:[S.jsxs("div",{className:`flex items-center justify-between mb-4 transition-opacity duration-300 ${y?"opacity-20 pointer-events-none":""}`,children:[S.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[S.jsx("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-white",children:"Content"}),S.jsxs("span",{className:"text-xs font-medium text-zinc-600 dark:text-zinc-500 px-2.5 py-1 rounded-full bg-zinc-100 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 self-start sm:self-auto",children:[t.sections.filter(x=>x.isEnabled).length," Sections"]})]}),S.jsxs("button",{onClick:u,disabled:f.isGeneratingAll||!t.productName,className:`
              flex items-center gap-2 px-5 py-2.5 rounded-full
              text-xs font-bold uppercase tracking-wider transition-all
              ${f.isGeneratingAll?"bg-zinc-100 dark:bg-zinc-800 text-zinc-400 cursor-wait":"bg-white dark:bg-zinc-900 border border-zinc-300 dark:border-zinc-800 text-zinc-900 dark:text-white hover:border-zinc-400 dark:hover:border-zinc-700 shadow-sm hover:shadow"}
            `,children:[f.isGeneratingAll?S.jsx(Pl,{size:14,className:"animate-spin"}):S.jsx(Mx,{size:14}),S.jsx("span",{children:f.isGeneratingAll?"Generating All...":"Generate All"})]})]}),t.sections.filter(x=>x.isEnabled).map(x=>S.jsxs(t_.Fragment,{children:[S.jsx(cO,{label:x.title,sectionId:x.id,value:x.content,placeholder:x.placeholder,description:x.description,context:e,onChange:b=>r(x.id,b),isGenerating:f.generatingSections[x.id]||!1,onGenerate:()=>a(x.id,x.title),isZoomed:y===x.id,onToggleZoom:()=>_(y===x.id?null:x.id)}),y===x.id&&S.jsx("div",{className:"h-[250px] w-full","aria-hidden":"true"})]},x.id)),S.jsxs("div",{className:`flex justify-between items-center pt-10 border-t border-zinc-200 dark:border-zinc-800 mt-12 transition-opacity duration-300 ${y?"opacity-20 pointer-events-none":""}`,children:[S.jsx(vt,{variant:"ghost",onClick:d,leftIcon:S.jsx(Lf,{size:16}),children:"Structure"}),S.jsx(vt,{onClick:p,size:"lg",rightIcon:S.jsx(lM,{size:16}),className:"shadow-lg shadow-zinc-200/50 dark:shadow-zinc-900/50",children:"Preview PRD"})]})]})]})},gb=({prd:t})=>{const e=t.sections.filter(n=>n.isEnabled);return S.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-xl md:rounded-2xl border-y md:border border-zinc-200 dark:border-zinc-800 shadow-sm min-h-[80vh] overflow-hidden transition-colors duration-300",children:[S.jsxs("div",{className:"bg-zinc-50/50 dark:bg-zinc-950/30 border-b border-zinc-100 dark:border-zinc-800 p-6 md:p-16 text-center",children:[S.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-zinc-100 dark:bg-zinc-800 text-zinc-500 dark:text-zinc-400 text-[10px] font-bold uppercase tracking-widest mb-6",children:"Product Requirements Document"}),S.jsx("h1",{className:"text-3xl md:text-5xl font-extrabold text-zinc-900 dark:text-white mb-6 tracking-tight leading-tight",children:t.productName||"Untitled Product"}),S.jsx("p",{className:"text-lg md:text-xl text-zinc-500 dark:text-zinc-400 leading-relaxed max-w-2xl mx-auto font-light",children:t.shortDescription||"No description provided."}),S.jsxs("div",{className:"mt-8 flex justify-center items-center gap-6 text-xs text-zinc-400 dark:text-zinc-500 font-medium uppercase tracking-wider",children:[S.jsx("span",{children:"Version 1.0"}),S.jsx("span",{children:""}),S.jsx("span",{children:new Date(t.lastUpdated).toLocaleDateString()})]})]}),S.jsx("div",{className:"p-6 md:p-16 max-w-3xl mx-auto space-y-12 md:space-y-16",children:e.map((n,r)=>S.jsxs("section",{className:"group",children:[S.jsxs("div",{className:"flex items-center gap-4 mb-4 md:mb-6",children:[S.jsx("span",{className:"text-zinc-200 dark:text-zinc-800 font-bold text-3xl md:text-4xl select-none group-hover:text-zinc-300 dark:group-hover:text-zinc-700 transition-colors",children:String(r+1).padStart(2,"0")}),S.jsx("h2",{className:"text-lg md:text-xl font-bold text-zinc-900 dark:text-zinc-100 tracking-tight",children:n.title})]}),S.jsx("div",{className:"pl-0 md:pl-12 prose prose-zinc dark:prose-invert prose-sm sm:prose-base max-w-none text-zinc-600 dark:text-zinc-300 leading-7",children:n.content?S.jsx(mb,{components:{h3:({node:o,...a})=>S.jsx("h3",{className:"text-zinc-900 dark:text-zinc-100 font-semibold mt-6 mb-3 text-base",...a}),ul:({node:o,...a})=>S.jsx("ul",{className:"list-disc pl-5 space-y-1 my-4 marker:text-zinc-300 dark:marker:text-zinc-600",...a}),li:({node:o,...a})=>S.jsx("li",{className:"pl-1",...a}),p:({node:o,...a})=>S.jsx("p",{className:"mb-4 text-zinc-600 dark:text-zinc-300",...a}),strong:({node:o,...a})=>S.jsx("strong",{className:"font-semibold text-zinc-900 dark:text-zinc-100",...a}),code:({node:o,...a})=>S.jsx("code",{className:"bg-zinc-100 dark:bg-zinc-800 px-1 py-0.5 rounded text-sm",...a})},children:n.content}):S.jsx("p",{className:"text-zinc-300 dark:text-zinc-600 italic font-light",children:"Content pending..."})})]},n.id))}),S.jsx("div",{className:"bg-zinc-50 dark:bg-zinc-950/50 border-t border-zinc-100 dark:border-zinc-800 p-8 text-center",children:S.jsx("p",{className:"text-zinc-400 dark:text-zinc-600 text-xs font-medium uppercase tracking-widest",children:"Generated with Propel"})})]})},fO=({onExport:t,onClose:e})=>{const n=[{id:"pdf",label:"Export as PDF",icon:S.jsx(Jl,{size:16})},{id:"markdown",label:"Export as Markdown",icon:S.jsx(LI,{size:16})},{id:"txt",label:"Export as Text",icon:S.jsx(HI,{size:16})},{id:"json",label:"Export as JSON",icon:S.jsx(Ax,{size:16})},{id:"html",label:"Export as HTML",icon:S.jsx(GI,{size:16})}];return S.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-white dark:bg-zinc-900 rounded-xl shadow-xl ring-1 ring-black/5 dark:ring-white/10 overflow-hidden z-50 animate-enter origin-top-right p-1",children:S.jsx("div",{className:"flex flex-col gap-0.5",children:n.map(r=>S.jsxs("button",{onClick:()=>{t(r.id),e()},className:"flex items-center gap-3 px-4 py-3 text-sm font-medium text-zinc-700 dark:text-zinc-200 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg transition-colors text-left",children:[S.jsx("span",{className:"text-zinc-400 dark:text-zinc-500",children:r.icon}),r.label]},r.id))})})},Sl=(t,e,n)=>{const r=new Blob([t],{type:n}),o=URL.createObjectURL(r),a=document.createElement("a");a.href=o,a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(o)},hO=t=>{const e=t.sections.filter(r=>r.isEnabled);let n=`# ${t.productName||"Untitled Product"}

`;return t.shortDescription&&(n+=`> ${t.shortDescription}

`),n+=`**Version:** 1.0  
`,n+=`**Last Updated:** ${new Date(t.lastUpdated).toLocaleDateString()}

`,n+=`---

`,e.forEach(r=>{n+=`## ${r.title}

`,n+=`${r.content||"(No content)"}

`}),n+=`
---
*Generated with Propel PRD*`,n},pO=t=>{const e=t.sections.filter(r=>r.isEnabled);let n=`${t.productName||"Untitled Product"}
`;return n+=`${"=".repeat(n.length)}

`,t.shortDescription&&(n+=`${t.shortDescription}

`),n+=`Version: 1.0
`,n+=`Last Updated: ${new Date(t.lastUpdated).toLocaleDateString()}

`,e.forEach(r=>{n+=`
${r.title.toUpperCase()}
`,n+=`${"-".repeat(r.title.length)}
`,n+=`${r.content||"(No content)"}
`}),n},mO=t=>{const e=t.sections.filter(o=>o.isEnabled),n=t.productName||"Untitled Product";let r=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${n} - PRD</title>
    <style>
        body { font-family: system-ui, -apple-system, sans-serif; line-height: 1.6; color: #333; max-width: 800px; margin: 0 auto; padding: 2rem; }
        h1 { font-size: 2.5rem; margin-bottom: 0.5rem; color: #111; }
        .meta { color: #666; font-size: 0.9rem; margin-bottom: 2rem; border-bottom: 1px solid #eee; padding-bottom: 1rem; }
        h2 { margin-top: 2rem; border-bottom: 1px solid #eee; padding-bottom: 0.5rem; color: #111; }
        .description { font-size: 1.2rem; color: #555; margin-bottom: 2rem; font-weight: 300; }
        pre { background: #f4f4f5; padding: 1rem; border-radius: 0.5rem; overflow-x: auto; }
        code { font-family: monospace; background: #f4f4f5; padding: 0.2rem 0.4rem; border-radius: 0.25rem; }
        footer { margin-top: 4rem; text-align: center; color: #888; font-size: 0.8rem; }
    </style>
</head>
<body>
    <header>
        <h1>${n}</h1>
        <div class="description">${t.shortDescription||""}</div>
        <div class="meta">
            <span>Version 1.0</span>  
            <span>Last Updated: ${new Date(t.lastUpdated).toLocaleDateString()}</span>
        </div>
    </header>
    <main>`;return e.forEach(o=>{const a=o.content?o.content.split(`

`).map(u=>`<p>${u.replace(/\n/g,"<br>")}</p>`).join(""):"<p><em>(No content)</em></p>";r+=`
        <section>
            <h2>${o.title}</h2>
            <div>${a}</div>
        </section>`}),r+=`
    </main>
    <footer>
        Generated with Propel PRD
    </footer>
</body>
</html>`,r},gO=({prd:t,onBack:e,onPublish:n})=>{const[r,o]=Te.useState(!1),a=u=>{const d=(t.productName||"prd").toLowerCase().replace(/[^a-z0-9]+/g,"-");switch(u){case"json":Sl(JSON.stringify(t,null,2),`${d}.json`,"application/json");break;case"markdown":Sl(hO(t),`${d}.md`,"text/markdown");break;case"txt":Sl(pO(t),`${d}.txt`,"text/plain");break;case"html":Sl(mO(t),`${d}.html`,"text/html");break;case"pdf":window.print();break;default:console.warn(`Export format '${u}' not implemented yet.`)}o(!1)};return S.jsxs("div",{className:"animate-enter space-y-8 max-w-4xl mx-auto",children:[S.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 bg-white dark:bg-zinc-900 p-5 rounded-3xl border border-zinc-200 dark:border-zinc-800 shadow-sm relative z-40 print:hidden",children:[S.jsx(vt,{variant:"ghost",onClick:e,leftIcon:S.jsx(Lf,{size:16}),children:"Back to Editor"}),S.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[S.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[S.jsx(vt,{variant:"outline",className:"w-full",onClick:()=>o(!r),leftIcon:S.jsx(MI,{size:16}),children:"Export"}),r&&S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"fixed inset-0 z-40 cursor-default",onClick:()=>o(!1)}),S.jsx(fO,{onExport:a,onClose:()=>o(!1)})]})]}),S.jsx(vt,{variant:"primary",className:"flex-1 sm:flex-none",onClick:n,leftIcon:S.jsx(Ol,{size:16}),children:"Publish"})]})]}),S.jsx("div",{className:"print:p-0",children:S.jsx(gb,{prd:t})})]})},yO=({prdId:t,prdTitle:e,currentStatus:n,onStatusChange:r})=>{const[o,a]=Te.useState(!1),[u,d]=Te.useState(""),[p,f]=Te.useState(""),[y,_]=Te.useState(""),[x,b]=Te.useState(!1),T=async A=>{a(!0);try{await r(A,{title:e,comment:u,approverName:p,approverEmail:y}),d(""),f(""),_(""),b(!1)}catch(R){console.error("Failed to update status",R)}finally{a(!1)}};return n==="approved"?S.jsx("div",{className:"bg-green-50 dark:bg-green-900/10 rounded-2xl border border-green-200 dark:border-green-900/30 p-6 animate-enter",children:S.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[S.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 flex items-center justify-center mb-1",children:S.jsx(qo,{size:24,strokeWidth:2.5})}),S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-bold text-green-800 dark:text-green-100",children:"Approved"}),S.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"This PRD has been officially approved."})]}),S.jsx("button",{onClick:()=>T("pending"),className:"text-xs text-green-600/60 hover:text-green-600 underline mt-2",children:"Reset Status"})]})}):n==="rejected"?S.jsx("div",{className:"bg-red-50 dark:bg-red-900/10 rounded-2xl border border-red-200 dark:border-red-900/30 p-6 animate-enter",children:S.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[S.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 flex items-center justify-center mb-1",children:S.jsx(Rx,{size:24,strokeWidth:2.5})}),S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-bold text-red-800 dark:text-red-100",children:"Changes Requested"}),S.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 font-medium",children:"This PRD has been marked for revision."})]}),S.jsx("button",{onClick:()=>T("pending"),className:"text-xs text-red-600/60 hover:text-red-600 underline mt-2",children:"Reset Status"})]})}):S.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl border border-zinc-200 dark:border-zinc-800 p-6 shadow-sm transition-all duration-300",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[S.jsx(qo,{size:20,className:"text-zinc-900 dark:text-zinc-100"}),S.jsx("h3",{className:"text-base font-bold text-zinc-900 dark:text-white",children:"Review & Approval"})]}),S.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mb-6 leading-relaxed",children:"Please review the requirements document. You can approve the PRD or request changes below."}),S.jsxs("button",{onClick:()=>b(!x),className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider text-zinc-500 hover:text-zinc-900 dark:hover:text-zinc-200 mb-5 transition-colors group select-none",children:[S.jsx("div",{className:"p-1 rounded-full bg-zinc-100 dark:bg-zinc-800 group-hover:bg-zinc-200 dark:group-hover:bg-zinc-700 transition-colors border border-zinc-200 dark:border-zinc-700",children:x?S.jsx(SI,{size:12}):S.jsx(_I,{size:12})}),S.jsx("span",{children:x?"Hide Details":"Add Details & Feedback (Optional)"})]}),x&&S.jsxs("div",{className:"mb-6 animate-enter space-y-3",children:[S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[S.jsxs("div",{className:"relative group",children:[S.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400 group-focus-within:text-zinc-900 dark:group-focus-within:text-zinc-100 transition-colors pointer-events-none",children:S.jsx(zM,{size:14})}),S.jsx("input",{type:"text",value:p,onChange:A=>f(A.target.value),placeholder:"Approver Name",className:"w-full bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 rounded-xl pl-9 pr-4 py-3 text-sm text-zinc-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-zinc-900 dark:focus:ring-zinc-50 focus:border-transparent transition-all placeholder:text-zinc-400 shadow-sm",disabled:o})]}),S.jsxs("div",{className:"relative group",children:[S.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400 group-focus-within:text-zinc-900 dark:group-focus-within:text-zinc-100 transition-colors pointer-events-none",children:S.jsx(Nx,{size:14})}),S.jsx("input",{type:"email",value:y,onChange:A=>_(A.target.value),placeholder:"Approver Email",className:"w-full bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 rounded-xl pl-9 pr-4 py-3 text-sm text-zinc-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-zinc-900 dark:focus:ring-zinc-50 focus:border-transparent transition-all placeholder:text-zinc-400 shadow-sm",disabled:o})]})]}),S.jsx("textarea",{value:u,onChange:A=>d(A.target.value),placeholder:"Add notes, reasoning, or specific feedback...",className:"w-full bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 rounded-xl px-4 py-3 text-sm text-zinc-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-zinc-900 dark:focus:ring-zinc-50 focus:border-transparent transition-all resize-none placeholder:text-zinc-400 shadow-sm",rows:3,disabled:o})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[S.jsxs("button",{onClick:()=>T("rejected"),disabled:o,className:"flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 text-zinc-700 dark:text-zinc-300 hover:bg-red-50 hover:text-red-600 hover:border-red-200 dark:hover:bg-red-900/20 dark:hover:text-red-400 dark:hover:border-red-900/30 font-semibold text-sm transition-all disabled:opacity-50 shadow-sm",children:[S.jsx(Yl,{size:16}),"Reject"]}),S.jsxs("button",{onClick:()=>T("approved"),disabled:o,className:"flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 hover:opacity-90 font-semibold text-sm transition-all shadow-md hover:shadow-lg disabled:opacity-50",children:[o?S.jsx(Bf,{size:16,className:"animate-spin"}):S.jsx(gs,{size:16,strokeWidth:3}),o?"Sending...":"Approve"]})]})]})},vO=({prd:t,onBack:e,onComment:n,onUpvote:r,onStatusChange:o})=>{var P;const[a,u]=Te.useState(""),[d,p]=Te.useState(!1),[f,y]=Te.useState(!1),_=t.publicSettings||{allowComments:!0,allowUpvotes:!0,enableApprovalFlow:!1},{allowComments:x,allowUpvotes:b,enableApprovalFlow:T}=_,A=async()=>{d||(p(!0),await r())},R=async N=>{N.preventDefault(),a.trim()&&(await n(a),u(""))},k=()=>{const N=window.location.href.includes("view=public")?window.location.href:`${window.location.origin}${window.location.pathname}?id=${t.id}&view=public`;navigator.clipboard.writeText(N),y(!0),setTimeout(()=>y(!1),2e3)};return S.jsxs("div",{className:"min-h-screen bg-zinc-50/50 dark:bg-zinc-950 transition-colors duration-300",children:[S.jsx("nav",{className:"bg-white/80 dark:bg-zinc-900/80 backdrop-blur-sm border-b border-zinc-200 dark:border-zinc-800 sticky top-0 z-10",children:S.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx(vt,{variant:"ghost",size:"sm",onClick:e,leftIcon:S.jsx(Lf,{size:16}),children:"Editor"}),t.approvalStatus==="approved"&&S.jsxs("div",{className:"hidden sm:flex items-center gap-1.5 px-3 py-1 rounded-full bg-green-500 text-white shadow-sm animate-enter",children:[S.jsx(qo,{size:12,fill:"currentColor",strokeWidth:2.5}),S.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:"Approved"})]})]}),S.jsx("div",{className:"flex items-center gap-3",children:S.jsx(vt,{variant:"outline",size:"sm",onClick:k,leftIcon:f?S.jsx(gs,{size:14,className:"text-green-500"}):S.jsx(_M,{size:14}),children:f?"Copied Link":"Share"})})]})}),S.jsxs("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12 space-y-12",children:[S.jsx("div",{className:"w-full",children:S.jsx(gb,{prd:t})}),(x||b||T)&&S.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-8 animate-enter pb-16",children:[T&&S.jsx(yO,{prdId:t.id,prdTitle:t.productName,currentStatus:t.approvalStatus||"pending",onStatusChange:o}),(x||b)&&S.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl border border-zinc-200 dark:border-zinc-800 p-6 sm:p-8 shadow-sm",children:[b&&S.jsxs("div",{className:"flex items-center justify-between mb-8",children:[S.jsxs("div",{className:"flex flex-col",children:[S.jsx("span",{className:"text-[10px] font-bold text-zinc-400 dark:text-zinc-500 uppercase tracking-widest",children:"Community"}),S.jsxs("span",{className:"text-2xl font-bold text-zinc-900 dark:text-white tracking-tight",children:[t.upvotes||0," Upvotes"]})]}),S.jsx("button",{onClick:A,disabled:d,className:`
                          w-12 h-12 rounded-full flex items-center justify-center transition-all
                          ${d?"bg-zinc-900 dark:bg-zinc-50 text-white dark:text-zinc-900 shadow-md transform scale-105 cursor-default":"bg-zinc-100 dark:bg-zinc-800 text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-700"}
                        `,children:S.jsx(Ix,{size:20,fill:d?"currentColor":"none"})})]}),b&&x&&S.jsx("div",{className:"h-px bg-zinc-100 dark:bg-zinc-800 w-full my-8"}),x&&S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"mb-6 flex items-center gap-2",children:S.jsxs("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white",children:["Discussion (",((P=t.comments)==null?void 0:P.length)||0,")"]})}),S.jsx("div",{className:"space-y-6 mb-8",children:t.comments&&t.comments.length>0?t.comments.map(N=>S.jsxs("div",{className:"flex gap-4 animate-enter",children:[S.jsx("img",{src:N.avatar,alt:N.author,className:"w-10 h-10 rounded-full flex-shrink-0 bg-zinc-200 dark:bg-zinc-800"}),S.jsxs("div",{className:"space-y-1.5 w-full",children:[S.jsxs("div",{className:"flex justify-between items-baseline",children:[S.jsx("span",{className:"font-semibold text-zinc-900 dark:text-zinc-100 text-sm",children:N.author}),S.jsx("span",{className:"text-xs text-zinc-400 dark:text-zinc-500",children:N.date})]}),S.jsx("p",{className:"text-zinc-600 dark:text-zinc-300 text-sm leading-relaxed",children:N.text})]})]},N.id)):S.jsx("p",{className:"text-sm text-zinc-400 italic",children:"No comments yet. Be the first!"})}),S.jsx("form",{onSubmit:R,className:"relative",children:S.jsx("input",{type:"text",value:a,onChange:N=>u(N.target.value),placeholder:"Add a comment...",className:"w-full border border-zinc-200 dark:border-zinc-700 rounded-full px-5 py-3 focus:outline-none focus:ring-2 focus:ring-zinc-900 dark:focus:ring-zinc-50 focus:border-transparent bg-zinc-50 dark:bg-zinc-800 text-zinc-900 dark:text-white transition-all placeholder:text-zinc-400 text-sm"})})]})]})]})]})]})},_O=({onStart:t})=>S.jsxs("div",{className:"min-h-screen bg-[#FAFAFA] dark:bg-[#09090b] text-zinc-900 dark:text-zinc-50 flex flex-col font-sans selection:bg-zinc-900 selection:text-white dark:selection:bg-zinc-100 dark:selection:text-zinc-900",children:[S.jsx("nav",{className:"border-b border-zinc-200/50 dark:border-zinc-800/50 bg-white/50 dark:bg-zinc-950/50 backdrop-blur-md sticky top-0 z-50",children:S.jsxs("div",{className:"max-w-6xl mx-auto px-6 h-20 flex items-center justify-between w-full",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"bg-zinc-900 dark:bg-white text-white dark:text-zinc-900 w-9 h-9 rounded-lg flex items-center justify-center shadow-sm",children:S.jsx(Ol,{size:18,strokeWidth:2.5})}),S.jsx("span",{className:"text-lg font-bold tracking-tight text-zinc-900 dark:text-white",children:"Propel"})]}),S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsxs("button",{className:"flex items-center gap-2 text-sm font-medium text-zinc-500 hover:text-zinc-900 dark:hover:text-white transition-colors hidden sm:flex px-3 py-2 rounded-md hover:bg-zinc-100 dark:hover:bg-zinc-800",title:"Import JSON (Coming Soon)",children:[S.jsx(Ax,{size:16}),"Import JSON"]}),S.jsx(vt,{size:"sm",onClick:t,children:"Get Started"})]})]})}),S.jsxs("main",{className:"flex-1 flex flex-col",children:[S.jsxs("header",{className:"flex flex-col items-center justify-center text-center px-6 pt-24 pb-16 md:pt-32 md:pb-20 max-w-4xl mx-auto animate-enter",children:[S.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 shadow-sm mb-8 hover:border-zinc-300 dark:hover:border-zinc-700 transition-colors cursor-default",children:[S.jsx(ys,{size:12,className:"text-amber-500 fill-amber-500"}),S.jsx("span",{className:"text-xs font-bold text-zinc-600 dark:text-zinc-300 tracking-wide uppercase",children:"v1.0 Powered by Gemini"})]}),S.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold tracking-tight text-zinc-900 dark:text-white leading-[1.1] mb-6",children:["Product Requirements, ",S.jsx("br",{className:"hidden md:block"}),S.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-br from-zinc-900 via-zinc-600 to-zinc-900 dark:from-white dark:via-zinc-400 dark:to-white animate-gradient",children:"engineered for speed."})]}),S.jsx("p",{className:"text-lg md:text-xl text-zinc-500 dark:text-zinc-400 max-w-2xl leading-relaxed mb-10",children:"Propel is the AI-native workspace for PMs. Generate user stories, refine acceptance criteria, and sync approvals with your engineering pipeline via Webhooks."}),S.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full sm:w-auto",children:[S.jsx(vt,{size:"lg",onClick:t,rightIcon:S.jsx(qf,{size:18}),className:"h-14 px-8 text-lg w-full sm:w-auto shadow-xl shadow-zinc-200/50 dark:shadow-zinc-900/50",children:"Start Writing"}),S.jsx(vt,{size:"lg",variant:"outline",onClick:t,className:"h-14 px-8 text-lg w-full sm:w-auto bg-white dark:bg-zinc-900",children:"View Documentation"})]})]}),S.jsx("section",{className:"px-6 mb-24 md:mb-32",children:S.jsxs("div",{className:"max-w-5xl mx-auto relative group",children:[S.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-zinc-200 to-zinc-400 dark:from-zinc-800 dark:to-zinc-700 rounded-2xl blur opacity-25 group-hover:opacity-50 transition duration-1000"}),S.jsxs("div",{className:"relative bg-white dark:bg-[#0C0C0E] rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-2xl overflow-hidden aspect-[16/10] md:aspect-[21/9] flex flex-col",children:[S.jsxs("div",{className:"h-10 border-b border-zinc-100 dark:border-zinc-800 bg-zinc-50/50 dark:bg-zinc-900/50 flex items-center px-4 gap-2",children:[S.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400/80"}),S.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-400/80"}),S.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400/80"}),S.jsx("div",{className:"ml-4 h-5 w-64 bg-zinc-200 dark:bg-zinc-800 rounded-md opacity-50"})]}),S.jsxs("div",{className:"flex-1 p-8 md:p-12 flex gap-8",children:[S.jsxs("div",{className:"w-1/4 space-y-4 hidden md:block",children:[S.jsx("div",{className:"h-4 w-2/3 bg-zinc-100 dark:bg-zinc-800 rounded"}),S.jsx("div",{className:"h-4 w-full bg-zinc-100 dark:bg-zinc-800 rounded opacity-60"}),S.jsx("div",{className:"h-4 w-3/4 bg-zinc-100 dark:bg-zinc-800 rounded opacity-60"}),S.jsx("div",{className:"h-4 w-1/2 bg-zinc-100 dark:bg-zinc-800 rounded opacity-60"})]}),S.jsxs("div",{className:"flex-1 space-y-6",children:[S.jsxs("div",{className:"space-y-3",children:[S.jsx("div",{className:"h-8 w-1/3 bg-zinc-900 dark:bg-zinc-100 rounded-lg opacity-10 dark:opacity-20"}),S.jsx("div",{className:"h-4 w-3/4 bg-zinc-200 dark:bg-zinc-800 rounded opacity-50"})]}),S.jsxs("div",{className:"p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 bg-zinc-50/50 dark:bg-zinc-900/20 space-y-3",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[S.jsx("div",{className:"w-6 h-6 rounded-full bg-indigo-500/20 text-indigo-500 flex items-center justify-center",children:S.jsx(ys,{size:12,fill:"currentColor"})}),S.jsx("div",{className:"h-3 w-24 bg-zinc-200 dark:bg-zinc-800 rounded"})]}),S.jsx("div",{className:"h-3 w-full bg-zinc-200 dark:bg-zinc-800 rounded opacity-60"}),S.jsx("div",{className:"h-3 w-full bg-zinc-200 dark:bg-zinc-800 rounded opacity-60"}),S.jsx("div",{className:"h-3 w-2/3 bg-zinc-200 dark:bg-zinc-800 rounded opacity-60"})]})]})]})]})]})}),S.jsx("section",{className:"py-24 border-t border-zinc-200/50 dark:border-zinc-800/50",children:S.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[S.jsxs("div",{className:"mb-16 md:text-center max-w-2xl mx-auto",children:[S.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-white mb-4",children:"Everything you need to ship."}),S.jsx("p",{className:"text-zinc-500 dark:text-zinc-400",children:"From the first draft to the final approval, Propel provides the structure and intelligence your product team needs."})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:[S.jsxs("div",{className:"p-8 rounded-3xl bg-white dark:bg-zinc-900/40 border border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700 transition-colors",children:[S.jsx("div",{className:"w-12 h-12 bg-zinc-50 dark:bg-zinc-900 rounded-2xl flex items-center justify-center text-zinc-900 dark:text-white mb-6 border border-zinc-100 dark:border-zinc-800 shadow-sm",children:S.jsx(IM,{size:24})}),S.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white mb-2",children:"No Account Needed"}),S.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 leading-relaxed",children:"Start immediately. No sign-up walls or tracking. Your data is stored locally in your browser, ensuring privacy by default."})]}),S.jsxs("div",{className:"p-8 rounded-3xl bg-white dark:bg-zinc-900/40 border border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700 transition-colors",children:[S.jsx("div",{className:"w-12 h-12 bg-zinc-50 dark:bg-zinc-900 rounded-2xl flex items-center justify-center text-zinc-900 dark:text-white mb-6 border border-zinc-100 dark:border-zinc-800 shadow-sm",children:S.jsx(kx,{size:24})}),S.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white mb-2",children:"Bring Your Own Key"}),S.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 leading-relaxed",children:"Connect your own Gemini API key. You pay Google directly, avoiding vendor markup and retaining full control over limits."})]}),S.jsxs("div",{className:"p-8 rounded-3xl bg-white dark:bg-zinc-900/40 border border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700 transition-colors",children:[S.jsx("div",{className:"w-12 h-12 bg-zinc-50 dark:bg-zinc-900 rounded-2xl flex items-center justify-center text-zinc-900 dark:text-white mb-6 border border-zinc-100 dark:border-zinc-800 shadow-sm",children:S.jsx(ys,{size:24})}),S.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white mb-2",children:"Context-Aware AI"}),S.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 leading-relaxed",children:"Generate comprehensive PRD sections like Risks and Success Metrics instantly, tailored to your product description."})]}),S.jsxs("div",{className:"p-8 rounded-3xl bg-white dark:bg-zinc-900/40 border border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700 transition-colors",children:[S.jsx("div",{className:"w-12 h-12 bg-zinc-50 dark:bg-zinc-900 rounded-2xl flex items-center justify-center text-zinc-900 dark:text-white mb-6 border border-zinc-100 dark:border-zinc-800 shadow-sm",children:S.jsx(qo,{size:24})}),S.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white mb-2",children:"Approval Workflows"}),S.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 leading-relaxed",children:"Formalize the process. Stakeholders can review, comment, and officially approve PRDs with a tracked audit trail."})]}),S.jsxs("div",{className:"p-8 rounded-3xl bg-[#0F0F12] border border-zinc-800 text-white md:col-span-2 relative overflow-hidden group flex flex-col md:flex-row gap-8 items-start",children:[S.jsxs("div",{className:"relative z-10 flex-1 flex flex-col h-full justify-between",children:[S.jsxs("div",{children:[S.jsx("div",{className:"w-12 h-12 bg-zinc-800 rounded-2xl flex items-center justify-center text-white mb-6 shadow-lg border border-zinc-700",children:S.jsx(zx,{size:24})}),S.jsx("h3",{className:"text-xl font-bold mb-3 text-white",children:"Powerful Webhook Integrations"}),S.jsx("p",{className:"text-zinc-400 leading-relaxed text-sm",children:'Connect your PRDs to your engineering stack. Automatically trigger CI/CD pipelines, create Jira epics, or notify Slack channels when a PRD status changes to "Approved".'})]}),S.jsxs("div",{className:"flex items-center gap-3 mt-8",children:[S.jsx("div",{className:"px-3 py-1.5 rounded-md bg-white/10 text-zinc-300 text-xs font-mono backdrop-blur-md border border-white/10",children:"POST /api/webhooks"}),S.jsxs("div",{className:"px-3 py-1.5 rounded-md bg-green-500/10 text-green-400 text-xs font-bold flex items-center gap-1.5 border border-green-500/20",children:[S.jsx(Cx,{size:12}),S.jsx("span",{children:"200 OK"})]})]})]}),S.jsx("div",{className:"relative z-10 w-full md:w-80 flex-shrink-0",children:S.jsxs("div",{className:"rounded-xl overflow-hidden bg-[#000000] border border-zinc-800 shadow-2xl",children:[S.jsxs("div",{className:"flex items-center gap-1.5 px-4 py-3 border-b border-zinc-800/50 bg-zinc-900/50",children:[S.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-500/50"}),S.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-amber-500/50"}),S.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-500/50"})]}),S.jsxs("div",{className:"p-4 font-mono text-[10px] sm:text-xs leading-relaxed text-zinc-300",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-2 text-zinc-500 select-none",children:[S.jsx(kM,{size:12}),S.jsx("span",{children:"payload.json"})]}),S.jsx("div",{children:S.jsx("span",{className:"text-purple-400",children:"{"})}),S.jsxs("div",{className:"pl-4",children:[S.jsx("span",{className:"text-blue-400",children:'"event"'}),": ",S.jsx("span",{className:"text-green-400",children:'"prd_approved"'}),","]}),S.jsxs("div",{className:"pl-4",children:[S.jsx("span",{className:"text-blue-400",children:'"prd_id"'}),": ",S.jsx("span",{className:"text-green-400",children:'"propel_123"'}),","]}),S.jsxs("div",{className:"pl-4",children:[S.jsx("span",{className:"text-blue-400",children:'"title"'}),": ",S.jsx("span",{className:"text-green-400",children:'"Q4 Roadmap"'}),","]}),S.jsxs("div",{className:"pl-4",children:[S.jsx("span",{className:"text-blue-400",children:'"approver"'}),": ",S.jsx("span",{className:"text-purple-400",children:"{"})]}),S.jsxs("div",{className:"pl-8",children:[S.jsx("span",{className:"text-blue-400",children:'"email"'}),": ",S.jsx("span",{className:"text-green-400",children:'"alice@co.com"'})]}),S.jsx("div",{className:"pl-4",children:S.jsx("span",{className:"text-purple-400",children:"}"})}),S.jsx("div",{children:S.jsx("span",{className:"text-purple-400",children:"}"})})]})]})}),S.jsx("div",{className:"absolute right-0 top-0 w-2/3 h-full bg-gradient-to-l from-indigo-500/10 to-transparent pointer-events-none mix-blend-screen"}),S.jsx("div",{className:"absolute bottom-0 right-10 w-40 h-40 bg-purple-500/10 blur-[60px] pointer-events-none rounded-full"})]})]})]})}),S.jsx("section",{className:"py-24 px-6 text-center",children:S.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[S.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-zinc-900 dark:text-white tracking-tight",children:"Ready to propel your product?"}),S.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-lg",children:"Join thousands of Product Managers building the future with AI assistance. No credit card required."}),S.jsx("div",{className:"flex justify-center",children:S.jsx(vt,{size:"lg",onClick:t,className:"h-14 px-10 text-lg shadow-xl shadow-zinc-900/10 dark:shadow-black/50",children:"Create New PRD"})})]})})]}),S.jsx("footer",{className:"py-12 border-t border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-950",children:S.jsxs("div",{className:"max-w-6xl mx-auto px-6 flex flex-col md:flex-row items-center justify-between gap-6",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-6 h-6 rounded bg-zinc-900 dark:bg-white flex items-center justify-center text-white dark:text-zinc-900",children:S.jsx(Ol,{size:12,strokeWidth:3})}),S.jsx("span",{className:"font-bold text-zinc-900 dark:text-white tracking-tight",children:"Propel"})]}),S.jsxs("p",{className:"text-zinc-400 dark:text-zinc-600 text-sm",children:[" ",new Date().getFullYear()," Propel PRD. Built with Bolt.new."]})]})})]}),xO=({isOpen:t,onClose:e,onConfirm:n,initialSettings:r})=>{const[o,a]=Te.useState(r);if(!t)return null;const u=d=>{a(p=>({...p,[d]:!p[d]}))};return S.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[S.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity",onClick:e}),S.jsxs("div",{className:"relative bg-white dark:bg-zinc-900 rounded-2xl w-full max-w-md shadow-2xl border border-zinc-200 dark:border-zinc-800 p-6 animate-enter",children:[S.jsxs("div",{className:"flex items-center justify-between mb-6",children:[S.jsx("h2",{className:"text-xl font-bold text-zinc-900 dark:text-white",children:"Publish Settings"}),S.jsx("button",{onClick:e,className:"text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300",children:S.jsx(Yl,{size:20})})]}),S.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 mb-6",children:"Configure how your PRD appears to the public. You can change these settings later."}),S.jsxs("div",{className:"space-y-3 mb-8",children:[S.jsxs("div",{onClick:()=>u("allowComments"),className:`
              flex items-center justify-between p-4 rounded-xl border cursor-pointer transition-all
              ${o.allowComments?"border-zinc-900 bg-zinc-50 dark:bg-zinc-800 dark:border-zinc-700":"border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900"}
            `,children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:`p-2 rounded-full ${o.allowComments?"bg-zinc-900 text-white dark:bg-zinc-50 dark:text-zinc-900":"bg-zinc-100 text-zinc-400 dark:bg-zinc-800"}`,children:S.jsx(eM,{size:16})}),S.jsx("div",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100",children:"Allow Comments"})]}),S.jsx("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center ${o.allowComments?"bg-zinc-900 border-zinc-900 dark:bg-zinc-50 dark:border-zinc-50":"border-zinc-300 dark:border-zinc-700"}`,children:o.allowComments&&S.jsx(gs,{size:12,className:"text-white dark:text-zinc-900",strokeWidth:4})})]}),S.jsxs("div",{onClick:()=>u("allowUpvotes"),className:`
              flex items-center justify-between p-4 rounded-xl border cursor-pointer transition-all
              ${o.allowUpvotes?"border-zinc-900 bg-zinc-50 dark:bg-zinc-800 dark:border-zinc-700":"border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900"}
            `,children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:`p-2 rounded-full ${o.allowUpvotes?"bg-zinc-900 text-white dark:bg-zinc-50 dark:text-zinc-900":"bg-zinc-100 text-zinc-400 dark:bg-zinc-800"}`,children:S.jsx(Ix,{size:16})}),S.jsx("div",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100",children:"Enable Upvotes"})]}),S.jsx("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center ${o.allowUpvotes?"bg-zinc-900 border-zinc-900 dark:bg-zinc-50 dark:border-zinc-50":"border-zinc-300 dark:border-zinc-700"}`,children:o.allowUpvotes&&S.jsx(gs,{size:12,className:"text-white dark:text-zinc-900",strokeWidth:4})})]}),S.jsxs("div",{onClick:()=>u("enableApprovalFlow"),className:`
              flex items-center justify-between p-4 rounded-xl border cursor-pointer transition-all
              ${o.enableApprovalFlow?"border-zinc-900 bg-zinc-50 dark:bg-zinc-800 dark:border-zinc-700":"border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900"}
            `,children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:`p-2 rounded-full ${o.enableApprovalFlow?"bg-zinc-900 text-white dark:bg-zinc-50 dark:text-zinc-900":"bg-zinc-100 text-zinc-400 dark:bg-zinc-800"}`,children:S.jsx(qo,{size:16})}),S.jsx("div",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100",children:"Enable Client Approval Flow"})]}),S.jsx("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center ${o.enableApprovalFlow?"bg-zinc-900 border-zinc-900 dark:bg-zinc-50 dark:border-zinc-50":"border-zinc-300 dark:border-zinc-700"}`,children:o.enableApprovalFlow&&S.jsx(gs,{size:12,className:"text-white dark:text-zinc-900",strokeWidth:4})})]})]}),S.jsxs("div",{className:"flex gap-3",children:[S.jsx(vt,{variant:"outline",onClick:e,className:"flex-1",children:"Cancel"}),S.jsx(vt,{variant:"primary",onClick:()=>n(o),className:"flex-1",children:"Confirm & Publish"})]})]})]})},bO=({isOpen:t,onClose:e,settings:n,onSave:r})=>{const[o,a]=Te.useState(n),[u,d]=Te.useState("idle");Te.useEffect(()=>{t&&(a(n),d("idle"))},[t,n]);const p=async()=>{if(!o.webhookUrl)return;d("loading");const f=new Promise(_=>setTimeout(_,600)),[y]=await Promise.all([bN(o.webhookUrl),f]);d(y?"success":"error"),setTimeout(()=>{d("idle")},3e3)};return t?S.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[S.jsx("div",{className:"absolute inset-0 bg-zinc-900/40 backdrop-blur-sm transition-opacity",onClick:e}),S.jsxs("div",{className:"relative bg-white dark:bg-zinc-900 rounded-2xl w-full max-w-2xl shadow-2xl border border-zinc-200 dark:border-zinc-800 flex flex-col max-h-[90vh] animate-enter",children:[S.jsxs("div",{className:"px-8 py-6 border-b border-zinc-100 dark:border-zinc-800 flex items-center justify-between flex-shrink-0",children:[S.jsxs("div",{children:[S.jsxs("h2",{className:"text-xl font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[S.jsx(Hf,{size:24,className:"text-zinc-900 dark:text-white"}),"Configuration"]}),S.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 mt-1",children:"Manage your AI model, integrations, and preferences."})]}),S.jsx("button",{onClick:e,className:"p-2 -mr-2 text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors rounded-full hover:bg-zinc-100 dark:hover:bg-zinc-800",children:S.jsx(Yl,{size:20})})]}),S.jsxs("div",{className:"overflow-y-auto flex-1 px-8 py-8 space-y-10",children:[S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 md:gap-8",children:[S.jsxs("div",{className:"md:col-span-4",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[S.jsx(fI,{size:18,className:"text-indigo-600 dark:text-indigo-400"}),S.jsx("h3",{className:"text-sm font-bold text-zinc-900 dark:text-white",children:"AI Engine"})]}),S.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 leading-relaxed",children:"Configure the Gemini model used for generation and your API credentials."})]}),S.jsxs("div",{className:"md:col-span-8 space-y-5",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"block text-xs font-bold text-zinc-700 dark:text-zinc-300 uppercase tracking-wider",children:"Gemini Model"}),S.jsxs("div",{className:"relative",children:[S.jsx(kI,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400 pointer-events-none"}),S.jsxs("select",{value:o.geminiModel,onChange:f=>a({...o,geminiModel:f.target.value}),className:"w-full bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 rounded-xl pl-10 pr-4 py-3 text-sm text-zinc-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-zinc-900 dark:focus:ring-zinc-50 focus:border-transparent appearance-none cursor-pointer shadow-sm hover:border-zinc-400 dark:hover:border-zinc-700 transition-colors",children:[S.jsx("option",{value:"gemini-2.5-flash",children:"Gemini 2.5 Flash (Fast & Efficient)"}),S.jsx("option",{value:"gemini-3-pro-preview",children:"Gemini 3.0 Pro (Complex Reasoning)"})]})]})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"block text-xs font-bold text-zinc-700 dark:text-zinc-300 uppercase tracking-wider",children:"API Key"}),S.jsxs("div",{className:"relative",children:[S.jsx(kx,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400 pointer-events-none"}),S.jsx("input",{type:"password",value:o.geminiApiKey,onChange:f=>a({...o,geminiApiKey:f.target.value}),placeholder:"Enter your Google GenAI API Key",className:"w-full bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 rounded-xl pl-10 pr-4 py-3 text-sm text-zinc-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-zinc-900 dark:focus:ring-zinc-50 focus:border-transparent placeholder:text-zinc-400 shadow-sm transition-all"})]}),S.jsx("p",{className:"text-[10px] text-zinc-400",children:"Leave empty to use the system default key (if configured)."})]})]})]}),S.jsx("div",{className:"h-px bg-zinc-100 dark:bg-zinc-800 w-full"}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 md:gap-8",children:[S.jsxs("div",{className:"md:col-span-4",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[S.jsx(zx,{size:18,className:"text-pink-600 dark:text-pink-400"}),S.jsx("h3",{className:"text-sm font-bold text-zinc-900 dark:text-white",children:"Webhooks"})]}),S.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 leading-relaxed",children:"Send a JSON payload to an external URL when the PRD approval status changes."})]}),S.jsxs("div",{className:"md:col-span-8 space-y-3",children:[S.jsx("label",{className:"block text-xs font-bold text-zinc-700 dark:text-zinc-300 uppercase tracking-wider",children:"Endpoint URL"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("div",{className:"relative flex-1",children:S.jsx("input",{type:"url",value:o.webhookUrl,onChange:f=>{a({...o,webhookUrl:f.target.value}),d("idle")},placeholder:"https://api.yourdomain.com/webhooks/prd-approval",className:"w-full bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 rounded-xl px-4 py-3 text-sm text-zinc-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-zinc-900 dark:focus:ring-zinc-50 focus:border-transparent placeholder:text-zinc-400 shadow-sm transition-all"})}),S.jsxs(vt,{type:"button",variant:"secondary",onClick:p,disabled:!o.webhookUrl||u==="loading",className:`
                                min-w-[100px] transition-all duration-300
                                ${u==="success"?"border-green-300 bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-300 dark:border-green-800":""}
                                ${u==="error"?"border-red-300 bg-red-50 text-red-700 dark:bg-red-900/20 dark:text-red-300 dark:border-red-800":""}
                            `,children:[u==="loading"&&S.jsx(Bf,{size:16,className:"animate-spin"}),u==="success"&&S.jsxs("div",{className:"flex items-center gap-1.5 animate-enter",children:[S.jsx(Cx,{size:16}),S.jsx("span",{children:"200 OK"})]}),u==="error"&&S.jsxs("div",{className:"flex items-center gap-1.5 animate-enter",children:[S.jsx(Tx,{size:16}),S.jsx("span",{children:"Failed"})]}),u==="idle"&&S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(BM,{size:16}),S.jsx("span",{children:"Test"})]})]})]})]})]}),S.jsx("div",{className:"h-px bg-zinc-100 dark:bg-zinc-800 w-full"}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 md:gap-8",children:[S.jsxs("div",{className:"md:col-span-4",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[S.jsx(Nx,{size:18,className:"text-blue-600 dark:text-blue-400"}),S.jsx("h3",{className:"text-sm font-bold text-zinc-900 dark:text-white",children:"Notifications"})]}),S.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 leading-relaxed",children:"Where should we send confirmation emails and export links?"})]}),S.jsxs("div",{className:"md:col-span-8 space-y-3",children:[S.jsx("label",{className:"block text-xs font-bold text-zinc-700 dark:text-zinc-300 uppercase tracking-wider",children:"Email Address"}),S.jsx("input",{type:"email",value:o.email,onChange:f=>a({...o,email:f.target.value}),placeholder:"you@company.com",className:"w-full bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 rounded-xl px-4 py-3 text-sm text-zinc-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-zinc-900 dark:focus:ring-zinc-50 focus:border-transparent placeholder:text-zinc-400 shadow-sm transition-all"})]})]})]}),S.jsxs("div",{className:"px-8 py-6 border-t border-zinc-100 dark:border-zinc-800 flex justify-end gap-3 flex-shrink-0 bg-zinc-50/50 dark:bg-zinc-900/50 rounded-b-2xl",children:[S.jsx(vt,{variant:"ghost",onClick:e,children:"Cancel"}),S.jsx(vt,{variant:"primary",onClick:()=>r(o),leftIcon:S.jsx(pM,{size:16}),children:"Save Changes"})]})]})]}):null},SO=({view:t,onViewChange:e,steps:n})=>S.jsx("div",{className:"md:hidden px-4 pb-4 pt-2 bg-white/80 dark:bg-zinc-950/80 backdrop-blur-md sticky top-20 z-20 flex justify-center w-full border-b border-zinc-200/50 dark:border-zinc-800/50",children:S.jsx("div",{className:"flex items-center space-x-2 bg-zinc-100 dark:bg-zinc-900 p-2 rounded-full shadow-inner overflow-x-auto max-w-full",children:n.map(r=>{const o=t===r.id;return S.jsxs("button",{onClick:()=>e(r.id),className:`
                          flex items-center gap-2 px-5 py-3 rounded-full text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap
                          ${o?"bg-white dark:bg-zinc-800 text-zinc-900 dark:text-white shadow-sm ring-1 ring-black/5 dark:ring-white/5":"text-zinc-500 dark:text-zinc-400 hover:text-zinc-700 dark:hover:text-zinc-200"}
                      `,children:[o&&S.jsx("span",{className:"opacity-75",children:r.icon}),r.label]},r.id)})})}),wO=()=>{const{view:t,setView:e,isLoading:n,prd:r,scrolled:o,isDark:a,toggleTheme:u,settings:d,isSettingsOpen:p,setIsSettingsOpen:f,handleUpdateSettings:y,handleSectionToggle:_,updateSectionContent:x,updateContext:b,getGenerationContext:T,handleGenerateDescription:A,handleGenerateSection:R,handleGenerateAll:k,initiatePublish:P,confirmPublish:N,isPublishModalOpen:F,setIsPublishModalOpen:W,loadingStates:U,handlePublicComment:$,handlePublicUpvote:se,handleStatusChange:Z}=eI(),ae=[{id:"config",label:"Structure",icon:S.jsx(Hf,{size:16})},{id:"edit",label:"Write",icon:S.jsx(Jl,{size:16})},{id:"preview",label:"Preview",icon:S.jsx(Ul,{size:16})}];return n?S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#FAFAFA] dark:bg-[#09090b]",children:S.jsxs("div",{className:"flex flex-col items-center gap-4 animate-enter",children:[S.jsx(Bf,{size:32,className:"text-zinc-400 animate-spin"}),S.jsx("span",{className:"text-sm font-medium text-zinc-500",children:"Loading Propel..."})]})}):t==="landing"?S.jsx(_O,{onStart:()=>e("config")}):t==="public"?S.jsx(vO,{prd:r,onBack:()=>e("edit"),onComment:$,onUpvote:se,onStatusChange:Z}):S.jsxs("div",{className:"min-h-screen flex flex-col bg-[#FAFAFA] dark:bg-[#09090b] text-zinc-900 dark:text-zinc-50 font-sans transition-colors duration-300 selection:bg-zinc-900 selection:text-white dark:selection:bg-zinc-100 dark:selection:text-zinc-900",children:[S.jsx(HM,{scrolled:o,view:t,setView:e,isDark:a,toggleTheme:u,onPublish:P,onOpenSettings:()=>f(!0)}),S.jsx(SO,{view:t,onViewChange:e,steps:ae}),S.jsxs("main",{className:"flex-1 max-w-5xl mx-auto w-full px-4 sm:px-6 lg:px-8 py-8 md:py-16",children:[t==="config"&&S.jsx(GM,{prd:r,onSectionToggle:_,onNext:()=>e("edit")}),t==="edit"&&S.jsx(dO,{prd:r,context:T(),onUpdateContext:b,onUpdateSection:x,onGenerateDescription:A,onGenerateSection:R,onGenerateAll:k,onBack:()=>e("config"),onPreview:()=>e("preview"),loadingStates:U}),t==="preview"&&S.jsx(gO,{prd:r,onBack:()=>e("edit"),onPublish:P})]}),S.jsx(xO,{isOpen:F,onClose:()=>W(!1),onConfirm:N,initialSettings:r.publicSettings}),S.jsx(bO,{isOpen:p,onClose:()=>f(!1),settings:d,onSave:y})]})},yb=document.getElementById("root");if(!yb)throw new Error("Could not find root element to mount to");const EO=Gw.createRoot(yb);EO.render(S.jsx(t_.StrictMode,{children:S.jsx(wO,{})}));
