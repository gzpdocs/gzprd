function PS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function Vo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function US(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var pd={exports:{}},wo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg;function OS(){if(Wg)return wo;Wg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,a){var u=null;if(a!==void 0&&(u=""+a),o.key!==void 0&&(u=""+o.key),"key"in o){a={};for(var d in o)d!=="key"&&(a[d]=o[d])}else a=o;return o=a.ref,{$$typeof:t,type:r,key:u,ref:o!==void 0?o:null,props:a}}return wo.Fragment=e,wo.jsx=n,wo.jsxs=n,wo}var Zg;function LS(){return Zg||(Zg=1,pd.exports=OS()),pd.exports}var b=LS(),md={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function qS(){if(e0)return Te;e0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),x=Symbol.iterator;function w(M){return M===null||typeof M!="object"?null:(M=x&&M[x]||M["@@iterator"],typeof M=="function"?M:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,k={};function N(M,j,A){this.props=M,this.context=j,this.refs=k,this.updater=A||T}N.prototype.isReactComponent={},N.prototype.setState=function(M,j){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,j,"setState")},N.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function U(){}U.prototype=N.prototype;function R(M,j,A){this.props=M,this.context=j,this.refs=k,this.updater=A||T}var V=R.prototype=new U;V.constructor=R,C(V,N.prototype),V.isPureReactComponent=!0;var W=Array.isArray;function P(){}var F={H:null,A:null,T:null,S:null},ie=Object.prototype.hasOwnProperty;function te(M,j,A){var J=A.ref;return{$$typeof:t,type:M,key:j,ref:J!==void 0?J:null,props:A}}function ue(M,j){return te(M.type,j,M.props)}function se(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function X(M){var j={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(A){return j[A]})}var pe=/\/+/g;function de(M,j){return typeof M=="object"&&M!==null&&M.key!=null?X(""+M.key):j.toString(36)}function oe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(P,P):(M.status="pending",M.then(function(j){M.status==="pending"&&(M.status="fulfilled",M.value=j)},function(j){M.status==="pending"&&(M.status="rejected",M.reason=j)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function L(M,j,A,J,ne){var ee=typeof M;(ee==="undefined"||ee==="boolean")&&(M=null);var _e=!1;if(M===null)_e=!0;else switch(ee){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(M.$$typeof){case t:case e:_e=!0;break;case g:return _e=M._init,L(_e(M._payload),j,A,J,ne)}}if(_e)return ne=ne(M),_e=J===""?"."+de(M,0):J,W(ne)?(A="",_e!=null&&(A=_e.replace(pe,"$&/")+"/"),L(ne,j,A,"",function(zt){return zt})):ne!=null&&(se(ne)&&(ne=ue(ne,A+(ne.key==null||M&&M.key===ne.key?"":(""+ne.key).replace(pe,"$&/")+"/")+_e)),j.push(ne)),1;_e=0;var Ue=J===""?".":J+":";if(W(M))for(var Me=0;Me<M.length;Me++)J=M[Me],ee=Ue+de(J,Me),_e+=L(J,j,A,ee,ne);else if(Me=w(M),typeof Me=="function")for(M=Me.call(M),Me=0;!(J=M.next()).done;)J=J.value,ee=Ue+de(J,Me++),_e+=L(J,j,A,ee,ne);else if(ee==="object"){if(typeof M.then=="function")return L(oe(M),j,A,J,ne);throw j=String(M),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return _e}function Z(M,j,A){if(M==null)return M;var J=[],ne=0;return L(M,J,"","",function(ee){return j.call(A,ee,ne++)}),J}function ce(M){if(M._status===-1){var j=M._result;j=j(),j.then(function(A){(M._status===0||M._status===-1)&&(M._status=1,M._result=A)},function(A){(M._status===0||M._status===-1)&&(M._status=2,M._result=A)}),M._status===-1&&(M._status=0,M._result=j)}if(M._status===1)return M._result.default;throw M._result}var Ne=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},I={map:Z,forEach:function(M,j,A){Z(M,function(){j.apply(this,arguments)},A)},count:function(M){var j=0;return Z(M,function(){j++}),j},toArray:function(M){return Z(M,function(j){return j})||[]},only:function(M){if(!se(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Te.Activity=_,Te.Children=I,Te.Component=N,Te.Fragment=n,Te.Profiler=o,Te.PureComponent=R,Te.StrictMode=r,Te.Suspense=p,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Te.__COMPILER_RUNTIME={__proto__:null,c:function(M){return F.H.useMemoCache(M)}},Te.cache=function(M){return function(){return M.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(M,j,A){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var J=C({},M.props),ne=M.key;if(j!=null)for(ee in j.key!==void 0&&(ne=""+j.key),j)!ie.call(j,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&j.ref===void 0||(J[ee]=j[ee]);var ee=arguments.length-2;if(ee===1)J.children=A;else if(1<ee){for(var _e=Array(ee),Ue=0;Ue<ee;Ue++)_e[Ue]=arguments[Ue+2];J.children=_e}return te(M.type,ne,J)},Te.createContext=function(M){return M={$$typeof:u,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:a,_context:M},M},Te.createElement=function(M,j,A){var J,ne={},ee=null;if(j!=null)for(J in j.key!==void 0&&(ee=""+j.key),j)ie.call(j,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ne[J]=j[J]);var _e=arguments.length-2;if(_e===1)ne.children=A;else if(1<_e){for(var Ue=Array(_e),Me=0;Me<_e;Me++)Ue[Me]=arguments[Me+2];ne.children=Ue}if(M&&M.defaultProps)for(J in _e=M.defaultProps,_e)ne[J]===void 0&&(ne[J]=_e[J]);return te(M,ee,ne)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(M){return{$$typeof:d,render:M}},Te.isValidElement=se,Te.lazy=function(M){return{$$typeof:g,_payload:{_status:-1,_result:M},_init:ce}},Te.memo=function(M,j){return{$$typeof:f,type:M,compare:j===void 0?null:j}},Te.startTransition=function(M){var j=F.T,A={};F.T=A;try{var J=M(),ne=F.S;ne!==null&&ne(A,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(P,Ne)}catch(ee){Ne(ee)}finally{j!==null&&A.types!==null&&(j.types=A.types),F.T=j}},Te.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Te.use=function(M){return F.H.use(M)},Te.useActionState=function(M,j,A){return F.H.useActionState(M,j,A)},Te.useCallback=function(M,j){return F.H.useCallback(M,j)},Te.useContext=function(M){return F.H.useContext(M)},Te.useDebugValue=function(){},Te.useDeferredValue=function(M,j){return F.H.useDeferredValue(M,j)},Te.useEffect=function(M,j){return F.H.useEffect(M,j)},Te.useEffectEvent=function(M){return F.H.useEffectEvent(M)},Te.useId=function(){return F.H.useId()},Te.useImperativeHandle=function(M,j,A){return F.H.useImperativeHandle(M,j,A)},Te.useInsertionEffect=function(M,j){return F.H.useInsertionEffect(M,j)},Te.useLayoutEffect=function(M,j){return F.H.useLayoutEffect(M,j)},Te.useMemo=function(M,j){return F.H.useMemo(M,j)},Te.useOptimistic=function(M,j){return F.H.useOptimistic(M,j)},Te.useReducer=function(M,j,A){return F.H.useReducer(M,j,A)},Te.useRef=function(M){return F.H.useRef(M)},Te.useState=function(M){return F.H.useState(M)},Te.useSyncExternalStore=function(M,j,A){return F.H.useSyncExternalStore(M,j,A)},Te.useTransition=function(){return F.H.useTransition()},Te.version="19.2.0",Te}var t0;function bf(){return t0||(t0=1,md.exports=qS()),md.exports}var me=bf();const e_=Vo(me);var gd={exports:{}},So={},yd={exports:{}},vd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function BS(){return n0||(n0=1,(function(t){function e(L,Z){var ce=L.length;L.push(Z);e:for(;0<ce;){var Ne=ce-1>>>1,I=L[Ne];if(0<o(I,Z))L[Ne]=Z,L[ce]=I,ce=Ne;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var Z=L[0],ce=L.pop();if(ce!==Z){L[0]=ce;e:for(var Ne=0,I=L.length,M=I>>>1;Ne<M;){var j=2*(Ne+1)-1,A=L[j],J=j+1,ne=L[J];if(0>o(A,ce))J<I&&0>o(ne,A)?(L[Ne]=ne,L[J]=ce,Ne=J):(L[Ne]=A,L[j]=ce,Ne=j);else if(J<I&&0>o(ne,ce))L[Ne]=ne,L[J]=ce,Ne=J;else break e}}return Z}function o(L,Z){var ce=L.sortIndex-Z.sortIndex;return ce!==0?ce:L.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var p=[],f=[],g=1,_=null,x=3,w=!1,T=!1,C=!1,k=!1,N=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function V(L){for(var Z=n(f);Z!==null;){if(Z.callback===null)r(f);else if(Z.startTime<=L)r(f),Z.sortIndex=Z.expirationTime,e(p,Z);else break;Z=n(f)}}function W(L){if(C=!1,V(L),!T)if(n(p)!==null)T=!0,P||(P=!0,X());else{var Z=n(f);Z!==null&&oe(W,Z.startTime-L)}}var P=!1,F=-1,ie=5,te=-1;function ue(){return k?!0:!(t.unstable_now()-te<ie)}function se(){if(k=!1,P){var L=t.unstable_now();te=L;var Z=!0;try{e:{T=!1,C&&(C=!1,U(F),F=-1),w=!0;var ce=x;try{t:{for(V(L),_=n(p);_!==null&&!(_.expirationTime>L&&ue());){var Ne=_.callback;if(typeof Ne=="function"){_.callback=null,x=_.priorityLevel;var I=Ne(_.expirationTime<=L);if(L=t.unstable_now(),typeof I=="function"){_.callback=I,V(L),Z=!0;break t}_===n(p)&&r(p),V(L)}else r(p);_=n(p)}if(_!==null)Z=!0;else{var M=n(f);M!==null&&oe(W,M.startTime-L),Z=!1}}break e}finally{_=null,x=ce,w=!1}Z=void 0}}finally{Z?X():P=!1}}}var X;if(typeof R=="function")X=function(){R(se)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,de=pe.port2;pe.port1.onmessage=se,X=function(){de.postMessage(null)}}else X=function(){N(se,0)};function oe(L,Z){F=N(function(){L(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(L){switch(x){case 1:case 2:case 3:var Z=3;break;default:Z=x}var ce=x;x=Z;try{return L()}finally{x=ce}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(L,Z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ce=x;x=L;try{return Z()}finally{x=ce}},t.unstable_scheduleCallback=function(L,Z,ce){var Ne=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ne+ce:Ne):ce=Ne,L){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ce+I,L={id:g++,callback:Z,priorityLevel:L,startTime:ce,expirationTime:I,sortIndex:-1},ce>Ne?(L.sortIndex=ce,e(f,L),n(p)===null&&L===n(f)&&(C?(U(F),F=-1):C=!0,oe(W,ce-Ne))):(L.sortIndex=I,e(p,L),T||w||(T=!0,P||(P=!0,X()))),L},t.unstable_shouldYield=ue,t.unstable_wrapCallback=function(L){var Z=x;return function(){var ce=x;x=Z;try{return L.apply(this,arguments)}finally{x=ce}}}})(vd)),vd}var i0;function HS(){return i0||(i0=1,yd.exports=BS()),yd.exports}var _d={exports:{}},kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0;function VS(){if(r0)return kt;r0=1;var t=bf();function e(p){var f="https://react.dev/errors/"+p;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function a(p,f,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:p,containerInfo:f,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,f){if(p==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,kt.createPortal=function(p,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(p,f,null,g)},kt.flushSync=function(p){var f=u.T,g=r.p;try{if(u.T=null,r.p=2,p)return p()}finally{u.T=f,r.p=g,r.d.f()}},kt.preconnect=function(p,f){typeof p=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(p,f))},kt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},kt.preinit=function(p,f){if(typeof p=="string"&&f&&typeof f.as=="string"){var g=f.as,_=d(g,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?r.d.S(p,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:_,integrity:x,fetchPriority:w}):g==="script"&&r.d.X(p,{crossOrigin:_,integrity:x,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},kt.preinitModule=function(p,f){if(typeof p=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=d(f.as,f.crossOrigin);r.d.M(p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(p)},kt.preload=function(p,f){if(typeof p=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,_=d(g,f.crossOrigin);r.d.L(p,g,{crossOrigin:_,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},kt.preloadModule=function(p,f){if(typeof p=="string")if(f){var g=d(f.as,f.crossOrigin);r.d.m(p,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(p)},kt.requestFormReset=function(p){r.d.r(p)},kt.unstable_batchedUpdates=function(p,f){return p(f)},kt.useFormState=function(p,f,g){return u.H.useFormState(p,f,g)},kt.useFormStatus=function(){return u.H.useHostTransitionStatus()},kt.version="19.2.0",kt}var s0;function t_(){if(s0)return _d.exports;s0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_d.exports=VS(),_d.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function GS(){if(o0)return So;o0=1;var t=HS(),e=bf(),n=t_();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function p(i){if(a(i)!==i)throw Error(r(188))}function f(i){var s=i.alternate;if(!s){if(s=a(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,c=s;;){var y=l.return;if(y===null)break;var v=y.alternate;if(v===null){if(c=y.return,c!==null){l=c;continue}break}if(y.child===v.child){for(v=y.child;v;){if(v===l)return p(y),i;if(v===c)return p(y),s;v=v.sibling}throw Error(r(188))}if(l.return!==c.return)l=y,c=v;else{for(var S=!1,E=y.child;E;){if(E===l){S=!0,l=y,c=v;break}if(E===c){S=!0,c=y,l=v;break}E=E.sibling}if(!S){for(E=v.child;E;){if(E===l){S=!0,l=v,c=y;break}if(E===c){S=!0,c=v,l=y;break}E=E.sibling}if(!S)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function g(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=g(i),s!==null)return s;i=i.sibling}return null}var _=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),R=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function X(i){return i===null||typeof i!="object"?null:(i=se&&i[se]||i["@@iterator"],typeof i=="function"?i:null)}var pe=Symbol.for("react.client.reference");function de(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===pe?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case N:return"Profiler";case k:return"StrictMode";case W:return"Suspense";case P:return"SuspenseList";case te:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case T:return"Portal";case R:return i.displayName||"Context";case U:return(i._context.displayName||"Context")+".Consumer";case V:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case F:return s=i.displayName||null,s!==null?s:de(i.type)||"Memo";case ie:s=i._payload,i=i._init;try{return de(i(s))}catch{}}return null}var oe=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Ne=[],I=-1;function M(i){return{current:i}}function j(i){0>I||(i.current=Ne[I],Ne[I]=null,I--)}function A(i,s){I++,Ne[I]=i.current,i.current=s}var J=M(null),ne=M(null),ee=M(null),_e=M(null);function Ue(i,s){switch(A(ee,s),A(ne,i),A(J,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?bg(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=bg(s),i=wg(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}j(J),A(J,i)}function Me(){j(J),j(ne),j(ee)}function zt(i){i.memoizedState!==null&&A(_e,i);var s=J.current,l=wg(s,i.type);s!==l&&(A(ne,i),A(J,l))}function rt(i){ne.current===i&&(j(J),j(ne)),_e.current===i&&(j(_e),vo._currentValue=ce)}var hr,si;function Jt(i){if(hr===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);hr=s&&s[1]||"",si=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hr+i+si}var oi=!1;function pr(i,s){if(!i||oi)return"";oi=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(G){var H=G}Reflect.construct(i,[],Q)}else{try{Q.call()}catch(G){H=G}i.call(Q.prototype)}}else{try{throw Error()}catch(G){H=G}(Q=i())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),S=v[0],E=v[1];if(S&&E){var z=S.split(`
`),B=E.split(`
`);for(y=c=0;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;for(;y<B.length&&!B[y].includes("DetermineComponentFrameRoot");)y++;if(c===z.length||y===B.length)for(c=z.length-1,y=B.length-1;1<=c&&0<=y&&z[c]!==B[y];)y--;for(;1<=c&&0<=y;c--,y--)if(z[c]!==B[y]){if(c!==1||y!==1)do if(c--,y--,0>y||z[c]!==B[y]){var $=`
`+z[c].replace(" at new "," at ");return i.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",i.displayName)),$}while(1<=c&&0<=y);break}}}finally{oi=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Jt(l):""}function Jo(i,s){switch(i.tag){case 26:case 27:case 5:return Jt(i.type);case 16:return Jt("Lazy");case 13:return i.child!==s&&s!==null?Jt("Suspense Fallback"):Jt("Suspense");case 19:return Jt("SuspenseList");case 0:case 15:return pr(i.type,!1);case 11:return pr(i.type.render,!1);case 1:return pr(i.type,!0);case 31:return Jt("Activity");default:return""}}function Yo(i){try{var s="",l=null;do s+=Jo(i,l),l=i,i=i.return;while(i);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var mr=Object.prototype.hasOwnProperty,gr=t.unstable_scheduleCallback,Ns=t.unstable_cancelCallback,Zl=t.unstable_shouldYield,eu=t.unstable_requestPaint,Mt=t.unstable_now,tu=t.unstable_getCurrentPriorityLevel,Y=t.unstable_ImmediatePriority,ae=t.unstable_UserBlockingPriority,Se=t.unstable_NormalPriority,Re=t.unstable_LowPriority,Ge=t.unstable_IdlePriority,Yt=t.log,Pn=t.unstable_setDisableYieldValue,Dt=null,yt=null;function Ut(i){if(typeof Yt=="function"&&Pn(i),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(Dt,i)}catch{}}var Ke=Math.clz32?Math.clz32:bb,ai=Math.log,xn=Math.LN2;function bb(i){return i>>>=0,i===0?32:31-(ai(i)/xn|0)|0}var Ko=256,Xo=262144,Qo=4194304;function Bi(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Wo(i,s,l){var c=i.pendingLanes;if(c===0)return 0;var y=0,v=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var E=c&134217727;return E!==0?(c=E&~v,c!==0?y=Bi(c):(S&=E,S!==0?y=Bi(S):l||(l=E&~i,l!==0&&(y=Bi(l))))):(E=c&~v,E!==0?y=Bi(E):S!==0?y=Bi(S):l||(l=c&~i,l!==0&&(y=Bi(l)))),y===0?0:s!==0&&s!==y&&(s&v)===0&&(v=y&-y,l=s&-s,v>=l||v===32&&(l&4194048)!==0)?s:y}function Rs(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function wb(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nh(){var i=Qo;return Qo<<=1,(Qo&62914560)===0&&(Qo=4194304),i}function nu(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Is(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Sb(i,s,l,c,y,v){var S=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var E=i.entanglements,z=i.expirationTimes,B=i.hiddenUpdates;for(l=S&~l;0<l;){var $=31-Ke(l),Q=1<<$;E[$]=0,z[$]=-1;var H=B[$];if(H!==null)for(B[$]=null,$=0;$<H.length;$++){var G=H[$];G!==null&&(G.lane&=-536870913)}l&=~Q}c!==0&&ih(i,c,0),v!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=v&~(S&~s))}function ih(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-Ke(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|l&261930}function rh(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var c=31-Ke(l),y=1<<c;y&s|i[c]&s&&(i[c]|=s),l&=~y}}function sh(i,s){var l=s&-s;return l=(l&42)!==0?1:iu(l),(l&(i.suspendedLanes|s))!==0?0:l}function iu(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ru(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function oh(){var i=Z.p;return i!==0?i:(i=window.event,i===void 0?32:$g(i.type))}function ah(i,s){var l=Z.p;try{return Z.p=i,s()}finally{Z.p=l}}var li=Math.random().toString(36).slice(2),wt="__reactFiber$"+li,Ot="__reactProps$"+li,yr="__reactContainer$"+li,su="__reactEvents$"+li,Eb="__reactListeners$"+li,Tb="__reactHandles$"+li,lh="__reactResources$"+li,zs="__reactMarker$"+li;function ou(i){delete i[wt],delete i[Ot],delete i[su],delete i[Eb],delete i[Tb]}function vr(i){var s=i[wt];if(s)return s;for(var l=i.parentNode;l;){if(s=l[yr]||l[wt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=Ng(i);i!==null;){if(l=i[wt])return l;i=Ng(i)}return s}i=l,l=i.parentNode}return null}function _r(i){if(i=i[wt]||i[yr]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Ms(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function xr(i){var s=i[lh];return s||(s=i[lh]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function xt(i){i[zs]=!0}var uh=new Set,ch={};function Hi(i,s){br(i,s),br(i+"Capture",s)}function br(i,s){for(ch[i]=s,i=0;i<s.length;i++)uh.add(s[i])}var Cb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dh={},fh={};function Ab(i){return mr.call(fh,i)?!0:mr.call(dh,i)?!1:Cb.test(i)?fh[i]=!0:(dh[i]=!0,!1)}function Zo(i,s,l){if(Ab(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function ea(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function Un(i,s,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+c)}}function ln(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function hh(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function kb(i,s,l){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,v=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return y.call(this)},set:function(S){l=""+S,v.call(this,S)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function au(i){if(!i._valueTracker){var s=hh(i)?"checked":"value";i._valueTracker=kb(i,s,""+i[s])}}function ph(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return i&&(c=hh(i)?i.checked?"true":"false":i.value),i=c,i!==l?(s.setValue(i),!0):!1}function ta(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Nb=/[\n"\\]/g;function un(i){return i.replace(Nb,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function lu(i,s,l,c,y,v,S,E){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),s!=null?S==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+ln(s)):i.value!==""+ln(s)&&(i.value=""+ln(s)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),s!=null?uu(i,S,ln(s)):l!=null?uu(i,S,ln(l)):c!=null&&i.removeAttribute("value"),y==null&&v!=null&&(i.defaultChecked=!!v),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.name=""+ln(E):i.removeAttribute("name")}function mh(i,s,l,c,y,v,S,E){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),s!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||s!=null)){au(i);return}l=l!=null?""+ln(l):"",s=s!=null?""+ln(s):l,E||s===i.value||(i.value=s),i.defaultValue=s}c=c??y,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=E?i.checked:!!c,i.defaultChecked=!!c,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S),au(i)}function uu(i,s,l){s==="number"&&ta(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function wr(i,s,l,c){if(i=i.options,s){s={};for(var y=0;y<l.length;y++)s["$"+l[y]]=!0;for(l=0;l<i.length;l++)y=s.hasOwnProperty("$"+i[l].value),i[l].selected!==y&&(i[l].selected=y),y&&c&&(i[l].defaultSelected=!0)}else{for(l=""+ln(l),s=null,y=0;y<i.length;y++){if(i[y].value===l){i[y].selected=!0,c&&(i[y].defaultSelected=!0);return}s!==null||i[y].disabled||(s=i[y])}s!==null&&(s.selected=!0)}}function gh(i,s,l){if(s!=null&&(s=""+ln(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+ln(l):""}function yh(i,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(r(92));if(oe(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=ln(s),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c),au(i)}function Sr(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var Rb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vh(i,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,l):typeof l!="number"||l===0||Rb.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function _h(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var y in s)c=s[y],s.hasOwnProperty(y)&&l[y]!==c&&vh(i,y,c)}else for(var v in s)s.hasOwnProperty(v)&&vh(i,v,s[v])}function cu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ib=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function na(i){return zb.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function On(){}var du=null;function fu(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Er=null,Tr=null;function xh(i){var s=_r(i);if(s&&(i=s.stateNode)){var l=i[Ot]||null;e:switch(i=s.stateNode,s.type){case"input":if(lu(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+un(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==i&&c.form===i.form){var y=c[Ot]||null;if(!y)throw Error(r(90));lu(c,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===i.form&&ph(c)}break e;case"textarea":gh(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&wr(i,!!l.multiple,s,!1)}}}var hu=!1;function bh(i,s,l){if(hu)return i(s,l);hu=!0;try{var c=i(s);return c}finally{if(hu=!1,(Er!==null||Tr!==null)&&(Ga(),Er&&(s=Er,i=Tr,Tr=Er=null,xh(s),i)))for(s=0;s<i.length;s++)xh(i[s])}}function Ds(i,s){var l=i.stateNode;if(l===null)return null;var c=l[Ot]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pu=!1;if(Ln)try{var Ps={};Object.defineProperty(Ps,"passive",{get:function(){pu=!0}}),window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{pu=!1}var ui=null,mu=null,ia=null;function wh(){if(ia)return ia;var i,s=mu,l=s.length,c,y="value"in ui?ui.value:ui.textContent,v=y.length;for(i=0;i<l&&s[i]===y[i];i++);var S=l-i;for(c=1;c<=S&&s[l-c]===y[v-c];c++);return ia=y.slice(i,1<c?1-c:void 0)}function ra(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function sa(){return!0}function Sh(){return!1}function Lt(i){function s(l,c,y,v,S){this._reactName=l,this._targetInst=y,this.type=c,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var E in i)i.hasOwnProperty(E)&&(l=i[E],this[E]=l?l(v):v[E]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?sa:Sh,this.isPropagationStopped=Sh,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=sa)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=sa)},persist:function(){},isPersistent:sa}),s}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oa=Lt(Vi),Us=_({},Vi,{view:0,detail:0}),Mb=Lt(Us),gu,yu,Os,aa=_({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_u,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Os&&(Os&&i.type==="mousemove"?(gu=i.screenX-Os.screenX,yu=i.screenY-Os.screenY):yu=gu=0,Os=i),gu)},movementY:function(i){return"movementY"in i?i.movementY:yu}}),Eh=Lt(aa),Db=_({},aa,{dataTransfer:0}),Pb=Lt(Db),Ub=_({},Us,{relatedTarget:0}),vu=Lt(Ub),Ob=_({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),Lb=Lt(Ob),qb=_({},Vi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Bb=Lt(qb),Hb=_({},Vi,{data:0}),Th=Lt(Hb),Vb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $b(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Fb[i])?!!s[i]:!1}function _u(){return $b}var jb=_({},Us,{key:function(i){if(i.key){var s=Vb[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ra(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Gb[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_u,charCode:function(i){return i.type==="keypress"?ra(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ra(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Jb=Lt(jb),Yb=_({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ch=Lt(Yb),Kb=_({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_u}),Xb=Lt(Kb),Qb=_({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wb=Lt(Qb),Zb=_({},aa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ew=Lt(Zb),tw=_({},Vi,{newState:0,oldState:0}),nw=Lt(tw),iw=[9,13,27,32],xu=Ln&&"CompositionEvent"in window,Ls=null;Ln&&"documentMode"in document&&(Ls=document.documentMode);var rw=Ln&&"TextEvent"in window&&!Ls,Ah=Ln&&(!xu||Ls&&8<Ls&&11>=Ls),kh=" ",Nh=!1;function Rh(i,s){switch(i){case"keyup":return iw.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ih(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Cr=!1;function sw(i,s){switch(i){case"compositionend":return Ih(s);case"keypress":return s.which!==32?null:(Nh=!0,kh);case"textInput":return i=s.data,i===kh&&Nh?null:i;default:return null}}function ow(i,s){if(Cr)return i==="compositionend"||!xu&&Rh(i,s)?(i=wh(),ia=mu=ui=null,Cr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ah&&s.locale!=="ko"?null:s.data;default:return null}}var aw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!aw[i.type]:s==="textarea"}function Mh(i,s,l,c){Er?Tr?Tr.push(c):Tr=[c]:Er=c,s=Xa(s,"onChange"),0<s.length&&(l=new oa("onChange","change",null,l,c),i.push({event:l,listeners:s}))}var qs=null,Bs=null;function lw(i){mg(i,0)}function la(i){var s=Ms(i);if(ph(s))return i}function Dh(i,s){if(i==="change")return s}var Ph=!1;if(Ln){var bu;if(Ln){var wu="oninput"in document;if(!wu){var Uh=document.createElement("div");Uh.setAttribute("oninput","return;"),wu=typeof Uh.oninput=="function"}bu=wu}else bu=!1;Ph=bu&&(!document.documentMode||9<document.documentMode)}function Oh(){qs&&(qs.detachEvent("onpropertychange",Lh),Bs=qs=null)}function Lh(i){if(i.propertyName==="value"&&la(Bs)){var s=[];Mh(s,Bs,i,fu(i)),bh(lw,s)}}function uw(i,s,l){i==="focusin"?(Oh(),qs=s,Bs=l,qs.attachEvent("onpropertychange",Lh)):i==="focusout"&&Oh()}function cw(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return la(Bs)}function dw(i,s){if(i==="click")return la(s)}function fw(i,s){if(i==="input"||i==="change")return la(s)}function hw(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Kt=typeof Object.is=="function"?Object.is:hw;function Hs(i,s){if(Kt(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var y=l[c];if(!mr.call(s,y)||!Kt(i[y],s[y]))return!1}return!0}function qh(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Bh(i,s){var l=qh(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=s&&c>=s)return{node:l,offset:s-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=qh(l)}}function Hh(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Hh(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Vh(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ta(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=ta(i.document)}return s}function Su(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var pw=Ln&&"documentMode"in document&&11>=document.documentMode,Ar=null,Eu=null,Vs=null,Tu=!1;function Gh(i,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Tu||Ar==null||Ar!==ta(c)||(c=Ar,"selectionStart"in c&&Su(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Vs&&Hs(Vs,c)||(Vs=c,c=Xa(Eu,"onSelect"),0<c.length&&(s=new oa("onSelect","select",null,s,l),i.push({event:s,listeners:c}),s.target=Ar)))}function Gi(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var kr={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionrun:Gi("Transition","TransitionRun"),transitionstart:Gi("Transition","TransitionStart"),transitioncancel:Gi("Transition","TransitionCancel"),transitionend:Gi("Transition","TransitionEnd")},Cu={},Fh={};Ln&&(Fh=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);function Fi(i){if(Cu[i])return Cu[i];if(!kr[i])return i;var s=kr[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Fh)return Cu[i]=s[l];return i}var $h=Fi("animationend"),jh=Fi("animationiteration"),Jh=Fi("animationstart"),mw=Fi("transitionrun"),gw=Fi("transitionstart"),yw=Fi("transitioncancel"),Yh=Fi("transitionend"),Kh=new Map,Au="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Au.push("scrollEnd");function bn(i,s){Kh.set(i,s),Hi(s,[i])}var ua=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},cn=[],Nr=0,ku=0;function ca(){for(var i=Nr,s=ku=Nr=0;s<i;){var l=cn[s];cn[s++]=null;var c=cn[s];cn[s++]=null;var y=cn[s];cn[s++]=null;var v=cn[s];if(cn[s++]=null,c!==null&&y!==null){var S=c.pending;S===null?y.next=y:(y.next=S.next,S.next=y),c.pending=y}v!==0&&Xh(l,y,v)}}function da(i,s,l,c){cn[Nr++]=i,cn[Nr++]=s,cn[Nr++]=l,cn[Nr++]=c,ku|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Nu(i,s,l,c){return da(i,s,l,c),fa(i)}function $i(i,s){return da(i,null,null,s),fa(i)}function Xh(i,s,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var y=!1,v=i.return;v!==null;)v.childLanes|=l,c=v.alternate,c!==null&&(c.childLanes|=l),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(y=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,y&&s!==null&&(y=31-Ke(l),i=v.hiddenUpdates,c=i[y],c===null?i[y]=[s]:c.push(s),s.lane=l|536870912),v):null}function fa(i){if(50<co)throw co=0,Lc=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Rr={};function vw(i,s,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(i,s,l,c){return new vw(i,s,l,c)}function Ru(i){return i=i.prototype,!(!i||!i.isReactComponent)}function qn(i,s){var l=i.alternate;return l===null?(l=Xt(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Qh(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function ha(i,s,l,c,y,v){var S=0;if(c=i,typeof i=="function")Ru(i)&&(S=1);else if(typeof i=="string")S=SS(i,l,J.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case te:return i=Xt(31,l,s,y),i.elementType=te,i.lanes=v,i;case C:return ji(l.children,y,v,s);case k:S=8,y|=24;break;case N:return i=Xt(12,l,s,y|2),i.elementType=N,i.lanes=v,i;case W:return i=Xt(13,l,s,y),i.elementType=W,i.lanes=v,i;case P:return i=Xt(19,l,s,y),i.elementType=P,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case R:S=10;break e;case U:S=9;break e;case V:S=11;break e;case F:S=14;break e;case ie:S=16,c=null;break e}S=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=Xt(S,l,s,y),s.elementType=i,s.type=c,s.lanes=v,s}function ji(i,s,l,c){return i=Xt(7,i,c,s),i.lanes=l,i}function Iu(i,s,l){return i=Xt(6,i,null,s),i.lanes=l,i}function Wh(i){var s=Xt(18,null,null,0);return s.stateNode=i,s}function zu(i,s,l){return s=Xt(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Zh=new WeakMap;function dn(i,s){if(typeof i=="object"&&i!==null){var l=Zh.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Yo(s)},Zh.set(i,s),s)}return{value:i,source:s,stack:Yo(s)}}var Ir=[],zr=0,pa=null,Gs=0,fn=[],hn=0,ci=null,kn=1,Nn="";function Bn(i,s){Ir[zr++]=Gs,Ir[zr++]=pa,pa=i,Gs=s}function ep(i,s,l){fn[hn++]=kn,fn[hn++]=Nn,fn[hn++]=ci,ci=i;var c=kn;i=Nn;var y=32-Ke(c)-1;c&=~(1<<y),l+=1;var v=32-Ke(s)+y;if(30<v){var S=y-y%5;v=(c&(1<<S)-1).toString(32),c>>=S,y-=S,kn=1<<32-Ke(s)+y|l<<y|c,Nn=v+i}else kn=1<<v|l<<y|c,Nn=i}function Mu(i){i.return!==null&&(Bn(i,1),ep(i,1,0))}function Du(i){for(;i===pa;)pa=Ir[--zr],Ir[zr]=null,Gs=Ir[--zr],Ir[zr]=null;for(;i===ci;)ci=fn[--hn],fn[hn]=null,Nn=fn[--hn],fn[hn]=null,kn=fn[--hn],fn[hn]=null}function tp(i,s){fn[hn++]=kn,fn[hn++]=Nn,fn[hn++]=ci,kn=s.id,Nn=s.overflow,ci=i}var St=null,et=null,Oe=!1,di=null,pn=!1,Pu=Error(r(519));function fi(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fs(dn(s,i)),Pu}function np(i){var s=i.stateNode,l=i.type,c=i.memoizedProps;switch(s[wt]=i,s[Ot]=c,l){case"dialog":ze("cancel",s),ze("close",s);break;case"iframe":case"object":case"embed":ze("load",s);break;case"video":case"audio":for(l=0;l<ho.length;l++)ze(ho[l],s);break;case"source":ze("error",s);break;case"img":case"image":case"link":ze("error",s),ze("load",s);break;case"details":ze("toggle",s);break;case"input":ze("invalid",s),mh(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ze("invalid",s);break;case"textarea":ze("invalid",s),yh(s,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||_g(s.textContent,l)?(c.popover!=null&&(ze("beforetoggle",s),ze("toggle",s)),c.onScroll!=null&&ze("scroll",s),c.onScrollEnd!=null&&ze("scrollend",s),c.onClick!=null&&(s.onclick=On),s=!0):s=!1,s||fi(i,!0)}function ip(i){for(St=i.return;St;)switch(St.tag){case 5:case 31:case 13:pn=!1;return;case 27:case 3:pn=!0;return;default:St=St.return}}function Mr(i){if(i!==St)return!1;if(!Oe)return ip(i),Oe=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Zc(i.type,i.memoizedProps)),l=!l),l&&et&&fi(i),ip(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));et=kg(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));et=kg(i)}else s===27?(s=et,Ci(i.type)?(i=rd,rd=null,et=i):et=s):et=St?gn(i.stateNode.nextSibling):null;return!0}function Ji(){et=St=null,Oe=!1}function Uu(){var i=di;return i!==null&&(Vt===null?Vt=i:Vt.push.apply(Vt,i),di=null),i}function Fs(i){di===null?di=[i]:di.push(i)}var Ou=M(null),Yi=null,Hn=null;function hi(i,s,l){A(Ou,s._currentValue),s._currentValue=l}function Vn(i){i._currentValue=Ou.current,j(Ou)}function Lu(i,s,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===l)break;i=i.return}}function qu(i,s,l,c){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var v=y.dependencies;if(v!==null){var S=y.child;v=v.firstContext;e:for(;v!==null;){var E=v;v=y;for(var z=0;z<s.length;z++)if(E.context===s[z]){v.lanes|=l,E=v.alternate,E!==null&&(E.lanes|=l),Lu(v.return,l,i),c||(S=null);break e}v=E.next}}else if(y.tag===18){if(S=y.return,S===null)throw Error(r(341));S.lanes|=l,v=S.alternate,v!==null&&(v.lanes|=l),Lu(S,l,i),S=null}else S=y.child;if(S!==null)S.return=y;else for(S=y;S!==null;){if(S===i){S=null;break}if(y=S.sibling,y!==null){y.return=S.return,S=y;break}S=S.return}y=S}}function Dr(i,s,l,c){i=null;for(var y=s,v=!1;y!==null;){if(!v){if((y.flags&524288)!==0)v=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var S=y.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var E=y.type;Kt(y.pendingProps.value,S.value)||(i!==null?i.push(E):i=[E])}}else if(y===_e.current){if(S=y.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(vo):i=[vo])}y=y.return}i!==null&&qu(s,i,l,c),s.flags|=262144}function ma(i){for(i=i.firstContext;i!==null;){if(!Kt(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ki(i){Yi=i,Hn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Et(i){return rp(Yi,i)}function ga(i,s){return Yi===null&&Ki(i),rp(i,s)}function rp(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Hn===null){if(i===null)throw Error(r(308));Hn=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Hn=Hn.next=s;return l}var _w=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},xw=t.unstable_scheduleCallback,bw=t.unstable_NormalPriority,ct={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bu(){return{controller:new _w,data:new Map,refCount:0}}function $s(i){i.refCount--,i.refCount===0&&xw(bw,function(){i.controller.abort()})}var js=null,Hu=0,Pr=0,Ur=null;function ww(i,s){if(js===null){var l=js=[];Hu=0,Pr=Fc(),Ur={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Hu++,s.then(sp,sp),s}function sp(){if(--Hu===0&&js!==null){Ur!==null&&(Ur.status="fulfilled");var i=js;js=null,Pr=0,Ur=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function Sw(i,s){var l=[],c={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var y=0;y<l.length;y++)(0,l[y])(s)},function(y){for(c.status="rejected",c.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),c}var op=L.S;L.S=function(i,s){Gm=Mt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&ww(i,s),op!==null&&op(i,s)};var Xi=M(null);function Vu(){var i=Xi.current;return i!==null?i:Xe.pooledCache}function ya(i,s){s===null?A(Xi,Xi.current):A(Xi,s.pool)}function ap(){var i=Vu();return i===null?null:{parent:ct._currentValue,pool:i}}var Or=Error(r(460)),Gu=Error(r(474)),va=Error(r(542)),_a={then:function(){}};function lp(i){return i=i.status,i==="fulfilled"||i==="rejected"}function up(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(On,On),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,dp(i),i;default:if(typeof s.status=="string")s.then(On,On);else{if(i=Xe,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=c}},function(c){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,dp(i),i}throw Wi=s,Or}}function Qi(i){try{var s=i._init;return s(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Wi=l,Or):l}}var Wi=null;function cp(){if(Wi===null)throw Error(r(459));var i=Wi;return Wi=null,i}function dp(i){if(i===Or||i===va)throw Error(r(483))}var Lr=null,Js=0;function xa(i){var s=Js;return Js+=1,Lr===null&&(Lr=[]),up(Lr,i,s)}function Ys(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function ba(i,s){throw s.$$typeof===x?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function fp(i){function s(O,D){if(i){var q=O.deletions;q===null?(O.deletions=[D],O.flags|=16):q.push(D)}}function l(O,D){if(!i)return null;for(;D!==null;)s(O,D),D=D.sibling;return null}function c(O){for(var D=new Map;O!==null;)O.key!==null?D.set(O.key,O):D.set(O.index,O),O=O.sibling;return D}function y(O,D){return O=qn(O,D),O.index=0,O.sibling=null,O}function v(O,D,q){return O.index=q,i?(q=O.alternate,q!==null?(q=q.index,q<D?(O.flags|=67108866,D):q):(O.flags|=67108866,D)):(O.flags|=1048576,D)}function S(O){return i&&O.alternate===null&&(O.flags|=67108866),O}function E(O,D,q,K){return D===null||D.tag!==6?(D=Iu(q,O.mode,K),D.return=O,D):(D=y(D,q),D.return=O,D)}function z(O,D,q,K){var xe=q.type;return xe===C?$(O,D,q.props.children,K,q.key):D!==null&&(D.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ie&&Qi(xe)===D.type)?(D=y(D,q.props),Ys(D,q),D.return=O,D):(D=ha(q.type,q.key,q.props,null,O.mode,K),Ys(D,q),D.return=O,D)}function B(O,D,q,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==q.containerInfo||D.stateNode.implementation!==q.implementation?(D=zu(q,O.mode,K),D.return=O,D):(D=y(D,q.children||[]),D.return=O,D)}function $(O,D,q,K,xe){return D===null||D.tag!==7?(D=ji(q,O.mode,K,xe),D.return=O,D):(D=y(D,q),D.return=O,D)}function Q(O,D,q){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Iu(""+D,O.mode,q),D.return=O,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case w:return q=ha(D.type,D.key,D.props,null,O.mode,q),Ys(q,D),q.return=O,q;case T:return D=zu(D,O.mode,q),D.return=O,D;case ie:return D=Qi(D),Q(O,D,q)}if(oe(D)||X(D))return D=ji(D,O.mode,q,null),D.return=O,D;if(typeof D.then=="function")return Q(O,xa(D),q);if(D.$$typeof===R)return Q(O,ga(O,D),q);ba(O,D)}return null}function H(O,D,q,K){var xe=D!==null?D.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return xe!==null?null:E(O,D,""+q,K);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return q.key===xe?z(O,D,q,K):null;case T:return q.key===xe?B(O,D,q,K):null;case ie:return q=Qi(q),H(O,D,q,K)}if(oe(q)||X(q))return xe!==null?null:$(O,D,q,K,null);if(typeof q.then=="function")return H(O,D,xa(q),K);if(q.$$typeof===R)return H(O,D,ga(O,q),K);ba(O,q)}return null}function G(O,D,q,K,xe){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return O=O.get(q)||null,E(D,O,""+K,xe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return O=O.get(K.key===null?q:K.key)||null,z(D,O,K,xe);case T:return O=O.get(K.key===null?q:K.key)||null,B(D,O,K,xe);case ie:return K=Qi(K),G(O,D,q,K,xe)}if(oe(K)||X(K))return O=O.get(q)||null,$(D,O,K,xe,null);if(typeof K.then=="function")return G(O,D,q,xa(K),xe);if(K.$$typeof===R)return G(O,D,q,ga(D,K),xe);ba(D,K)}return null}function fe(O,D,q,K){for(var xe=null,Le=null,ge=D,Ae=D=0,Pe=null;ge!==null&&Ae<q.length;Ae++){ge.index>Ae?(Pe=ge,ge=null):Pe=ge.sibling;var qe=H(O,ge,q[Ae],K);if(qe===null){ge===null&&(ge=Pe);break}i&&ge&&qe.alternate===null&&s(O,ge),D=v(qe,D,Ae),Le===null?xe=qe:Le.sibling=qe,Le=qe,ge=Pe}if(Ae===q.length)return l(O,ge),Oe&&Bn(O,Ae),xe;if(ge===null){for(;Ae<q.length;Ae++)ge=Q(O,q[Ae],K),ge!==null&&(D=v(ge,D,Ae),Le===null?xe=ge:Le.sibling=ge,Le=ge);return Oe&&Bn(O,Ae),xe}for(ge=c(ge);Ae<q.length;Ae++)Pe=G(ge,O,Ae,q[Ae],K),Pe!==null&&(i&&Pe.alternate!==null&&ge.delete(Pe.key===null?Ae:Pe.key),D=v(Pe,D,Ae),Le===null?xe=Pe:Le.sibling=Pe,Le=Pe);return i&&ge.forEach(function(Ii){return s(O,Ii)}),Oe&&Bn(O,Ae),xe}function be(O,D,q,K){if(q==null)throw Error(r(151));for(var xe=null,Le=null,ge=D,Ae=D=0,Pe=null,qe=q.next();ge!==null&&!qe.done;Ae++,qe=q.next()){ge.index>Ae?(Pe=ge,ge=null):Pe=ge.sibling;var Ii=H(O,ge,qe.value,K);if(Ii===null){ge===null&&(ge=Pe);break}i&&ge&&Ii.alternate===null&&s(O,ge),D=v(Ii,D,Ae),Le===null?xe=Ii:Le.sibling=Ii,Le=Ii,ge=Pe}if(qe.done)return l(O,ge),Oe&&Bn(O,Ae),xe;if(ge===null){for(;!qe.done;Ae++,qe=q.next())qe=Q(O,qe.value,K),qe!==null&&(D=v(qe,D,Ae),Le===null?xe=qe:Le.sibling=qe,Le=qe);return Oe&&Bn(O,Ae),xe}for(ge=c(ge);!qe.done;Ae++,qe=q.next())qe=G(ge,O,Ae,qe.value,K),qe!==null&&(i&&qe.alternate!==null&&ge.delete(qe.key===null?Ae:qe.key),D=v(qe,D,Ae),Le===null?xe=qe:Le.sibling=qe,Le=qe);return i&&ge.forEach(function(DS){return s(O,DS)}),Oe&&Bn(O,Ae),xe}function Ye(O,D,q,K){if(typeof q=="object"&&q!==null&&q.type===C&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case w:e:{for(var xe=q.key;D!==null;){if(D.key===xe){if(xe=q.type,xe===C){if(D.tag===7){l(O,D.sibling),K=y(D,q.props.children),K.return=O,O=K;break e}}else if(D.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ie&&Qi(xe)===D.type){l(O,D.sibling),K=y(D,q.props),Ys(K,q),K.return=O,O=K;break e}l(O,D);break}else s(O,D);D=D.sibling}q.type===C?(K=ji(q.props.children,O.mode,K,q.key),K.return=O,O=K):(K=ha(q.type,q.key,q.props,null,O.mode,K),Ys(K,q),K.return=O,O=K)}return S(O);case T:e:{for(xe=q.key;D!==null;){if(D.key===xe)if(D.tag===4&&D.stateNode.containerInfo===q.containerInfo&&D.stateNode.implementation===q.implementation){l(O,D.sibling),K=y(D,q.children||[]),K.return=O,O=K;break e}else{l(O,D);break}else s(O,D);D=D.sibling}K=zu(q,O.mode,K),K.return=O,O=K}return S(O);case ie:return q=Qi(q),Ye(O,D,q,K)}if(oe(q))return fe(O,D,q,K);if(X(q)){if(xe=X(q),typeof xe!="function")throw Error(r(150));return q=xe.call(q),be(O,D,q,K)}if(typeof q.then=="function")return Ye(O,D,xa(q),K);if(q.$$typeof===R)return Ye(O,D,ga(O,q),K);ba(O,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,D!==null&&D.tag===6?(l(O,D.sibling),K=y(D,q),K.return=O,O=K):(l(O,D),K=Iu(q,O.mode,K),K.return=O,O=K),S(O)):l(O,D)}return function(O,D,q,K){try{Js=0;var xe=Ye(O,D,q,K);return Lr=null,xe}catch(ge){if(ge===Or||ge===va)throw ge;var Le=Xt(29,ge,null,O.mode);return Le.lanes=K,Le.return=O,Le}finally{}}}var Zi=fp(!0),hp=fp(!1),pi=!1;function Fu(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $u(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function mi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function gi(i,s,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(He&2)!==0){var y=c.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),c.pending=s,s=fa(i),Xh(i,null,l),s}return da(i,c,s,l),fa(i)}function Ks(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,rh(i,l)}}function ju(i,s){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var y=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?y=v=S:v=v.next=S,l=l.next}while(l!==null);v===null?y=v=s:v=v.next=s}else y=v=s;l={baseState:c.baseState,firstBaseUpdate:y,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var Ju=!1;function Xs(){if(Ju){var i=Ur;if(i!==null)throw i}}function Qs(i,s,l,c){Ju=!1;var y=i.updateQueue;pi=!1;var v=y.firstBaseUpdate,S=y.lastBaseUpdate,E=y.shared.pending;if(E!==null){y.shared.pending=null;var z=E,B=z.next;z.next=null,S===null?v=B:S.next=B,S=z;var $=i.alternate;$!==null&&($=$.updateQueue,E=$.lastBaseUpdate,E!==S&&(E===null?$.firstBaseUpdate=B:E.next=B,$.lastBaseUpdate=z))}if(v!==null){var Q=y.baseState;S=0,$=B=z=null,E=v;do{var H=E.lane&-536870913,G=H!==E.lane;if(G?(De&H)===H:(c&H)===H){H!==0&&H===Pr&&(Ju=!0),$!==null&&($=$.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var fe=i,be=E;H=s;var Ye=l;switch(be.tag){case 1:if(fe=be.payload,typeof fe=="function"){Q=fe.call(Ye,Q,H);break e}Q=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=be.payload,H=typeof fe=="function"?fe.call(Ye,Q,H):fe,H==null)break e;Q=_({},Q,H);break e;case 2:pi=!0}}H=E.callback,H!==null&&(i.flags|=64,G&&(i.flags|=8192),G=y.callbacks,G===null?y.callbacks=[H]:G.push(H))}else G={lane:H,tag:E.tag,payload:E.payload,callback:E.callback,next:null},$===null?(B=$=G,z=Q):$=$.next=G,S|=H;if(E=E.next,E===null){if(E=y.shared.pending,E===null)break;G=E,E=G.next,G.next=null,y.lastBaseUpdate=G,y.shared.pending=null}}while(!0);$===null&&(z=Q),y.baseState=z,y.firstBaseUpdate=B,y.lastBaseUpdate=$,v===null&&(y.shared.lanes=0),bi|=S,i.lanes=S,i.memoizedState=Q}}function pp(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function mp(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)pp(l[i],s)}var qr=M(null),wa=M(0);function gp(i,s){i=Qn,A(wa,i),A(qr,s),Qn=i|s.baseLanes}function Yu(){A(wa,Qn),A(qr,qr.current)}function Ku(){Qn=wa.current,j(qr),j(wa)}var Qt=M(null),mn=null;function yi(i){var s=i.alternate;A(lt,lt.current&1),A(Qt,i),mn===null&&(s===null||qr.current!==null||s.memoizedState!==null)&&(mn=i)}function Xu(i){A(lt,lt.current),A(Qt,i),mn===null&&(mn=i)}function yp(i){i.tag===22?(A(lt,lt.current),A(Qt,i),mn===null&&(mn=i)):vi()}function vi(){A(lt,lt.current),A(Qt,Qt.current)}function Wt(i){j(Qt),mn===i&&(mn=null),j(lt)}var lt=M(0);function Sa(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||nd(l)||id(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Gn=0,Ce=null,je=null,dt=null,Ea=!1,Br=!1,er=!1,Ta=0,Ws=0,Hr=null,Ew=0;function ot(){throw Error(r(321))}function Qu(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Kt(i[l],s[l]))return!1;return!0}function Wu(i,s,l,c,y,v){return Gn=v,Ce=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,L.H=i===null||i.memoizedState===null?em:hc,er=!1,v=l(c,y),er=!1,Br&&(v=_p(s,l,c,y)),vp(i),v}function vp(i){L.H=to;var s=je!==null&&je.next!==null;if(Gn=0,dt=je=Ce=null,Ea=!1,Ws=0,Hr=null,s)throw Error(r(300));i===null||ft||(i=i.dependencies,i!==null&&ma(i)&&(ft=!0))}function _p(i,s,l,c){Ce=i;var y=0;do{if(Br&&(Hr=null),Ws=0,Br=!1,25<=y)throw Error(r(301));if(y+=1,dt=je=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}L.H=tm,v=s(l,c)}while(Br);return v}function Tw(){var i=L.H,s=i.useState()[0];return s=typeof s.then=="function"?Zs(s):s,i=i.useState()[0],(je!==null?je.memoizedState:null)!==i&&(Ce.flags|=1024),s}function Zu(){var i=Ta!==0;return Ta=0,i}function ec(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function tc(i){if(Ea){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Ea=!1}Gn=0,dt=je=Ce=null,Br=!1,Ws=Ta=0,Hr=null}function Pt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ce.memoizedState=dt=i:dt=dt.next=i,dt}function ut(){if(je===null){var i=Ce.alternate;i=i!==null?i.memoizedState:null}else i=je.next;var s=dt===null?Ce.memoizedState:dt.next;if(s!==null)dt=s,je=i;else{if(i===null)throw Ce.alternate===null?Error(r(467)):Error(r(310));je=i,i={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},dt===null?Ce.memoizedState=dt=i:dt=dt.next=i}return dt}function Ca(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zs(i){var s=Ws;return Ws+=1,Hr===null&&(Hr=[]),i=up(Hr,i,s),s=Ce,(dt===null?s.memoizedState:dt.next)===null&&(s=s.alternate,L.H=s===null||s.memoizedState===null?em:hc),i}function Aa(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Zs(i);if(i.$$typeof===R)return Et(i)}throw Error(r(438,String(i)))}function nc(i){var s=null,l=Ce.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=Ce.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Ca(),Ce.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),c=0;c<i;c++)l[c]=ue;return s.index++,l}function Fn(i,s){return typeof s=="function"?s(i):s}function ka(i){var s=ut();return ic(s,je,i)}function ic(i,s,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var y=i.baseQueue,v=c.pending;if(v!==null){if(y!==null){var S=y.next;y.next=v.next,v.next=S}s.baseQueue=y=v,c.pending=null}if(v=i.baseState,y===null)i.memoizedState=v;else{s=y.next;var E=S=null,z=null,B=s,$=!1;do{var Q=B.lane&-536870913;if(Q!==B.lane?(De&Q)===Q:(Gn&Q)===Q){var H=B.revertLane;if(H===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Q===Pr&&($=!0);else if((Gn&H)===H){B=B.next,H===Pr&&($=!0);continue}else Q={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},z===null?(E=z=Q,S=v):z=z.next=Q,Ce.lanes|=H,bi|=H;Q=B.action,er&&l(v,Q),v=B.hasEagerState?B.eagerState:l(v,Q)}else H={lane:Q,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},z===null?(E=z=H,S=v):z=z.next=H,Ce.lanes|=Q,bi|=Q;B=B.next}while(B!==null&&B!==s);if(z===null?S=v:z.next=E,!Kt(v,i.memoizedState)&&(ft=!0,$&&(l=Ur,l!==null)))throw l;i.memoizedState=v,i.baseState=S,i.baseQueue=z,c.lastRenderedState=v}return y===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function rc(i){var s=ut(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,y=l.pending,v=s.memoizedState;if(y!==null){l.pending=null;var S=y=y.next;do v=i(v,S.action),S=S.next;while(S!==y);Kt(v,s.memoizedState)||(ft=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),l.lastRenderedState=v}return[v,c]}function xp(i,s,l){var c=Ce,y=ut(),v=Oe;if(v){if(l===void 0)throw Error(r(407));l=l()}else l=s();var S=!Kt((je||y).memoizedState,l);if(S&&(y.memoizedState=l,ft=!0),y=y.queue,ac(Sp.bind(null,c,y,i),[i]),y.getSnapshot!==s||S||dt!==null&&dt.memoizedState.tag&1){if(c.flags|=2048,Vr(9,{destroy:void 0},wp.bind(null,c,y,l,s),null),Xe===null)throw Error(r(349));v||(Gn&127)!==0||bp(c,s,l)}return l}function bp(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Ce.updateQueue,s===null?(s=Ca(),Ce.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function wp(i,s,l,c){s.value=l,s.getSnapshot=c,Ep(s)&&Tp(i)}function Sp(i,s,l){return l(function(){Ep(s)&&Tp(i)})}function Ep(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Kt(i,l)}catch{return!0}}function Tp(i){var s=$i(i,2);s!==null&&Gt(s,i,2)}function sc(i){var s=Pt();if(typeof i=="function"){var l=i;if(i=l(),er){Ut(!0);try{l()}finally{Ut(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:i},s}function Cp(i,s,l,c){return i.baseState=l,ic(i,je,typeof c=="function"?c:Fn)}function Cw(i,s,l,c,y){if(Ia(i))throw Error(r(485));if(i=s.action,i!==null){var v={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){v.listeners.push(S)}};L.T!==null?l(!0):v.isTransition=!1,c(v),l=s.pending,l===null?(v.next=s.pending=v,Ap(s,v)):(v.next=l.next,s.pending=l.next=v)}}function Ap(i,s){var l=s.action,c=s.payload,y=i.state;if(s.isTransition){var v=L.T,S={};L.T=S;try{var E=l(y,c),z=L.S;z!==null&&z(S,E),kp(i,s,E)}catch(B){oc(i,s,B)}finally{v!==null&&S.types!==null&&(v.types=S.types),L.T=v}}else try{v=l(y,c),kp(i,s,v)}catch(B){oc(i,s,B)}}function kp(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Np(i,s,c)},function(c){return oc(i,s,c)}):Np(i,s,l)}function Np(i,s,l){s.status="fulfilled",s.value=l,Rp(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,Ap(i,l)))}function oc(i,s,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,Rp(s),s=s.next;while(s!==c)}i.action=null}function Rp(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Ip(i,s){return s}function zp(i,s){if(Oe){var l=Xe.formState;if(l!==null){e:{var c=Ce;if(Oe){if(et){t:{for(var y=et,v=pn;y.nodeType!==8;){if(!v){y=null;break t}if(y=gn(y.nextSibling),y===null){y=null;break t}}v=y.data,y=v==="F!"||v==="F"?y:null}if(y){et=gn(y.nextSibling),c=y.data==="F!";break e}}fi(c)}c=!1}c&&(s=l[0])}}return l=Pt(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ip,lastRenderedState:s},l.queue=c,l=Qp.bind(null,Ce,c),c.dispatch=l,c=sc(!1),v=fc.bind(null,Ce,!1,c.queue),c=Pt(),y={state:s,dispatch:null,action:i,pending:null},c.queue=y,l=Cw.bind(null,Ce,y,v,l),y.dispatch=l,c.memoizedState=i,[s,l,!1]}function Mp(i){var s=ut();return Dp(s,je,i)}function Dp(i,s,l){if(s=ic(i,s,Ip)[0],i=ka(Fn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Zs(s)}catch(S){throw S===Or?va:S}else c=s;s=ut();var y=s.queue,v=y.dispatch;return l!==s.memoizedState&&(Ce.flags|=2048,Vr(9,{destroy:void 0},Aw.bind(null,y,l),null)),[c,v,i]}function Aw(i,s){i.action=s}function Pp(i){var s=ut(),l=je;if(l!==null)return Dp(s,l,i);ut(),s=s.memoizedState,l=ut();var c=l.queue.dispatch;return l.memoizedState=i,[s,c,!1]}function Vr(i,s,l,c){return i={tag:i,create:l,deps:c,inst:s,next:null},s=Ce.updateQueue,s===null&&(s=Ca(),Ce.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,s.lastEffect=i),i}function Up(){return ut().memoizedState}function Na(i,s,l,c){var y=Pt();Ce.flags|=i,y.memoizedState=Vr(1|s,{destroy:void 0},l,c===void 0?null:c)}function Ra(i,s,l,c){var y=ut();c=c===void 0?null:c;var v=y.memoizedState.inst;je!==null&&c!==null&&Qu(c,je.memoizedState.deps)?y.memoizedState=Vr(s,v,l,c):(Ce.flags|=i,y.memoizedState=Vr(1|s,v,l,c))}function Op(i,s){Na(8390656,8,i,s)}function ac(i,s){Ra(2048,8,i,s)}function kw(i){Ce.flags|=4;var s=Ce.updateQueue;if(s===null)s=Ca(),Ce.updateQueue=s,s.events=[i];else{var l=s.events;l===null?s.events=[i]:l.push(i)}}function Lp(i){var s=ut().memoizedState;return kw({ref:s,nextImpl:i}),function(){if((He&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function qp(i,s){return Ra(4,2,i,s)}function Bp(i,s){return Ra(4,4,i,s)}function Hp(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Vp(i,s,l){l=l!=null?l.concat([i]):null,Ra(4,4,Hp.bind(null,s,i),l)}function lc(){}function Gp(i,s){var l=ut();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&Qu(s,c[1])?c[0]:(l.memoizedState=[i,s],i)}function Fp(i,s){var l=ut();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&Qu(s,c[1]))return c[0];if(c=i(),er){Ut(!0);try{i()}finally{Ut(!1)}}return l.memoizedState=[c,s],c}function uc(i,s,l){return l===void 0||(Gn&1073741824)!==0&&(De&261930)===0?i.memoizedState=s:(i.memoizedState=l,i=$m(),Ce.lanes|=i,bi|=i,l)}function $p(i,s,l,c){return Kt(l,s)?l:qr.current!==null?(i=uc(i,l,c),Kt(i,s)||(ft=!0),i):(Gn&42)===0||(Gn&1073741824)!==0&&(De&261930)===0?(ft=!0,i.memoizedState=l):(i=$m(),Ce.lanes|=i,bi|=i,s)}function jp(i,s,l,c,y){var v=Z.p;Z.p=v!==0&&8>v?v:8;var S=L.T,E={};L.T=E,fc(i,!1,s,l);try{var z=y(),B=L.S;if(B!==null&&B(E,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var $=Sw(z,c);eo(i,s,$,tn(i))}else eo(i,s,c,tn(i))}catch(Q){eo(i,s,{then:function(){},status:"rejected",reason:Q},tn())}finally{Z.p=v,S!==null&&E.types!==null&&(S.types=E.types),L.T=S}}function Nw(){}function cc(i,s,l,c){if(i.tag!==5)throw Error(r(476));var y=Jp(i).queue;jp(i,y,s,ce,l===null?Nw:function(){return Yp(i),l(c)})}function Jp(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:ce},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Yp(i){var s=Jp(i);s.next===null&&(s=i.alternate.memoizedState),eo(i,s.next.queue,{},tn())}function dc(){return Et(vo)}function Kp(){return ut().memoizedState}function Xp(){return ut().memoizedState}function Rw(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=tn();i=mi(l);var c=gi(s,i,l);c!==null&&(Gt(c,s,l),Ks(c,s,l)),s={cache:Bu()},i.payload=s;return}s=s.return}}function Iw(i,s,l){var c=tn();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ia(i)?Wp(s,l):(l=Nu(i,s,l,c),l!==null&&(Gt(l,i,c),Zp(l,s,c)))}function Qp(i,s,l){var c=tn();eo(i,s,l,c)}function eo(i,s,l,c){var y={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ia(i))Wp(s,y);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var S=s.lastRenderedState,E=v(S,l);if(y.hasEagerState=!0,y.eagerState=E,Kt(E,S))return da(i,s,y,0),Xe===null&&ca(),!1}catch{}finally{}if(l=Nu(i,s,y,c),l!==null)return Gt(l,i,c),Zp(l,s,c),!0}return!1}function fc(i,s,l,c){if(c={lane:2,revertLane:Fc(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ia(i)){if(s)throw Error(r(479))}else s=Nu(i,l,c,2),s!==null&&Gt(s,i,2)}function Ia(i){var s=i.alternate;return i===Ce||s!==null&&s===Ce}function Wp(i,s){Br=Ea=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function Zp(i,s,l){if((l&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,rh(i,l)}}var to={readContext:Et,use:Aa,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useLayoutEffect:ot,useInsertionEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useSyncExternalStore:ot,useId:ot,useHostTransitionStatus:ot,useFormState:ot,useActionState:ot,useOptimistic:ot,useMemoCache:ot,useCacheRefresh:ot};to.useEffectEvent=ot;var em={readContext:Et,use:Aa,useCallback:function(i,s){return Pt().memoizedState=[i,s===void 0?null:s],i},useContext:Et,useEffect:Op,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Na(4194308,4,Hp.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Na(4194308,4,i,s)},useInsertionEffect:function(i,s){Na(4,2,i,s)},useMemo:function(i,s){var l=Pt();s=s===void 0?null:s;var c=i();if(er){Ut(!0);try{i()}finally{Ut(!1)}}return l.memoizedState=[c,s],c},useReducer:function(i,s,l){var c=Pt();if(l!==void 0){var y=l(s);if(er){Ut(!0);try{l(s)}finally{Ut(!1)}}}else y=s;return c.memoizedState=c.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},c.queue=i,i=i.dispatch=Iw.bind(null,Ce,i),[c.memoizedState,i]},useRef:function(i){var s=Pt();return i={current:i},s.memoizedState=i},useState:function(i){i=sc(i);var s=i.queue,l=Qp.bind(null,Ce,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:lc,useDeferredValue:function(i,s){var l=Pt();return uc(l,i,s)},useTransition:function(){var i=sc(!1);return i=jp.bind(null,Ce,i.queue,!0,!1),Pt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var c=Ce,y=Pt();if(Oe){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),Xe===null)throw Error(r(349));(De&127)!==0||bp(c,s,l)}y.memoizedState=l;var v={value:l,getSnapshot:s};return y.queue=v,Op(Sp.bind(null,c,v,i),[i]),c.flags|=2048,Vr(9,{destroy:void 0},wp.bind(null,c,v,l,s),null),l},useId:function(){var i=Pt(),s=Xe.identifierPrefix;if(Oe){var l=Nn,c=kn;l=(c&~(1<<32-Ke(c)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Ta++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=Ew++,s="_"+s+"r_"+l.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:dc,useFormState:zp,useActionState:zp,useOptimistic:function(i){var s=Pt();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=fc.bind(null,Ce,!0,l),l.dispatch=s,[i,s]},useMemoCache:nc,useCacheRefresh:function(){return Pt().memoizedState=Rw.bind(null,Ce)},useEffectEvent:function(i){var s=Pt(),l={impl:i};return s.memoizedState=l,function(){if((He&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},hc={readContext:Et,use:Aa,useCallback:Gp,useContext:Et,useEffect:ac,useImperativeHandle:Vp,useInsertionEffect:qp,useLayoutEffect:Bp,useMemo:Fp,useReducer:ka,useRef:Up,useState:function(){return ka(Fn)},useDebugValue:lc,useDeferredValue:function(i,s){var l=ut();return $p(l,je.memoizedState,i,s)},useTransition:function(){var i=ka(Fn)[0],s=ut().memoizedState;return[typeof i=="boolean"?i:Zs(i),s]},useSyncExternalStore:xp,useId:Kp,useHostTransitionStatus:dc,useFormState:Mp,useActionState:Mp,useOptimistic:function(i,s){var l=ut();return Cp(l,je,i,s)},useMemoCache:nc,useCacheRefresh:Xp};hc.useEffectEvent=Lp;var tm={readContext:Et,use:Aa,useCallback:Gp,useContext:Et,useEffect:ac,useImperativeHandle:Vp,useInsertionEffect:qp,useLayoutEffect:Bp,useMemo:Fp,useReducer:rc,useRef:Up,useState:function(){return rc(Fn)},useDebugValue:lc,useDeferredValue:function(i,s){var l=ut();return je===null?uc(l,i,s):$p(l,je.memoizedState,i,s)},useTransition:function(){var i=rc(Fn)[0],s=ut().memoizedState;return[typeof i=="boolean"?i:Zs(i),s]},useSyncExternalStore:xp,useId:Kp,useHostTransitionStatus:dc,useFormState:Pp,useActionState:Pp,useOptimistic:function(i,s){var l=ut();return je!==null?Cp(l,je,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:nc,useCacheRefresh:Xp};tm.useEffectEvent=Lp;function pc(i,s,l,c){s=i.memoizedState,l=l(c,s),l=l==null?s:_({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var mc={enqueueSetState:function(i,s,l){i=i._reactInternals;var c=tn(),y=mi(c);y.payload=s,l!=null&&(y.callback=l),s=gi(i,y,c),s!==null&&(Gt(s,i,c),Ks(s,i,c))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var c=tn(),y=mi(c);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=gi(i,y,c),s!==null&&(Gt(s,i,c),Ks(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=tn(),c=mi(l);c.tag=2,s!=null&&(c.callback=s),s=gi(i,c,l),s!==null&&(Gt(s,i,l),Ks(s,i,l))}};function nm(i,s,l,c,y,v,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,v,S):s.prototype&&s.prototype.isPureReactComponent?!Hs(l,c)||!Hs(y,v):!0}function im(i,s,l,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==i&&mc.enqueueReplaceState(s,s.state,null)}function tr(i,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(i=i.defaultProps){l===s&&(l=_({},l));for(var y in i)l[y]===void 0&&(l[y]=i[y])}return l}function rm(i){ua(i)}function sm(i){console.error(i)}function om(i){ua(i)}function za(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function am(i,s,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function gc(i,s,l){return l=mi(l),l.tag=3,l.payload={element:null},l.callback=function(){za(i,s)},l}function lm(i){return i=mi(i),i.tag=3,i}function um(i,s,l,c){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var v=c.value;i.payload=function(){return y(v)},i.callback=function(){am(s,l,c)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){am(s,l,c),typeof y!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var E=c.stack;this.componentDidCatch(c.value,{componentStack:E!==null?E:""})})}function zw(i,s,l,c,y){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&Dr(s,l,y,!0),l=Qt.current,l!==null){switch(l.tag){case 31:case 13:return mn===null?Fa():l.alternate===null&&at===0&&(at=3),l.flags&=-257,l.flags|=65536,l.lanes=y,c===_a?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),Hc(i,c,y)),!1;case 22:return l.flags|=65536,c===_a?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),Hc(i,c,y)),!1}throw Error(r(435,l.tag))}return Hc(i,c,y),Fa(),!1}if(Oe)return s=Qt.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,c!==Pu&&(i=Error(r(422),{cause:c}),Fs(dn(i,l)))):(c!==Pu&&(s=Error(r(423),{cause:c}),Fs(dn(s,l))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,c=dn(c,l),y=gc(i.stateNode,c,y),ju(i,y),at!==4&&(at=2)),!1;var v=Error(r(520),{cause:c});if(v=dn(v,l),uo===null?uo=[v]:uo.push(v),at!==4&&(at=2),s===null)return!0;c=dn(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=y&-y,l.lanes|=i,i=gc(l.stateNode,c,i),ju(l,i),!1;case 1:if(s=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(wi===null||!wi.has(v))))return l.flags|=65536,y&=-y,l.lanes|=y,y=lm(y),um(y,i,l,c),ju(l,y),!1}l=l.return}while(l!==null);return!1}var yc=Error(r(461)),ft=!1;function Tt(i,s,l,c){s.child=i===null?hp(s,null,l,c):Zi(s,i.child,l,c)}function cm(i,s,l,c,y){l=l.render;var v=s.ref;if("ref"in c){var S={};for(var E in c)E!=="ref"&&(S[E]=c[E])}else S=c;return Ki(s),c=Wu(i,s,l,S,v,y),E=Zu(),i!==null&&!ft?(ec(i,s,y),$n(i,s,y)):(Oe&&E&&Mu(s),s.flags|=1,Tt(i,s,c,y),s.child)}function dm(i,s,l,c,y){if(i===null){var v=l.type;return typeof v=="function"&&!Ru(v)&&v.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=v,fm(i,s,v,c,y)):(i=ha(l.type,null,c,s,s.mode,y),i.ref=s.ref,i.return=s,s.child=i)}if(v=i.child,!Tc(i,y)){var S=v.memoizedProps;if(l=l.compare,l=l!==null?l:Hs,l(S,c)&&i.ref===s.ref)return $n(i,s,y)}return s.flags|=1,i=qn(v,c),i.ref=s.ref,i.return=s,s.child=i}function fm(i,s,l,c,y){if(i!==null){var v=i.memoizedProps;if(Hs(v,c)&&i.ref===s.ref)if(ft=!1,s.pendingProps=c=v,Tc(i,y))(i.flags&131072)!==0&&(ft=!0);else return s.lanes=i.lanes,$n(i,s,y)}return vc(i,s,l,c,y)}function hm(i,s,l,c){var y=c.children,v=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(v=v!==null?v.baseLanes|l:l,i!==null){for(c=s.child=i.child,y=0;c!==null;)y=y|c.lanes|c.childLanes,c=c.sibling;c=y&~v}else c=0,s.child=null;return pm(i,s,v,l,c)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&ya(s,v!==null?v.cachePool:null),v!==null?gp(s,v):Yu(),yp(s);else return c=s.lanes=536870912,pm(i,s,v!==null?v.baseLanes|l:l,l,c)}else v!==null?(ya(s,v.cachePool),gp(s,v),vi(),s.memoizedState=null):(i!==null&&ya(s,null),Yu(),vi());return Tt(i,s,y,l),s.child}function no(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function pm(i,s,l,c,y){var v=Vu();return v=v===null?null:{parent:ct._currentValue,pool:v},s.memoizedState={baseLanes:l,cachePool:v},i!==null&&ya(s,null),Yu(),yp(s),i!==null&&Dr(i,s,c,!0),s.childLanes=y,null}function Ma(i,s){return s=Pa({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function mm(i,s,l){return Zi(s,i.child,null,l),i=Ma(s,s.pendingProps),i.flags|=2,Wt(s),s.memoizedState=null,i}function Mw(i,s,l){var c=s.pendingProps,y=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Oe){if(c.mode==="hidden")return i=Ma(s,c),s.lanes=536870912,no(null,i);if(Xu(s),(i=et)?(i=Ag(i,pn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ci!==null?{id:kn,overflow:Nn}:null,retryLane:536870912,hydrationErrors:null},l=Wh(i),l.return=s,s.child=l,St=s,et=null)):i=null,i===null)throw fi(s);return s.lanes=536870912,null}return Ma(s,c)}var v=i.memoizedState;if(v!==null){var S=v.dehydrated;if(Xu(s),y)if(s.flags&256)s.flags&=-257,s=mm(i,s,l);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(ft||Dr(i,s,l,!1),y=(l&i.childLanes)!==0,ft||y){if(c=Xe,c!==null&&(S=sh(c,l),S!==0&&S!==v.retryLane))throw v.retryLane=S,$i(i,S),Gt(c,i,S),yc;Fa(),s=mm(i,s,l)}else i=v.treeContext,et=gn(S.nextSibling),St=s,Oe=!0,di=null,pn=!1,i!==null&&tp(s,i),s=Ma(s,c),s.flags|=4096;return s}return i=qn(i.child,{mode:c.mode,children:c.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Da(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function vc(i,s,l,c,y){return Ki(s),l=Wu(i,s,l,c,void 0,y),c=Zu(),i!==null&&!ft?(ec(i,s,y),$n(i,s,y)):(Oe&&c&&Mu(s),s.flags|=1,Tt(i,s,l,y),s.child)}function gm(i,s,l,c,y,v){return Ki(s),s.updateQueue=null,l=_p(s,c,l,y),vp(i),c=Zu(),i!==null&&!ft?(ec(i,s,v),$n(i,s,v)):(Oe&&c&&Mu(s),s.flags|=1,Tt(i,s,l,v),s.child)}function ym(i,s,l,c,y){if(Ki(s),s.stateNode===null){var v=Rr,S=l.contextType;typeof S=="object"&&S!==null&&(v=Et(S)),v=new l(c,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=mc,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=c,v.state=s.memoizedState,v.refs={},Fu(s),S=l.contextType,v.context=typeof S=="object"&&S!==null?Et(S):Rr,v.state=s.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(pc(s,l,S,c),v.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(S=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),S!==v.state&&mc.enqueueReplaceState(v,v.state,null),Qs(s,c,v,y),Xs(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){v=s.stateNode;var E=s.memoizedProps,z=tr(l,E);v.props=z;var B=v.context,$=l.contextType;S=Rr,typeof $=="object"&&$!==null&&(S=Et($));var Q=l.getDerivedStateFromProps;$=typeof Q=="function"||typeof v.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,$||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E||B!==S)&&im(s,v,c,S),pi=!1;var H=s.memoizedState;v.state=H,Qs(s,c,v,y),Xs(),B=s.memoizedState,E||H!==B||pi?(typeof Q=="function"&&(pc(s,l,Q,c),B=s.memoizedState),(z=pi||nm(s,l,z,c,H,B,S))?($||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=B),v.props=c,v.state=B,v.context=S,c=z):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{v=s.stateNode,$u(i,s),S=s.memoizedProps,$=tr(l,S),v.props=$,Q=s.pendingProps,H=v.context,B=l.contextType,z=Rr,typeof B=="object"&&B!==null&&(z=Et(B)),E=l.getDerivedStateFromProps,(B=typeof E=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==Q||H!==z)&&im(s,v,c,z),pi=!1,H=s.memoizedState,v.state=H,Qs(s,c,v,y),Xs();var G=s.memoizedState;S!==Q||H!==G||pi||i!==null&&i.dependencies!==null&&ma(i.dependencies)?(typeof E=="function"&&(pc(s,l,E,c),G=s.memoizedState),($=pi||nm(s,l,$,c,H,G,z)||i!==null&&i.dependencies!==null&&ma(i.dependencies))?(B||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,G,z),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,G,z)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===i.memoizedProps&&H===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&H===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=G),v.props=c,v.state=G,v.context=z,c=$):(typeof v.componentDidUpdate!="function"||S===i.memoizedProps&&H===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&H===i.memoizedState||(s.flags|=1024),c=!1)}return v=c,Da(i,s),c=(s.flags&128)!==0,v||c?(v=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,i!==null&&c?(s.child=Zi(s,i.child,null,y),s.child=Zi(s,null,l,y)):Tt(i,s,l,y),s.memoizedState=v.state,i=s.child):i=$n(i,s,y),i}function vm(i,s,l,c){return Ji(),s.flags|=256,Tt(i,s,l,c),s.child}var _c={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xc(i){return{baseLanes:i,cachePool:ap()}}function bc(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=en),i}function _m(i,s,l){var c=s.pendingProps,y=!1,v=(s.flags&128)!==0,S;if((S=v)||(S=i!==null&&i.memoizedState===null?!1:(lt.current&2)!==0),S&&(y=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,i===null){if(Oe){if(y?yi(s):vi(),(i=et)?(i=Ag(i,pn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ci!==null?{id:kn,overflow:Nn}:null,retryLane:536870912,hydrationErrors:null},l=Wh(i),l.return=s,s.child=l,St=s,et=null)):i=null,i===null)throw fi(s);return id(i)?s.lanes=32:s.lanes=536870912,null}var E=c.children;return c=c.fallback,y?(vi(),y=s.mode,E=Pa({mode:"hidden",children:E},y),c=ji(c,y,l,null),E.return=s,c.return=s,E.sibling=c,s.child=E,c=s.child,c.memoizedState=xc(l),c.childLanes=bc(i,S,l),s.memoizedState=_c,no(null,c)):(yi(s),wc(s,E))}var z=i.memoizedState;if(z!==null&&(E=z.dehydrated,E!==null)){if(v)s.flags&256?(yi(s),s.flags&=-257,s=Sc(i,s,l)):s.memoizedState!==null?(vi(),s.child=i.child,s.flags|=128,s=null):(vi(),E=c.fallback,y=s.mode,c=Pa({mode:"visible",children:c.children},y),E=ji(E,y,l,null),E.flags|=2,c.return=s,E.return=s,c.sibling=E,s.child=c,Zi(s,i.child,null,l),c=s.child,c.memoizedState=xc(l),c.childLanes=bc(i,S,l),s.memoizedState=_c,s=no(null,c));else if(yi(s),id(E)){if(S=E.nextSibling&&E.nextSibling.dataset,S)var B=S.dgst;S=B,c=Error(r(419)),c.stack="",c.digest=S,Fs({value:c,source:null,stack:null}),s=Sc(i,s,l)}else if(ft||Dr(i,s,l,!1),S=(l&i.childLanes)!==0,ft||S){if(S=Xe,S!==null&&(c=sh(S,l),c!==0&&c!==z.retryLane))throw z.retryLane=c,$i(i,c),Gt(S,i,c),yc;nd(E)||Fa(),s=Sc(i,s,l)}else nd(E)?(s.flags|=192,s.child=i.child,s=null):(i=z.treeContext,et=gn(E.nextSibling),St=s,Oe=!0,di=null,pn=!1,i!==null&&tp(s,i),s=wc(s,c.children),s.flags|=4096);return s}return y?(vi(),E=c.fallback,y=s.mode,z=i.child,B=z.sibling,c=qn(z,{mode:"hidden",children:c.children}),c.subtreeFlags=z.subtreeFlags&65011712,B!==null?E=qn(B,E):(E=ji(E,y,l,null),E.flags|=2),E.return=s,c.return=s,c.sibling=E,s.child=c,no(null,c),c=s.child,E=i.child.memoizedState,E===null?E=xc(l):(y=E.cachePool,y!==null?(z=ct._currentValue,y=y.parent!==z?{parent:z,pool:z}:y):y=ap(),E={baseLanes:E.baseLanes|l,cachePool:y}),c.memoizedState=E,c.childLanes=bc(i,S,l),s.memoizedState=_c,no(i.child,c)):(yi(s),l=i.child,i=l.sibling,l=qn(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,i!==null&&(S=s.deletions,S===null?(s.deletions=[i],s.flags|=16):S.push(i)),s.child=l,s.memoizedState=null,l)}function wc(i,s){return s=Pa({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Pa(i,s){return i=Xt(22,i,null,s),i.lanes=0,i}function Sc(i,s,l){return Zi(s,i.child,null,l),i=wc(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function xm(i,s,l){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),Lu(i.return,s,l)}function Ec(i,s,l,c,y,v){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:y,treeForkCount:v}:(S.isBackwards=s,S.rendering=null,S.renderingStartTime=0,S.last=c,S.tail=l,S.tailMode=y,S.treeForkCount=v)}function bm(i,s,l){var c=s.pendingProps,y=c.revealOrder,v=c.tail;c=c.children;var S=lt.current,E=(S&2)!==0;if(E?(S=S&1|2,s.flags|=128):S&=1,A(lt,S),Tt(i,s,c,l),c=Oe?Gs:0,!E&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&xm(i,l,s);else if(i.tag===19)xm(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(l=s.child,y=null;l!==null;)i=l.alternate,i!==null&&Sa(i)===null&&(y=l),l=l.sibling;l=y,l===null?(y=s.child,s.child=null):(y=l.sibling,l.sibling=null),Ec(s,!1,y,l,v,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=s.child,s.child=null;y!==null;){if(i=y.alternate,i!==null&&Sa(i)===null){s.child=y;break}i=y.sibling,y.sibling=l,l=y,y=i}Ec(s,!0,l,null,v,c);break;case"together":Ec(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function $n(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),bi|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Dr(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=qn(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=qn(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function Tc(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&ma(i)))}function Dw(i,s,l){switch(s.tag){case 3:Ue(s,s.stateNode.containerInfo),hi(s,ct,i.memoizedState.cache),Ji();break;case 27:case 5:zt(s);break;case 4:Ue(s,s.stateNode.containerInfo);break;case 10:hi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Xu(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(yi(s),s.flags|=128,null):(l&s.child.childLanes)!==0?_m(i,s,l):(yi(s),i=$n(i,s,l),i!==null?i.sibling:null);yi(s);break;case 19:var y=(i.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(Dr(i,s,l,!1),c=(l&s.childLanes)!==0),y){if(c)return bm(i,s,l);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),A(lt,lt.current),c)break;return null;case 22:return s.lanes=0,hm(i,s,l,s.pendingProps);case 24:hi(s,ct,i.memoizedState.cache)}return $n(i,s,l)}function wm(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)ft=!0;else{if(!Tc(i,l)&&(s.flags&128)===0)return ft=!1,Dw(i,s,l);ft=(i.flags&131072)!==0}else ft=!1,Oe&&(s.flags&1048576)!==0&&ep(s,Gs,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(i=Qi(s.elementType),s.type=i,typeof i=="function")Ru(i)?(c=tr(i,c),s.tag=1,s=ym(null,s,i,c,l)):(s.tag=0,s=vc(null,s,i,c,l));else{if(i!=null){var y=i.$$typeof;if(y===V){s.tag=11,s=cm(null,s,i,c,l);break e}else if(y===F){s.tag=14,s=dm(null,s,i,c,l);break e}}throw s=de(i)||i,Error(r(306,s,""))}}return s;case 0:return vc(i,s,s.type,s.pendingProps,l);case 1:return c=s.type,y=tr(c,s.pendingProps),ym(i,s,c,y,l);case 3:e:{if(Ue(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var v=s.memoizedState;y=v.element,$u(i,s),Qs(s,c,null,l);var S=s.memoizedState;if(c=S.cache,hi(s,ct,c),c!==v.cache&&qu(s,[ct],l,!0),Xs(),c=S.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=vm(i,s,c,l);break e}else if(c!==y){y=dn(Error(r(424)),s),Fs(y),s=vm(i,s,c,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(et=gn(i.firstChild),St=s,Oe=!0,di=null,pn=!0,l=hp(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ji(),c===y){s=$n(i,s,l);break e}Tt(i,s,c,l)}s=s.child}return s;case 26:return Da(i,s),i===null?(l=Mg(s.type,null,s.pendingProps,null))?s.memoizedState=l:Oe||(l=s.type,i=s.pendingProps,c=Qa(ee.current).createElement(l),c[wt]=s,c[Ot]=i,Ct(c,l,i),xt(c),s.stateNode=c):s.memoizedState=Mg(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return zt(s),i===null&&Oe&&(c=s.stateNode=Rg(s.type,s.pendingProps,ee.current),St=s,pn=!0,y=et,Ci(s.type)?(rd=y,et=gn(c.firstChild)):et=y),Tt(i,s,s.pendingProps.children,l),Da(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Oe&&((y=c=et)&&(c=cS(c,s.type,s.pendingProps,pn),c!==null?(s.stateNode=c,St=s,et=gn(c.firstChild),pn=!1,y=!0):y=!1),y||fi(s)),zt(s),y=s.type,v=s.pendingProps,S=i!==null?i.memoizedProps:null,c=v.children,Zc(y,v)?c=null:S!==null&&Zc(y,S)&&(s.flags|=32),s.memoizedState!==null&&(y=Wu(i,s,Tw,null,null,l),vo._currentValue=y),Da(i,s),Tt(i,s,c,l),s.child;case 6:return i===null&&Oe&&((i=l=et)&&(l=dS(l,s.pendingProps,pn),l!==null?(s.stateNode=l,St=s,et=null,i=!0):i=!1),i||fi(s)),null;case 13:return _m(i,s,l);case 4:return Ue(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=Zi(s,null,c,l):Tt(i,s,c,l),s.child;case 11:return cm(i,s,s.type,s.pendingProps,l);case 7:return Tt(i,s,s.pendingProps,l),s.child;case 8:return Tt(i,s,s.pendingProps.children,l),s.child;case 12:return Tt(i,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,hi(s,s.type,c.value),Tt(i,s,c.children,l),s.child;case 9:return y=s.type._context,c=s.pendingProps.children,Ki(s),y=Et(y),c=c(y),s.flags|=1,Tt(i,s,c,l),s.child;case 14:return dm(i,s,s.type,s.pendingProps,l);case 15:return fm(i,s,s.type,s.pendingProps,l);case 19:return bm(i,s,l);case 31:return Mw(i,s,l);case 22:return hm(i,s,l,s.pendingProps);case 24:return Ki(s),c=Et(ct),i===null?(y=Vu(),y===null&&(y=Xe,v=Bu(),y.pooledCache=v,v.refCount++,v!==null&&(y.pooledCacheLanes|=l),y=v),s.memoizedState={parent:c,cache:y},Fu(s),hi(s,ct,y)):((i.lanes&l)!==0&&($u(i,s),Qs(s,null,null,l),Xs()),y=i.memoizedState,v=s.memoizedState,y.parent!==c?(y={parent:c,cache:c},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),hi(s,ct,c)):(c=v.cache,hi(s,ct,c),c!==y.cache&&qu(s,[ct],l,!0))),Tt(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function jn(i){i.flags|=4}function Cc(i,s,l,c,y){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(Km())i.flags|=8192;else throw Wi=_a,Gu}else i.flags&=-16777217}function Sm(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Lg(s))if(Km())i.flags|=8192;else throw Wi=_a,Gu}function Ua(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?nh():536870912,i.lanes|=s,jr|=s)}function io(i,s){if(!Oe)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function tt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(s)for(var y=i.child;y!==null;)l|=y.lanes|y.childLanes,c|=y.subtreeFlags&65011712,c|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)l|=y.lanes|y.childLanes,c|=y.subtreeFlags,c|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=c,i.childLanes=l,s}function Pw(i,s,l){var c=s.pendingProps;switch(Du(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(s),null;case 1:return tt(s),null;case 3:return l=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Vn(ct),Me(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Mr(s)?jn(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Uu())),tt(s),null;case 26:var y=s.type,v=s.memoizedState;return i===null?(jn(s),v!==null?(tt(s),Sm(s,v)):(tt(s),Cc(s,y,null,c,l))):v?v!==i.memoizedState?(jn(s),tt(s),Sm(s,v)):(tt(s),s.flags&=-16777217):(i=i.memoizedProps,i!==c&&jn(s),tt(s),Cc(s,y,i,c,l)),null;case 27:if(rt(s),l=ee.current,y=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&jn(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return tt(s),null}i=J.current,Mr(s)?np(s):(i=Rg(y,c,l),s.stateNode=i,jn(s))}return tt(s),null;case 5:if(rt(s),y=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&jn(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return tt(s),null}if(v=J.current,Mr(s))np(s);else{var S=Qa(ee.current);switch(v){case 1:v=S.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:v=S.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":v=S.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":v=S.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":v=S.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof c.is=="string"?S.createElement("select",{is:c.is}):S.createElement("select"),c.multiple?v.multiple=!0:c.size&&(v.size=c.size);break;default:v=typeof c.is=="string"?S.createElement(y,{is:c.is}):S.createElement(y)}}v[wt]=s,v[Ot]=c;e:for(S=s.child;S!==null;){if(S.tag===5||S.tag===6)v.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===s)break e;for(;S.sibling===null;){if(S.return===null||S.return===s)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}s.stateNode=v;e:switch(Ct(v,y,c),y){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&jn(s)}}return tt(s),Cc(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,l),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&jn(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=ee.current,Mr(s)){if(i=s.stateNode,l=s.memoizedProps,c=null,y=St,y!==null)switch(y.tag){case 27:case 5:c=y.memoizedProps}i[wt]=s,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||_g(i.nodeValue,l)),i||fi(s,!0)}else i=Qa(i).createTextNode(c),i[wt]=s,s.stateNode=i}return tt(s),null;case 31:if(l=s.memoizedState,i===null||i.memoizedState!==null){if(c=Mr(s),l!==null){if(i===null){if(!c)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[wt]=s}else Ji(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;tt(s),i=!1}else l=Uu(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return s.flags&256?(Wt(s),s):(Wt(s),null);if((s.flags&128)!==0)throw Error(r(558))}return tt(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=Mr(s),c!==null&&c.dehydrated!==null){if(i===null){if(!y)throw Error(r(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[wt]=s}else Ji(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;tt(s),y=!1}else y=Uu(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(Wt(s),s):(Wt(s),null)}return Wt(s),(s.flags&128)!==0?(s.lanes=l,s):(l=c!==null,i=i!==null&&i.memoizedState!==null,l&&(c=s.child,y=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(y=c.alternate.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==y&&(c.flags|=2048)),l!==i&&l&&(s.child.flags|=8192),Ua(s,s.updateQueue),tt(s),null);case 4:return Me(),i===null&&Yc(s.stateNode.containerInfo),tt(s),null;case 10:return Vn(s.type),tt(s),null;case 19:if(j(lt),c=s.memoizedState,c===null)return tt(s),null;if(y=(s.flags&128)!==0,v=c.rendering,v===null)if(y)io(c,!1);else{if(at!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(v=Sa(i),v!==null){for(s.flags|=128,io(c,!1),i=v.updateQueue,s.updateQueue=i,Ua(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)Qh(l,i),l=l.sibling;return A(lt,lt.current&1|2),Oe&&Bn(s,c.treeForkCount),s.child}i=i.sibling}c.tail!==null&&Mt()>Ha&&(s.flags|=128,y=!0,io(c,!1),s.lanes=4194304)}else{if(!y)if(i=Sa(v),i!==null){if(s.flags|=128,y=!0,i=i.updateQueue,s.updateQueue=i,Ua(s,i),io(c,!0),c.tail===null&&c.tailMode==="hidden"&&!v.alternate&&!Oe)return tt(s),null}else 2*Mt()-c.renderingStartTime>Ha&&l!==536870912&&(s.flags|=128,y=!0,io(c,!1),s.lanes=4194304);c.isBackwards?(v.sibling=s.child,s.child=v):(i=c.last,i!==null?i.sibling=v:s.child=v,c.last=v)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=Mt(),i.sibling=null,l=lt.current,A(lt,y?l&1|2:l&1),Oe&&Bn(s,c.treeForkCount),i):(tt(s),null);case 22:case 23:return Wt(s),Ku(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(tt(s),s.subtreeFlags&6&&(s.flags|=8192)):tt(s),l=s.updateQueue,l!==null&&Ua(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),i!==null&&j(Xi),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Vn(ct),tt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Uw(i,s){switch(Du(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Vn(ct),Me(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return rt(s),null;case 31:if(s.memoizedState!==null){if(Wt(s),s.alternate===null)throw Error(r(340));Ji()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Wt(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ji()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return j(lt),null;case 4:return Me(),null;case 10:return Vn(s.type),null;case 22:case 23:return Wt(s),Ku(),i!==null&&j(Xi),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Vn(ct),null;case 25:return null;default:return null}}function Em(i,s){switch(Du(s),s.tag){case 3:Vn(ct),Me();break;case 26:case 27:case 5:rt(s);break;case 4:Me();break;case 31:s.memoizedState!==null&&Wt(s);break;case 13:Wt(s);break;case 19:j(lt);break;case 10:Vn(s.type);break;case 22:case 23:Wt(s),Ku(),i!==null&&j(Xi);break;case 24:Vn(ct)}}function ro(i,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var y=c.next;l=y;do{if((l.tag&i)===i){c=void 0;var v=l.create,S=l.inst;c=v(),S.destroy=c}l=l.next}while(l!==y)}}catch(E){$e(s,s.return,E)}}function _i(i,s,l){try{var c=s.updateQueue,y=c!==null?c.lastEffect:null;if(y!==null){var v=y.next;c=v;do{if((c.tag&i)===i){var S=c.inst,E=S.destroy;if(E!==void 0){S.destroy=void 0,y=s;var z=l,B=E;try{B()}catch($){$e(y,z,$)}}}c=c.next}while(c!==v)}}catch($){$e(s,s.return,$)}}function Tm(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{mp(s,l)}catch(c){$e(i,i.return,c)}}}function Cm(i,s,l){l.props=tr(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){$e(i,s,c)}}function so(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(y){$e(i,s,y)}}function Rn(i,s){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(y){$e(i,s,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){$e(i,s,y)}else l.current=null}function Am(i){var s=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(y){$e(i,i.return,y)}}function Ac(i,s,l){try{var c=i.stateNode;rS(c,i.type,l,s),c[Ot]=s}catch(y){$e(i,i.return,y)}}function km(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ci(i.type)||i.tag===4}function kc(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||km(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ci(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Nc(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=On));else if(c!==4&&(c===27&&Ci(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(Nc(i,s,l),i=i.sibling;i!==null;)Nc(i,s,l),i=i.sibling}function Oa(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(c!==4&&(c===27&&Ci(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Oa(i,s,l),i=i.sibling;i!==null;)Oa(i,s,l),i=i.sibling}function Nm(i){var s=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);Ct(s,c,l),s[wt]=i,s[Ot]=l}catch(v){$e(i,i.return,v)}}var Jn=!1,ht=!1,Rc=!1,Rm=typeof WeakSet=="function"?WeakSet:Set,bt=null;function Ow(i,s){if(i=i.containerInfo,Qc=rl,i=Vh(i),Su(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var y=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var S=0,E=-1,z=-1,B=0,$=0,Q=i,H=null;t:for(;;){for(var G;Q!==l||y!==0&&Q.nodeType!==3||(E=S+y),Q!==v||c!==0&&Q.nodeType!==3||(z=S+c),Q.nodeType===3&&(S+=Q.nodeValue.length),(G=Q.firstChild)!==null;)H=Q,Q=G;for(;;){if(Q===i)break t;if(H===l&&++B===y&&(E=S),H===v&&++$===c&&(z=S),(G=Q.nextSibling)!==null)break;Q=H,H=Q.parentNode}Q=G}l=E===-1||z===-1?null:{start:E,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for(Wc={focusedElem:i,selectionRange:l},rl=!1,bt=s;bt!==null;)if(s=bt,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,bt=i;else for(;bt!==null;){switch(s=bt,v=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)y=i[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,l=s,y=v.memoizedProps,v=v.memoizedState,c=l.stateNode;try{var fe=tr(l.type,y);i=c.getSnapshotBeforeUpdate(fe,v),c.__reactInternalSnapshotBeforeUpdate=i}catch(be){$e(l,l.return,be)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)td(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":td(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,bt=i;break}bt=s.return}}function Im(i,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Kn(i,l),c&4&&ro(5,l);break;case 1:if(Kn(i,l),c&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(S){$e(l,l.return,S)}else{var y=tr(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(y,s,i.__reactInternalSnapshotBeforeUpdate)}catch(S){$e(l,l.return,S)}}c&64&&Tm(l),c&512&&so(l,l.return);break;case 3:if(Kn(i,l),c&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{mp(i,s)}catch(S){$e(l,l.return,S)}}break;case 27:s===null&&c&4&&Nm(l);case 26:case 5:Kn(i,l),s===null&&c&4&&Am(l),c&512&&so(l,l.return);break;case 12:Kn(i,l);break;case 31:Kn(i,l),c&4&&Dm(i,l);break;case 13:Kn(i,l),c&4&&Pm(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=jw.bind(null,l),fS(i,l))));break;case 22:if(c=l.memoizedState!==null||Jn,!c){s=s!==null&&s.memoizedState!==null||ht,y=Jn;var v=ht;Jn=c,(ht=s)&&!v?Xn(i,l,(l.subtreeFlags&8772)!==0):Kn(i,l),Jn=y,ht=v}break;case 30:break;default:Kn(i,l)}}function zm(i){var s=i.alternate;s!==null&&(i.alternate=null,zm(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&ou(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var it=null,qt=!1;function Yn(i,s,l){for(l=l.child;l!==null;)Mm(i,s,l),l=l.sibling}function Mm(i,s,l){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(Dt,l)}catch{}switch(l.tag){case 26:ht||Rn(l,s),Yn(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ht||Rn(l,s);var c=it,y=qt;Ci(l.type)&&(it=l.stateNode,qt=!1),Yn(i,s,l),mo(l.stateNode),it=c,qt=y;break;case 5:ht||Rn(l,s);case 6:if(c=it,y=qt,it=null,Yn(i,s,l),it=c,qt=y,it!==null)if(qt)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(l.stateNode)}catch(v){$e(l,s,v)}else try{it.removeChild(l.stateNode)}catch(v){$e(l,s,v)}break;case 18:it!==null&&(qt?(i=it,Tg(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),es(i)):Tg(it,l.stateNode));break;case 4:c=it,y=qt,it=l.stateNode.containerInfo,qt=!0,Yn(i,s,l),it=c,qt=y;break;case 0:case 11:case 14:case 15:_i(2,l,s),ht||_i(4,l,s),Yn(i,s,l);break;case 1:ht||(Rn(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Cm(l,s,c)),Yn(i,s,l);break;case 21:Yn(i,s,l);break;case 22:ht=(c=ht)||l.memoizedState!==null,Yn(i,s,l),ht=c;break;default:Yn(i,s,l)}}function Dm(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{es(i)}catch(l){$e(s,s.return,l)}}}function Pm(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{es(i)}catch(l){$e(s,s.return,l)}}function Lw(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Rm),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Rm),s;default:throw Error(r(435,i.tag))}}function La(i,s){var l=Lw(i);s.forEach(function(c){if(!l.has(c)){l.add(c);var y=Jw.bind(null,i,c);c.then(y,y)}})}function Bt(i,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var y=l[c],v=i,S=s,E=S;e:for(;E!==null;){switch(E.tag){case 27:if(Ci(E.type)){it=E.stateNode,qt=!1;break e}break;case 5:it=E.stateNode,qt=!1;break e;case 3:case 4:it=E.stateNode.containerInfo,qt=!0;break e}E=E.return}if(it===null)throw Error(r(160));Mm(v,S,y),it=null,qt=!1,v=y.alternate,v!==null&&(v.return=null),y.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Um(s,i),s=s.sibling}var wn=null;function Um(i,s){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Bt(s,i),Ht(i),c&4&&(_i(3,i,i.return),ro(3,i),_i(5,i,i.return));break;case 1:Bt(s,i),Ht(i),c&512&&(ht||l===null||Rn(l,l.return)),c&64&&Jn&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var y=wn;if(Bt(s,i),Ht(i),c&512&&(ht||l===null||Rn(l,l.return)),c&4){var v=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,y=y.ownerDocument||y;t:switch(c){case"title":v=y.getElementsByTagName("title")[0],(!v||v[zs]||v[wt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=y.createElement(c),y.head.insertBefore(v,y.querySelector("head > title"))),Ct(v,c,l),v[wt]=i,xt(v),c=v;break e;case"link":var S=Ug("link","href",y).get(c+(l.href||""));if(S){for(var E=0;E<S.length;E++)if(v=S[E],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(E,1);break t}}v=y.createElement(c),Ct(v,c,l),y.head.appendChild(v);break;case"meta":if(S=Ug("meta","content",y).get(c+(l.content||""))){for(E=0;E<S.length;E++)if(v=S[E],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(E,1);break t}}v=y.createElement(c),Ct(v,c,l),y.head.appendChild(v);break;default:throw Error(r(468,c))}v[wt]=i,xt(v),c=v}i.stateNode=c}else Og(y,i.type,i.stateNode);else i.stateNode=Pg(y,c,i.memoizedProps);else v!==c?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,c===null?Og(y,i.type,i.stateNode):Pg(y,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Ac(i,i.memoizedProps,l.memoizedProps)}break;case 27:Bt(s,i),Ht(i),c&512&&(ht||l===null||Rn(l,l.return)),l!==null&&c&4&&Ac(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Bt(s,i),Ht(i),c&512&&(ht||l===null||Rn(l,l.return)),i.flags&32){y=i.stateNode;try{Sr(y,"")}catch(fe){$e(i,i.return,fe)}}c&4&&i.stateNode!=null&&(y=i.memoizedProps,Ac(i,y,l!==null?l.memoizedProps:y)),c&1024&&(Rc=!0);break;case 6:if(Bt(s,i),Ht(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(fe){$e(i,i.return,fe)}}break;case 3:if(el=null,y=wn,wn=Wa(s.containerInfo),Bt(s,i),wn=y,Ht(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{es(s.containerInfo)}catch(fe){$e(i,i.return,fe)}Rc&&(Rc=!1,Om(i));break;case 4:c=wn,wn=Wa(i.stateNode.containerInfo),Bt(s,i),Ht(i),wn=c;break;case 12:Bt(s,i),Ht(i);break;case 31:Bt(s,i),Ht(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,La(i,c)));break;case 13:Bt(s,i),Ht(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ba=Mt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,La(i,c)));break;case 22:y=i.memoizedState!==null;var z=l!==null&&l.memoizedState!==null,B=Jn,$=ht;if(Jn=B||y,ht=$||z,Bt(s,i),ht=$,Jn=B,Ht(i),c&8192)e:for(s=i.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(l===null||z||Jn||ht||nr(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){z=l=s;try{if(v=z.stateNode,y)S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{E=z.stateNode;var Q=z.memoizedProps.style,H=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(fe){$e(z,z.return,fe)}}}else if(s.tag===6){if(l===null){z=s;try{z.stateNode.nodeValue=y?"":z.memoizedProps}catch(fe){$e(z,z.return,fe)}}}else if(s.tag===18){if(l===null){z=s;try{var G=z.stateNode;y?Cg(G,!0):Cg(z.stateNode,!1)}catch(fe){$e(z,z.return,fe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,La(i,l))));break;case 19:Bt(s,i),Ht(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,La(i,c)));break;case 30:break;case 21:break;default:Bt(s,i),Ht(i)}}function Ht(i){var s=i.flags;if(s&2){try{for(var l,c=i.return;c!==null;){if(km(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var y=l.stateNode,v=kc(i);Oa(i,v,y);break;case 5:var S=l.stateNode;l.flags&32&&(Sr(S,""),l.flags&=-33);var E=kc(i);Oa(i,E,S);break;case 3:case 4:var z=l.stateNode.containerInfo,B=kc(i);Nc(i,B,z);break;default:throw Error(r(161))}}catch($){$e(i,i.return,$)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Om(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Om(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Kn(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Im(i,s.alternate,s),s=s.sibling}function nr(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:_i(4,s,s.return),nr(s);break;case 1:Rn(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Cm(s,s.return,l),nr(s);break;case 27:mo(s.stateNode);case 26:case 5:Rn(s,s.return),nr(s);break;case 22:s.memoizedState===null&&nr(s);break;case 30:nr(s);break;default:nr(s)}i=i.sibling}}function Xn(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,y=i,v=s,S=v.flags;switch(v.tag){case 0:case 11:case 15:Xn(y,v,l),ro(4,v);break;case 1:if(Xn(y,v,l),c=v,y=c.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(B){$e(c,c.return,B)}if(c=v,y=c.updateQueue,y!==null){var E=c.stateNode;try{var z=y.shared.hiddenCallbacks;if(z!==null)for(y.shared.hiddenCallbacks=null,y=0;y<z.length;y++)pp(z[y],E)}catch(B){$e(c,c.return,B)}}l&&S&64&&Tm(v),so(v,v.return);break;case 27:Nm(v);case 26:case 5:Xn(y,v,l),l&&c===null&&S&4&&Am(v),so(v,v.return);break;case 12:Xn(y,v,l);break;case 31:Xn(y,v,l),l&&S&4&&Dm(y,v);break;case 13:Xn(y,v,l),l&&S&4&&Pm(y,v);break;case 22:v.memoizedState===null&&Xn(y,v,l),so(v,v.return);break;case 30:break;default:Xn(y,v,l)}s=s.sibling}}function Ic(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&$s(l))}function zc(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&$s(i))}function Sn(i,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Lm(i,s,l,c),s=s.sibling}function Lm(i,s,l,c){var y=s.flags;switch(s.tag){case 0:case 11:case 15:Sn(i,s,l,c),y&2048&&ro(9,s);break;case 1:Sn(i,s,l,c);break;case 3:Sn(i,s,l,c),y&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&$s(i)));break;case 12:if(y&2048){Sn(i,s,l,c),i=s.stateNode;try{var v=s.memoizedProps,S=v.id,E=v.onPostCommit;typeof E=="function"&&E(S,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(z){$e(s,s.return,z)}}else Sn(i,s,l,c);break;case 31:Sn(i,s,l,c);break;case 13:Sn(i,s,l,c);break;case 23:break;case 22:v=s.stateNode,S=s.alternate,s.memoizedState!==null?v._visibility&2?Sn(i,s,l,c):oo(i,s):v._visibility&2?Sn(i,s,l,c):(v._visibility|=2,Gr(i,s,l,c,(s.subtreeFlags&10256)!==0||!1)),y&2048&&Ic(S,s);break;case 24:Sn(i,s,l,c),y&2048&&zc(s.alternate,s);break;default:Sn(i,s,l,c)}}function Gr(i,s,l,c,y){for(y=y&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var v=i,S=s,E=l,z=c,B=S.flags;switch(S.tag){case 0:case 11:case 15:Gr(v,S,E,z,y),ro(8,S);break;case 23:break;case 22:var $=S.stateNode;S.memoizedState!==null?$._visibility&2?Gr(v,S,E,z,y):oo(v,S):($._visibility|=2,Gr(v,S,E,z,y)),y&&B&2048&&Ic(S.alternate,S);break;case 24:Gr(v,S,E,z,y),y&&B&2048&&zc(S.alternate,S);break;default:Gr(v,S,E,z,y)}s=s.sibling}}function oo(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,c=s,y=c.flags;switch(c.tag){case 22:oo(l,c),y&2048&&Ic(c.alternate,c);break;case 24:oo(l,c),y&2048&&zc(c.alternate,c);break;default:oo(l,c)}s=s.sibling}}var ao=8192;function Fr(i,s,l){if(i.subtreeFlags&ao)for(i=i.child;i!==null;)qm(i,s,l),i=i.sibling}function qm(i,s,l){switch(i.tag){case 26:Fr(i,s,l),i.flags&ao&&i.memoizedState!==null&&ES(l,wn,i.memoizedState,i.memoizedProps);break;case 5:Fr(i,s,l);break;case 3:case 4:var c=wn;wn=Wa(i.stateNode.containerInfo),Fr(i,s,l),wn=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=ao,ao=16777216,Fr(i,s,l),ao=c):Fr(i,s,l));break;default:Fr(i,s,l)}}function Bm(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function lo(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];bt=c,Vm(c,i)}Bm(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Hm(i),i=i.sibling}function Hm(i){switch(i.tag){case 0:case 11:case 15:lo(i),i.flags&2048&&_i(9,i,i.return);break;case 3:lo(i);break;case 12:lo(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,qa(i)):lo(i);break;default:lo(i)}}function qa(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];bt=c,Vm(c,i)}Bm(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:_i(8,s,s.return),qa(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,qa(s));break;default:qa(s)}i=i.sibling}}function Vm(i,s){for(;bt!==null;){var l=bt;switch(l.tag){case 0:case 11:case 15:_i(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:$s(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,bt=c;else e:for(l=i;bt!==null;){c=bt;var y=c.sibling,v=c.return;if(zm(c),c===l){bt=null;break e}if(y!==null){y.return=v,bt=y;break e}bt=v}}}var qw={getCacheForType:function(i){var s=Et(ct),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l},cacheSignal:function(){return Et(ct).controller.signal}},Bw=typeof WeakMap=="function"?WeakMap:Map,He=0,Xe=null,Ie=null,De=0,Fe=0,Zt=null,xi=!1,$r=!1,Mc=!1,Qn=0,at=0,bi=0,ir=0,Dc=0,en=0,jr=0,uo=null,Vt=null,Pc=!1,Ba=0,Gm=0,Ha=1/0,Va=null,wi=null,vt=0,Si=null,Jr=null,Wn=0,Uc=0,Oc=null,Fm=null,co=0,Lc=null;function tn(){return(He&2)!==0&&De!==0?De&-De:L.T!==null?Fc():oh()}function $m(){if(en===0)if((De&536870912)===0||Oe){var i=Xo;Xo<<=1,(Xo&3932160)===0&&(Xo=262144),en=i}else en=536870912;return i=Qt.current,i!==null&&(i.flags|=32),en}function Gt(i,s,l){(i===Xe&&(Fe===2||Fe===9)||i.cancelPendingCommit!==null)&&(Yr(i,0),Ei(i,De,en,!1)),Is(i,l),((He&2)===0||i!==Xe)&&(i===Xe&&((He&2)===0&&(ir|=l),at===4&&Ei(i,De,en,!1)),In(i))}function jm(i,s,l){if((He&6)!==0)throw Error(r(327));var c=!l&&(s&127)===0&&(s&i.expiredLanes)===0||Rs(i,s),y=c?Gw(i,s):Bc(i,s,!0),v=c;do{if(y===0){$r&&!c&&Ei(i,s,0,!1);break}else{if(l=i.current.alternate,v&&!Hw(l)){y=Bc(i,s,!1),v=!1;continue}if(y===2){if(v=s,i.errorRecoveryDisabledLanes&v)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var E=i;y=uo;var z=E.current.memoizedState.isDehydrated;if(z&&(Yr(E,S).flags|=256),S=Bc(E,S,!1),S!==2){if(Mc&&!z){E.errorRecoveryDisabledLanes|=v,ir|=v,y=4;break e}v=Vt,Vt=y,v!==null&&(Vt===null?Vt=v:Vt.push.apply(Vt,v))}y=S}if(v=!1,y!==2)continue}}if(y===1){Yr(i,0),Ei(i,s,0,!0);break}e:{switch(c=i,v=y,v){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ei(c,s,en,!xi);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(y=Ba+300-Mt(),10<y)){if(Ei(c,s,en,!xi),Wo(c,0,!0)!==0)break e;Wn=s,c.timeoutHandle=Sg(Jm.bind(null,c,l,Vt,Va,Pc,s,en,ir,jr,xi,v,"Throttled",-0,0),y);break e}Jm(c,l,Vt,Va,Pc,s,en,ir,jr,xi,v,null,-0,0)}}break}while(!0);In(i)}function Jm(i,s,l,c,y,v,S,E,z,B,$,Q,H,G){if(i.timeoutHandle=-1,Q=s.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:On},qm(s,v,Q);var fe=(v&62914560)===v?Ba-Mt():(v&4194048)===v?Gm-Mt():0;if(fe=TS(Q,fe),fe!==null){Wn=v,i.cancelPendingCommit=fe(tg.bind(null,i,s,v,l,c,y,S,E,z,$,Q,null,H,G)),Ei(i,v,S,!B);return}}tg(i,s,v,l,c,y,S,E,z)}function Hw(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var y=l[c],v=y.getSnapshot;y=y.value;try{if(!Kt(v(),y))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ei(i,s,l,c){s&=~Dc,s&=~ir,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var y=s;0<y;){var v=31-Ke(y),S=1<<v;c[v]=-1,y&=~S}l!==0&&ih(i,l,s)}function Ga(){return(He&6)===0?(fo(0),!1):!0}function qc(){if(Ie!==null){if(Fe===0)var i=Ie.return;else i=Ie,Hn=Yi=null,tc(i),Lr=null,Js=0,i=Ie;for(;i!==null;)Em(i.alternate,i),i=i.return;Ie=null}}function Yr(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,aS(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Wn=0,qc(),Xe=i,Ie=l=qn(i.current,null),De=s,Fe=0,Zt=null,xi=!1,$r=Rs(i,s),Mc=!1,jr=en=Dc=ir=bi=at=0,Vt=uo=null,Pc=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var y=31-Ke(c),v=1<<y;s|=i[y],c&=~v}return Qn=s,ca(),l}function Ym(i,s){Ce=null,L.H=to,s===Or||s===va?(s=cp(),Fe=3):s===Gu?(s=cp(),Fe=4):Fe=s===yc?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Zt=s,Ie===null&&(at=1,za(i,dn(s,i.current)))}function Km(){var i=Qt.current;return i===null?!0:(De&4194048)===De?mn===null:(De&62914560)===De||(De&536870912)!==0?i===mn:!1}function Xm(){var i=L.H;return L.H=to,i===null?to:i}function Qm(){var i=L.A;return L.A=qw,i}function Fa(){at=4,xi||(De&4194048)!==De&&Qt.current!==null||($r=!0),(bi&134217727)===0&&(ir&134217727)===0||Xe===null||Ei(Xe,De,en,!1)}function Bc(i,s,l){var c=He;He|=2;var y=Xm(),v=Qm();(Xe!==i||De!==s)&&(Va=null,Yr(i,s)),s=!1;var S=at;e:do try{if(Fe!==0&&Ie!==null){var E=Ie,z=Zt;switch(Fe){case 8:qc(),S=6;break e;case 3:case 2:case 9:case 6:Qt.current===null&&(s=!0);var B=Fe;if(Fe=0,Zt=null,Kr(i,E,z,B),l&&$r){S=0;break e}break;default:B=Fe,Fe=0,Zt=null,Kr(i,E,z,B)}}Vw(),S=at;break}catch($){Ym(i,$)}while(!0);return s&&i.shellSuspendCounter++,Hn=Yi=null,He=c,L.H=y,L.A=v,Ie===null&&(Xe=null,De=0,ca()),S}function Vw(){for(;Ie!==null;)Wm(Ie)}function Gw(i,s){var l=He;He|=2;var c=Xm(),y=Qm();Xe!==i||De!==s?(Va=null,Ha=Mt()+500,Yr(i,s)):$r=Rs(i,s);e:do try{if(Fe!==0&&Ie!==null){s=Ie;var v=Zt;t:switch(Fe){case 1:Fe=0,Zt=null,Kr(i,s,v,1);break;case 2:case 9:if(lp(v)){Fe=0,Zt=null,Zm(s);break}s=function(){Fe!==2&&Fe!==9||Xe!==i||(Fe=7),In(i)},v.then(s,s);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:lp(v)?(Fe=0,Zt=null,Zm(s)):(Fe=0,Zt=null,Kr(i,s,v,7));break;case 5:var S=null;switch(Ie.tag){case 26:S=Ie.memoizedState;case 5:case 27:var E=Ie;if(S?Lg(S):E.stateNode.complete){Fe=0,Zt=null;var z=E.sibling;if(z!==null)Ie=z;else{var B=E.return;B!==null?(Ie=B,$a(B)):Ie=null}break t}}Fe=0,Zt=null,Kr(i,s,v,5);break;case 6:Fe=0,Zt=null,Kr(i,s,v,6);break;case 8:qc(),at=6;break e;default:throw Error(r(462))}}Fw();break}catch($){Ym(i,$)}while(!0);return Hn=Yi=null,L.H=c,L.A=y,He=l,Ie!==null?0:(Xe=null,De=0,ca(),at)}function Fw(){for(;Ie!==null&&!Zl();)Wm(Ie)}function Wm(i){var s=wm(i.alternate,i,Qn);i.memoizedProps=i.pendingProps,s===null?$a(i):Ie=s}function Zm(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=gm(l,s,s.pendingProps,s.type,void 0,De);break;case 11:s=gm(l,s,s.pendingProps,s.type.render,s.ref,De);break;case 5:tc(s);default:Em(l,s),s=Ie=Qh(s,Qn),s=wm(l,s,Qn)}i.memoizedProps=i.pendingProps,s===null?$a(i):Ie=s}function Kr(i,s,l,c){Hn=Yi=null,tc(s),Lr=null,Js=0;var y=s.return;try{if(zw(i,y,s,l,De)){at=1,za(i,dn(l,i.current)),Ie=null;return}}catch(v){if(y!==null)throw Ie=y,v;at=1,za(i,dn(l,i.current)),Ie=null;return}s.flags&32768?(Oe||c===1?i=!0:$r||(De&536870912)!==0?i=!1:(xi=i=!0,(c===2||c===9||c===3||c===6)&&(c=Qt.current,c!==null&&c.tag===13&&(c.flags|=16384))),eg(s,i)):$a(s)}function $a(i){var s=i;do{if((s.flags&32768)!==0){eg(s,xi);return}i=s.return;var l=Pw(s.alternate,s,Qn);if(l!==null){Ie=l;return}if(s=s.sibling,s!==null){Ie=s;return}Ie=s=i}while(s!==null);at===0&&(at=5)}function eg(i,s){do{var l=Uw(i.alternate,i);if(l!==null){l.flags&=32767,Ie=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){Ie=i;return}Ie=i=l}while(i!==null);at=6,Ie=null}function tg(i,s,l,c,y,v,S,E,z){i.cancelPendingCommit=null;do ja();while(vt!==0);if((He&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(v=s.lanes|s.childLanes,v|=ku,Sb(i,l,v,S,E,z),i===Xe&&(Ie=Xe=null,De=0),Jr=s,Si=i,Wn=l,Uc=v,Oc=y,Fm=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Yw(Se,function(){return og(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=L.T,L.T=null,y=Z.p,Z.p=2,S=He,He|=4;try{Ow(i,s,l)}finally{He=S,Z.p=y,L.T=c}}vt=1,ng(),ig(),rg()}}function ng(){if(vt===1){vt=0;var i=Si,s=Jr,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=L.T,L.T=null;var c=Z.p;Z.p=2;var y=He;He|=4;try{Um(s,i);var v=Wc,S=Vh(i.containerInfo),E=v.focusedElem,z=v.selectionRange;if(S!==E&&E&&E.ownerDocument&&Hh(E.ownerDocument.documentElement,E)){if(z!==null&&Su(E)){var B=z.start,$=z.end;if($===void 0&&($=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min($,E.value.length);else{var Q=E.ownerDocument||document,H=Q&&Q.defaultView||window;if(H.getSelection){var G=H.getSelection(),fe=E.textContent.length,be=Math.min(z.start,fe),Ye=z.end===void 0?be:Math.min(z.end,fe);!G.extend&&be>Ye&&(S=Ye,Ye=be,be=S);var O=Bh(E,be),D=Bh(E,Ye);if(O&&D&&(G.rangeCount!==1||G.anchorNode!==O.node||G.anchorOffset!==O.offset||G.focusNode!==D.node||G.focusOffset!==D.offset)){var q=Q.createRange();q.setStart(O.node,O.offset),G.removeAllRanges(),be>Ye?(G.addRange(q),G.extend(D.node,D.offset)):(q.setEnd(D.node,D.offset),G.addRange(q))}}}}for(Q=[],G=E;G=G.parentNode;)G.nodeType===1&&Q.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var K=Q[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}rl=!!Qc,Wc=Qc=null}finally{He=y,Z.p=c,L.T=l}}i.current=s,vt=2}}function ig(){if(vt===2){vt=0;var i=Si,s=Jr,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=L.T,L.T=null;var c=Z.p;Z.p=2;var y=He;He|=4;try{Im(i,s.alternate,s)}finally{He=y,Z.p=c,L.T=l}}vt=3}}function rg(){if(vt===4||vt===3){vt=0,eu();var i=Si,s=Jr,l=Wn,c=Fm;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?vt=5:(vt=0,Jr=Si=null,sg(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(wi=null),ru(l),s=s.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(Dt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=L.T,y=Z.p,Z.p=2,L.T=null;try{for(var v=i.onRecoverableError,S=0;S<c.length;S++){var E=c[S];v(E.value,{componentStack:E.stack})}}finally{L.T=s,Z.p=y}}(Wn&3)!==0&&ja(),In(i),y=i.pendingLanes,(l&261930)!==0&&(y&42)!==0?i===Lc?co++:(co=0,Lc=i):co=0,fo(0)}}function sg(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,$s(s)))}function ja(){return ng(),ig(),rg(),og()}function og(){if(vt!==5)return!1;var i=Si,s=Uc;Uc=0;var l=ru(Wn),c=L.T,y=Z.p;try{Z.p=32>l?32:l,L.T=null,l=Oc,Oc=null;var v=Si,S=Wn;if(vt=0,Jr=Si=null,Wn=0,(He&6)!==0)throw Error(r(331));var E=He;if(He|=4,Hm(v.current),Lm(v,v.current,S,l),He=E,fo(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(Dt,v)}catch{}return!0}finally{Z.p=y,L.T=c,sg(i,s)}}function ag(i,s,l){s=dn(l,s),s=gc(i.stateNode,s,2),i=gi(i,s,2),i!==null&&(Is(i,2),In(i))}function $e(i,s,l){if(i.tag===3)ag(i,i,l);else for(;s!==null;){if(s.tag===3){ag(s,i,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(wi===null||!wi.has(c))){i=dn(l,i),l=lm(2),c=gi(s,l,2),c!==null&&(um(l,c,s,i),Is(c,2),In(c));break}}s=s.return}}function Hc(i,s,l){var c=i.pingCache;if(c===null){c=i.pingCache=new Bw;var y=new Set;c.set(s,y)}else y=c.get(s),y===void 0&&(y=new Set,c.set(s,y));y.has(l)||(Mc=!0,y.add(l),i=$w.bind(null,i,s,l),s.then(i,i))}function $w(i,s,l){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Xe===i&&(De&l)===l&&(at===4||at===3&&(De&62914560)===De&&300>Mt()-Ba?(He&2)===0&&Yr(i,0):Dc|=l,jr===De&&(jr=0)),In(i)}function lg(i,s){s===0&&(s=nh()),i=$i(i,s),i!==null&&(Is(i,s),In(i))}function jw(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),lg(i,l)}function Jw(i,s){var l=0;switch(i.tag){case 31:case 13:var c=i.stateNode,y=i.memoizedState;y!==null&&(l=y.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),lg(i,l)}function Yw(i,s){return gr(i,s)}var Ja=null,Xr=null,Vc=!1,Ya=!1,Gc=!1,Ti=0;function In(i){i!==Xr&&i.next===null&&(Xr===null?Ja=Xr=i:Xr=Xr.next=i),Ya=!0,Vc||(Vc=!0,Xw())}function fo(i,s){if(!Gc&&Ya){Gc=!0;do for(var l=!1,c=Ja;c!==null;){if(i!==0){var y=c.pendingLanes;if(y===0)var v=0;else{var S=c.suspendedLanes,E=c.pingedLanes;v=(1<<31-Ke(42|i)+1)-1,v&=y&~(S&~E),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,fg(c,v))}else v=De,v=Wo(c,c===Xe?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||Rs(c,v)||(l=!0,fg(c,v));c=c.next}while(l);Gc=!1}}function Kw(){ug()}function ug(){Ya=Vc=!1;var i=0;Ti!==0&&oS()&&(i=Ti);for(var s=Mt(),l=null,c=Ja;c!==null;){var y=c.next,v=cg(c,s);v===0?(c.next=null,l===null?Ja=y:l.next=y,y===null&&(Xr=l)):(l=c,(i!==0||(v&3)!==0)&&(Ya=!0)),c=y}vt!==0&&vt!==5||fo(i),Ti!==0&&(Ti=0)}function cg(i,s){for(var l=i.suspendedLanes,c=i.pingedLanes,y=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var S=31-Ke(v),E=1<<S,z=y[S];z===-1?((E&l)===0||(E&c)!==0)&&(y[S]=wb(E,s)):z<=s&&(i.expiredLanes|=E),v&=~E}if(s=Xe,l=De,l=Wo(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===s&&(Fe===2||Fe===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Ns(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Rs(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(c!==null&&Ns(c),ru(l)){case 2:case 8:l=ae;break;case 32:l=Se;break;case 268435456:l=Ge;break;default:l=Se}return c=dg.bind(null,i),l=gr(l,c),i.callbackPriority=s,i.callbackNode=l,s}return c!==null&&c!==null&&Ns(c),i.callbackPriority=2,i.callbackNode=null,2}function dg(i,s){if(vt!==0&&vt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(ja()&&i.callbackNode!==l)return null;var c=De;return c=Wo(i,i===Xe?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(jm(i,c,s),cg(i,Mt()),i.callbackNode!=null&&i.callbackNode===l?dg.bind(null,i):null)}function fg(i,s){if(ja())return null;jm(i,s,!0)}function Xw(){lS(function(){(He&6)!==0?gr(Y,Kw):ug()})}function Fc(){if(Ti===0){var i=Pr;i===0&&(i=Ko,Ko<<=1,(Ko&261888)===0&&(Ko=256)),Ti=i}return Ti}function hg(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:na(""+i)}function pg(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function Qw(i,s,l,c,y){if(s==="submit"&&l&&l.stateNode===y){var v=hg((y[Ot]||null).action),S=c.submitter;S&&(s=(s=S[Ot]||null)?hg(s.formAction):S.getAttribute("formAction"),s!==null&&(v=s,S=null));var E=new oa("action","action",null,c,y);i.push({event:E,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ti!==0){var z=S?pg(y,S):new FormData(y);cc(l,{pending:!0,data:z,method:y.method,action:v},null,z)}}else typeof v=="function"&&(E.preventDefault(),z=S?pg(y,S):new FormData(y),cc(l,{pending:!0,data:z,method:y.method,action:v},v,z))},currentTarget:y}]})}}for(var $c=0;$c<Au.length;$c++){var jc=Au[$c],Ww=jc.toLowerCase(),Zw=jc[0].toUpperCase()+jc.slice(1);bn(Ww,"on"+Zw)}bn($h,"onAnimationEnd"),bn(jh,"onAnimationIteration"),bn(Jh,"onAnimationStart"),bn("dblclick","onDoubleClick"),bn("focusin","onFocus"),bn("focusout","onBlur"),bn(mw,"onTransitionRun"),bn(gw,"onTransitionStart"),bn(yw,"onTransitionCancel"),bn(Yh,"onTransitionEnd"),br("onMouseEnter",["mouseout","mouseover"]),br("onMouseLeave",["mouseout","mouseover"]),br("onPointerEnter",["pointerout","pointerover"]),br("onPointerLeave",["pointerout","pointerover"]),Hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ho));function mg(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],y=c.event;c=c.listeners;e:{var v=void 0;if(s)for(var S=c.length-1;0<=S;S--){var E=c[S],z=E.instance,B=E.currentTarget;if(E=E.listener,z!==v&&y.isPropagationStopped())break e;v=E,y.currentTarget=B;try{v(y)}catch($){ua($)}y.currentTarget=null,v=z}else for(S=0;S<c.length;S++){if(E=c[S],z=E.instance,B=E.currentTarget,E=E.listener,z!==v&&y.isPropagationStopped())break e;v=E,y.currentTarget=B;try{v(y)}catch($){ua($)}y.currentTarget=null,v=z}}}}function ze(i,s){var l=s[su];l===void 0&&(l=s[su]=new Set);var c=i+"__bubble";l.has(c)||(gg(s,i,2,!1),l.add(c))}function Jc(i,s,l){var c=0;s&&(c|=4),gg(l,i,c,s)}var Ka="_reactListening"+Math.random().toString(36).slice(2);function Yc(i){if(!i[Ka]){i[Ka]=!0,uh.forEach(function(l){l!=="selectionchange"&&(eS.has(l)||Jc(l,!1,i),Jc(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Ka]||(s[Ka]=!0,Jc("selectionchange",!1,s))}}function gg(i,s,l,c){switch($g(s)){case 2:var y=kS;break;case 8:y=NS;break;default:y=ud}l=y.bind(null,s,l,i),y=void 0,!pu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),c?y!==void 0?i.addEventListener(s,l,{capture:!0,passive:y}):i.addEventListener(s,l,!0):y!==void 0?i.addEventListener(s,l,{passive:y}):i.addEventListener(s,l,!1)}function Kc(i,s,l,c,y){var v=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var E=c.stateNode.containerInfo;if(E===y)break;if(S===4)for(S=c.return;S!==null;){var z=S.tag;if((z===3||z===4)&&S.stateNode.containerInfo===y)return;S=S.return}for(;E!==null;){if(S=vr(E),S===null)return;if(z=S.tag,z===5||z===6||z===26||z===27){c=v=S;continue e}E=E.parentNode}}c=c.return}bh(function(){var B=v,$=fu(l),Q=[];e:{var H=Kh.get(i);if(H!==void 0){var G=oa,fe=i;switch(i){case"keypress":if(ra(l)===0)break e;case"keydown":case"keyup":G=Jb;break;case"focusin":fe="focus",G=vu;break;case"focusout":fe="blur",G=vu;break;case"beforeblur":case"afterblur":G=vu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Eh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Pb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Xb;break;case $h:case jh:case Jh:G=Lb;break;case Yh:G=Wb;break;case"scroll":case"scrollend":G=Mb;break;case"wheel":G=ew;break;case"copy":case"cut":case"paste":G=Bb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Ch;break;case"toggle":case"beforetoggle":G=nw}var be=(s&4)!==0,Ye=!be&&(i==="scroll"||i==="scrollend"),O=be?H!==null?H+"Capture":null:H;be=[];for(var D=B,q;D!==null;){var K=D;if(q=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||q===null||O===null||(K=Ds(D,O),K!=null&&be.push(po(D,K,q))),Ye)break;D=D.return}0<be.length&&(H=new G(H,fe,null,l,$),Q.push({event:H,listeners:be}))}}if((s&7)===0){e:{if(H=i==="mouseover"||i==="pointerover",G=i==="mouseout"||i==="pointerout",H&&l!==du&&(fe=l.relatedTarget||l.fromElement)&&(vr(fe)||fe[yr]))break e;if((G||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,G?(fe=l.relatedTarget||l.toElement,G=B,fe=fe?vr(fe):null,fe!==null&&(Ye=a(fe),be=fe.tag,fe!==Ye||be!==5&&be!==27&&be!==6)&&(fe=null)):(G=null,fe=B),G!==fe)){if(be=Eh,K="onMouseLeave",O="onMouseEnter",D="mouse",(i==="pointerout"||i==="pointerover")&&(be=Ch,K="onPointerLeave",O="onPointerEnter",D="pointer"),Ye=G==null?H:Ms(G),q=fe==null?H:Ms(fe),H=new be(K,D+"leave",G,l,$),H.target=Ye,H.relatedTarget=q,K=null,vr($)===B&&(be=new be(O,D+"enter",fe,l,$),be.target=q,be.relatedTarget=Ye,K=be),Ye=K,G&&fe)t:{for(be=tS,O=G,D=fe,q=0,K=O;K;K=be(K))q++;K=0;for(var xe=D;xe;xe=be(xe))K++;for(;0<q-K;)O=be(O),q--;for(;0<K-q;)D=be(D),K--;for(;q--;){if(O===D||D!==null&&O===D.alternate){be=O;break t}O=be(O),D=be(D)}be=null}else be=null;G!==null&&yg(Q,H,G,be,!1),fe!==null&&Ye!==null&&yg(Q,Ye,fe,be,!0)}}e:{if(H=B?Ms(B):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var Le=Dh;else if(zh(H))if(Ph)Le=fw;else{Le=cw;var ge=uw}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&cu(B.elementType)&&(Le=Dh):Le=dw;if(Le&&(Le=Le(i,B))){Mh(Q,Le,l,$);break e}ge&&ge(i,H,B),i==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&uu(H,"number",H.value)}switch(ge=B?Ms(B):window,i){case"focusin":(zh(ge)||ge.contentEditable==="true")&&(Ar=ge,Eu=B,Vs=null);break;case"focusout":Vs=Eu=Ar=null;break;case"mousedown":Tu=!0;break;case"contextmenu":case"mouseup":case"dragend":Tu=!1,Gh(Q,l,$);break;case"selectionchange":if(pw)break;case"keydown":case"keyup":Gh(Q,l,$)}var Ae;if(xu)e:{switch(i){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Cr?Rh(i,l)&&(Pe="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Pe="onCompositionStart");Pe&&(Ah&&l.locale!=="ko"&&(Cr||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Cr&&(Ae=wh()):(ui=$,mu="value"in ui?ui.value:ui.textContent,Cr=!0)),ge=Xa(B,Pe),0<ge.length&&(Pe=new Th(Pe,i,null,l,$),Q.push({event:Pe,listeners:ge}),Ae?Pe.data=Ae:(Ae=Ih(l),Ae!==null&&(Pe.data=Ae)))),(Ae=rw?sw(i,l):ow(i,l))&&(Pe=Xa(B,"onBeforeInput"),0<Pe.length&&(ge=new Th("onBeforeInput","beforeinput",null,l,$),Q.push({event:ge,listeners:Pe}),ge.data=Ae)),Qw(Q,i,B,l,$)}mg(Q,s)})}function po(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Xa(i,s){for(var l=s+"Capture",c=[];i!==null;){var y=i,v=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||v===null||(y=Ds(i,l),y!=null&&c.unshift(po(i,y,v)),y=Ds(i,s),y!=null&&c.push(po(i,y,v))),i.tag===3)return c;i=i.return}return[]}function tS(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function yg(i,s,l,c,y){for(var v=s._reactName,S=[];l!==null&&l!==c;){var E=l,z=E.alternate,B=E.stateNode;if(E=E.tag,z!==null&&z===c)break;E!==5&&E!==26&&E!==27||B===null||(z=B,y?(B=Ds(l,v),B!=null&&S.unshift(po(l,B,z))):y||(B=Ds(l,v),B!=null&&S.push(po(l,B,z)))),l=l.return}S.length!==0&&i.push({event:s,listeners:S})}var nS=/\r\n?/g,iS=/\u0000|\uFFFD/g;function vg(i){return(typeof i=="string"?i:""+i).replace(nS,`
`).replace(iS,"")}function _g(i,s){return s=vg(s),vg(i)===s}function Je(i,s,l,c,y,v){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Sr(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Sr(i,""+c);break;case"className":ea(i,"class",c);break;case"tabIndex":ea(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ea(i,l,c);break;case"style":_h(i,c,v);break;case"data":if(s!=="object"){ea(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=na(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(s!=="input"&&Je(i,s,"name",y.name,y,null),Je(i,s,"formEncType",y.formEncType,y,null),Je(i,s,"formMethod",y.formMethod,y,null),Je(i,s,"formTarget",y.formTarget,y,null)):(Je(i,s,"encType",y.encType,y,null),Je(i,s,"method",y.method,y,null),Je(i,s,"target",y.target,y,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=na(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=On);break;case"onScroll":c!=null&&ze("scroll",i);break;case"onScrollEnd":c!=null&&ze("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=na(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":ze("beforetoggle",i),ze("toggle",i),Zo(i,"popover",c);break;case"xlinkActuate":Un(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Un(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Un(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Un(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Un(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Un(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Un(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Un(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Un(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Zo(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ib.get(l)||l,Zo(i,l,c))}}function Xc(i,s,l,c,y,v){switch(l){case"style":_h(i,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?Sr(i,c):(typeof c=="number"||typeof c=="bigint")&&Sr(i,""+c);break;case"onScroll":c!=null&&ze("scroll",i);break;case"onScrollEnd":c!=null&&ze("scrollend",i);break;case"onClick":c!=null&&(i.onclick=On);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ch.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),s=l.slice(2,y?l.length-7:void 0),v=i[Ot]||null,v=v!=null?v[l]:null,typeof v=="function"&&i.removeEventListener(s,v,y),typeof c=="function")){typeof v!="function"&&v!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,c,y);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):Zo(i,l,c)}}}function Ct(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",i),ze("load",i);var c=!1,y=!1,v;for(v in l)if(l.hasOwnProperty(v)){var S=l[v];if(S!=null)switch(v){case"src":c=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Je(i,s,v,S,l,null)}}y&&Je(i,s,"srcSet",l.srcSet,l,null),c&&Je(i,s,"src",l.src,l,null);return;case"input":ze("invalid",i);var E=v=S=y=null,z=null,B=null;for(c in l)if(l.hasOwnProperty(c)){var $=l[c];if($!=null)switch(c){case"name":y=$;break;case"type":S=$;break;case"checked":z=$;break;case"defaultChecked":B=$;break;case"value":v=$;break;case"defaultValue":E=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:Je(i,s,c,$,l,null)}}mh(i,v,E,z,B,S,y,!1);return;case"select":ze("invalid",i),c=S=v=null;for(y in l)if(l.hasOwnProperty(y)&&(E=l[y],E!=null))switch(y){case"value":v=E;break;case"defaultValue":S=E;break;case"multiple":c=E;default:Je(i,s,y,E,l,null)}s=v,l=S,i.multiple=!!c,s!=null?wr(i,!!c,s,!1):l!=null&&wr(i,!!c,l,!0);return;case"textarea":ze("invalid",i),v=y=c=null;for(S in l)if(l.hasOwnProperty(S)&&(E=l[S],E!=null))switch(S){case"value":c=E;break;case"defaultValue":y=E;break;case"children":v=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Je(i,s,S,E,l,null)}yh(i,c,y,v);return;case"option":for(z in l)if(l.hasOwnProperty(z)&&(c=l[z],c!=null))switch(z){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Je(i,s,z,c,l,null)}return;case"dialog":ze("beforetoggle",i),ze("toggle",i),ze("cancel",i),ze("close",i);break;case"iframe":case"object":ze("load",i);break;case"video":case"audio":for(c=0;c<ho.length;c++)ze(ho[c],i);break;case"image":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"embed":case"source":case"link":ze("error",i),ze("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in l)if(l.hasOwnProperty(B)&&(c=l[B],c!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Je(i,s,B,c,l,null)}return;default:if(cu(s)){for($ in l)l.hasOwnProperty($)&&(c=l[$],c!==void 0&&Xc(i,s,$,c,l,void 0));return}}for(E in l)l.hasOwnProperty(E)&&(c=l[E],c!=null&&Je(i,s,E,c,l,null))}function rS(i,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,v=null,S=null,E=null,z=null,B=null,$=null;for(G in l){var Q=l[G];if(l.hasOwnProperty(G)&&Q!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":z=Q;default:c.hasOwnProperty(G)||Je(i,s,G,null,c,Q)}}for(var H in c){var G=c[H];if(Q=l[H],c.hasOwnProperty(H)&&(G!=null||Q!=null))switch(H){case"type":v=G;break;case"name":y=G;break;case"checked":B=G;break;case"defaultChecked":$=G;break;case"value":S=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:G!==Q&&Je(i,s,H,G,c,Q)}}lu(i,S,E,z,B,$,v,y);return;case"select":G=S=E=H=null;for(v in l)if(z=l[v],l.hasOwnProperty(v)&&z!=null)switch(v){case"value":break;case"multiple":G=z;default:c.hasOwnProperty(v)||Je(i,s,v,null,c,z)}for(y in c)if(v=c[y],z=l[y],c.hasOwnProperty(y)&&(v!=null||z!=null))switch(y){case"value":H=v;break;case"defaultValue":E=v;break;case"multiple":S=v;default:v!==z&&Je(i,s,y,v,c,z)}s=E,l=S,c=G,H!=null?wr(i,!!l,H,!1):!!c!=!!l&&(s!=null?wr(i,!!l,s,!0):wr(i,!!l,l?[]:"",!1));return;case"textarea":G=H=null;for(E in l)if(y=l[E],l.hasOwnProperty(E)&&y!=null&&!c.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Je(i,s,E,null,c,y)}for(S in c)if(y=c[S],v=l[S],c.hasOwnProperty(S)&&(y!=null||v!=null))switch(S){case"value":H=y;break;case"defaultValue":G=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==v&&Je(i,s,S,y,c,v)}gh(i,H,G);return;case"option":for(var fe in l)if(H=l[fe],l.hasOwnProperty(fe)&&H!=null&&!c.hasOwnProperty(fe))switch(fe){case"selected":i.selected=!1;break;default:Je(i,s,fe,null,c,H)}for(z in c)if(H=c[z],G=l[z],c.hasOwnProperty(z)&&H!==G&&(H!=null||G!=null))switch(z){case"selected":i.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Je(i,s,z,H,c,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in l)H=l[be],l.hasOwnProperty(be)&&H!=null&&!c.hasOwnProperty(be)&&Je(i,s,be,null,c,H);for(B in c)if(H=c[B],G=l[B],c.hasOwnProperty(B)&&H!==G&&(H!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,s));break;default:Je(i,s,B,H,c,G)}return;default:if(cu(s)){for(var Ye in l)H=l[Ye],l.hasOwnProperty(Ye)&&H!==void 0&&!c.hasOwnProperty(Ye)&&Xc(i,s,Ye,void 0,c,H);for($ in c)H=c[$],G=l[$],!c.hasOwnProperty($)||H===G||H===void 0&&G===void 0||Xc(i,s,$,H,c,G);return}}for(var O in l)H=l[O],l.hasOwnProperty(O)&&H!=null&&!c.hasOwnProperty(O)&&Je(i,s,O,null,c,H);for(Q in c)H=c[Q],G=l[Q],!c.hasOwnProperty(Q)||H===G||H==null&&G==null||Je(i,s,Q,H,c,G)}function xg(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sS(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var y=l[c],v=y.transferSize,S=y.initiatorType,E=y.duration;if(v&&E&&xg(S)){for(S=0,E=y.responseEnd,c+=1;c<l.length;c++){var z=l[c],B=z.startTime;if(B>E)break;var $=z.transferSize,Q=z.initiatorType;$&&xg(Q)&&(z=z.responseEnd,S+=$*(z<E?1:(E-B)/(z-B)))}if(--c,s+=8*(v+S)/(y.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Qc=null,Wc=null;function Qa(i){return i.nodeType===9?i:i.ownerDocument}function bg(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wg(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Zc(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ed=null;function oS(){var i=window.event;return i&&i.type==="popstate"?i===ed?!1:(ed=i,!0):(ed=null,!1)}var Sg=typeof setTimeout=="function"?setTimeout:void 0,aS=typeof clearTimeout=="function"?clearTimeout:void 0,Eg=typeof Promise=="function"?Promise:void 0,lS=typeof queueMicrotask=="function"?queueMicrotask:typeof Eg<"u"?function(i){return Eg.resolve(null).then(i).catch(uS)}:Sg;function uS(i){setTimeout(function(){throw i})}function Ci(i){return i==="head"}function Tg(i,s){var l=s,c=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(c===0){i.removeChild(y),es(s);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")mo(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,mo(l);for(var v=l.firstChild;v;){var S=v.nextSibling,E=v.nodeName;v[zs]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&v.rel.toLowerCase()==="stylesheet"||l.removeChild(v),v=S}}else l==="body"&&mo(i.ownerDocument.body);l=y}while(l);es(s)}function Cg(i,s){var l=i;i=0;do{var c=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=c}while(l)}function td(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":td(l),ou(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function cS(i,s,l,c){for(;i.nodeType===1;){var y=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[zs])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var v=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=gn(i.nextSibling),i===null)break}return null}function dS(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=gn(i.nextSibling),i===null))return null;return i}function Ag(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=gn(i.nextSibling),i===null))return null;return i}function nd(i){return i.data==="$?"||i.data==="$~"}function id(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function fS(i,s){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||l.readyState!=="loading")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function gn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var rd=null;function kg(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(s===0)return gn(i.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}i=i.nextSibling}return null}function Ng(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return i;s--}else l!=="/$"&&l!=="/&"||s++}i=i.previousSibling}return null}function Rg(i,s,l){switch(s=Qa(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function mo(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);ou(i)}var yn=new Map,Ig=new Set;function Wa(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Zn=Z.d;Z.d={f:hS,r:pS,D:mS,C:gS,L:yS,m:vS,X:xS,S:_S,M:bS};function hS(){var i=Zn.f(),s=Ga();return i||s}function pS(i){var s=_r(i);s!==null&&s.tag===5&&s.type==="form"?Yp(s):Zn.r(i)}var Qr=typeof document>"u"?null:document;function zg(i,s,l){var c=Qr;if(c&&typeof s=="string"&&s){var y=un(s);y='link[rel="'+i+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),Ig.has(y)||(Ig.add(y),i={rel:i,crossOrigin:l,href:s},c.querySelector(y)===null&&(s=c.createElement("link"),Ct(s,"link",i),xt(s),c.head.appendChild(s)))}}function mS(i){Zn.D(i),zg("dns-prefetch",i,null)}function gS(i,s){Zn.C(i,s),zg("preconnect",i,s)}function yS(i,s,l){Zn.L(i,s,l);var c=Qr;if(c&&i&&s){var y='link[rel="preload"][as="'+un(s)+'"]';s==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+un(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+un(l.imageSizes)+'"]')):y+='[href="'+un(i)+'"]';var v=y;switch(s){case"style":v=Wr(i);break;case"script":v=Zr(i)}yn.has(v)||(i=_({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),yn.set(v,i),c.querySelector(y)!==null||s==="style"&&c.querySelector(go(v))||s==="script"&&c.querySelector(yo(v))||(s=c.createElement("link"),Ct(s,"link",i),xt(s),c.head.appendChild(s)))}}function vS(i,s){Zn.m(i,s);var l=Qr;if(l&&i){var c=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+un(c)+'"][href="'+un(i)+'"]',v=y;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Zr(i)}if(!yn.has(v)&&(i=_({rel:"modulepreload",href:i},s),yn.set(v,i),l.querySelector(y)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(yo(v)))return}c=l.createElement("link"),Ct(c,"link",i),xt(c),l.head.appendChild(c)}}}function _S(i,s,l){Zn.S(i,s,l);var c=Qr;if(c&&i){var y=xr(c).hoistableStyles,v=Wr(i);s=s||"default";var S=y.get(v);if(!S){var E={loading:0,preload:null};if(S=c.querySelector(go(v)))E.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":s},l),(l=yn.get(v))&&sd(i,l);var z=S=c.createElement("link");xt(z),Ct(z,"link",i),z._p=new Promise(function(B,$){z.onload=B,z.onerror=$}),z.addEventListener("load",function(){E.loading|=1}),z.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Za(S,s,c)}S={type:"stylesheet",instance:S,count:1,state:E},y.set(v,S)}}}function xS(i,s){Zn.X(i,s);var l=Qr;if(l&&i){var c=xr(l).hoistableScripts,y=Zr(i),v=c.get(y);v||(v=l.querySelector(yo(y)),v||(i=_({src:i,async:!0},s),(s=yn.get(y))&&od(i,s),v=l.createElement("script"),xt(v),Ct(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(y,v))}}function bS(i,s){Zn.M(i,s);var l=Qr;if(l&&i){var c=xr(l).hoistableScripts,y=Zr(i),v=c.get(y);v||(v=l.querySelector(yo(y)),v||(i=_({src:i,async:!0,type:"module"},s),(s=yn.get(y))&&od(i,s),v=l.createElement("script"),xt(v),Ct(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(y,v))}}function Mg(i,s,l,c){var y=(y=ee.current)?Wa(y):null;if(!y)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Wr(l.href),l=xr(y).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Wr(l.href);var v=xr(y).hoistableStyles,S=v.get(i);if(S||(y=y.ownerDocument||y,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,S),(v=y.querySelector(go(i)))&&!v._p&&(S.instance=v,S.state.loading=5),yn.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},yn.set(i,l),v||wS(y,i,l,S.state))),s&&c===null)throw Error(r(528,""));return S}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Zr(l),l=xr(y).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Wr(i){return'href="'+un(i)+'"'}function go(i){return'link[rel="stylesheet"]['+i+"]"}function Dg(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function wS(i,s,l,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Ct(s,"link",l),xt(s),i.head.appendChild(s))}function Zr(i){return'[src="'+un(i)+'"]'}function yo(i){return"script[async]"+i}function Pg(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+un(l.href)+'"]');if(c)return s.instance=c,xt(c),c;var y=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),xt(c),Ct(c,"style",y),Za(c,l.precedence,i),s.instance=c;case"stylesheet":y=Wr(l.href);var v=i.querySelector(go(y));if(v)return s.state.loading|=4,s.instance=v,xt(v),v;c=Dg(l),(y=yn.get(y))&&sd(c,y),v=(i.ownerDocument||i).createElement("link"),xt(v);var S=v;return S._p=new Promise(function(E,z){S.onload=E,S.onerror=z}),Ct(v,"link",c),s.state.loading|=4,Za(v,l.precedence,i),s.instance=v;case"script":return v=Zr(l.src),(y=i.querySelector(yo(v)))?(s.instance=y,xt(y),y):(c=l,(y=yn.get(v))&&(c=_({},l),od(c,y)),i=i.ownerDocument||i,y=i.createElement("script"),xt(y),Ct(y,"link",c),i.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Za(c,l.precedence,i));return s.instance}function Za(i,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=c.length?c[c.length-1]:null,v=y,S=0;S<c.length;S++){var E=c[S];if(E.dataset.precedence===s)v=E;else if(v!==y)break}v?v.parentNode.insertBefore(i,v.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function sd(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function od(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var el=null;function Ug(i,s,l){if(el===null){var c=new Map,y=el=new Map;y.set(l,c)}else y=el,c=y.get(l),c||(c=new Map,y.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),y=0;y<l.length;y++){var v=l[y];if(!(v[zs]||v[wt]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var S=v.getAttribute(s)||"";S=i+S;var E=c.get(S);E?E.push(v):c.set(S,[v])}}return c}function Og(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function SS(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Lg(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function ES(i,s,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=Wr(c.href),v=s.querySelector(go(y));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=tl.bind(i),s.then(i,i)),l.state.loading|=4,l.instance=v,xt(v);return}v=s.ownerDocument||s,c=Dg(c),(y=yn.get(y))&&sd(c,y),v=v.createElement("link"),xt(v);var S=v;S._p=new Promise(function(E,z){S.onload=E,S.onerror=z}),Ct(v,"link",c),l.instance=v}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=tl.bind(i),s.addEventListener("load",l),s.addEventListener("error",l))}}var ad=0;function TS(i,s){return i.stylesheets&&i.count===0&&il(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var c=setTimeout(function(){if(i.stylesheets&&il(i,i.stylesheets),i.unsuspend){var v=i.unsuspend;i.unsuspend=null,v()}},6e4+s);0<i.imgBytes&&ad===0&&(ad=62500*sS());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&il(i,i.stylesheets),i.unsuspend)){var v=i.unsuspend;i.unsuspend=null,v()}},(i.imgBytes>ad?50:800)+s);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(y)}}:null}function tl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)il(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var nl=null;function il(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,nl=new Map,s.forEach(CS,i),nl=null,tl.call(i))}function CS(i,s){if(!(s.state.loading&4)){var l=nl.get(i);if(l)var c=l.get(null);else{l=new Map,nl.set(i,l);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<y.length;v++){var S=y[v];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),c=S)}c&&l.set(null,c)}y=s.instance,S=y.getAttribute("data-precedence"),v=l.get(S)||c,v===c&&l.set(null,y),l.set(S,y),this.count++,c=tl.bind(this),y.addEventListener("load",c),y.addEventListener("error",c),v?v.parentNode.insertBefore(y,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),s.state.loading|=4}}var vo={$$typeof:R,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function AS(i,s,l,c,y,v,S,E,z){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nu(0),this.hiddenUpdates=nu(null),this.identifierPrefix=c,this.onUncaughtError=y,this.onCaughtError=v,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function qg(i,s,l,c,y,v,S,E,z,B,$,Q){return i=new AS(i,s,l,S,z,B,$,Q,E),s=1,v===!0&&(s|=24),v=Xt(3,null,null,s),i.current=v,v.stateNode=i,s=Bu(),s.refCount++,i.pooledCache=s,s.refCount++,v.memoizedState={element:c,isDehydrated:l,cache:s},Fu(v),i}function Bg(i){return i?(i=Rr,i):Rr}function Hg(i,s,l,c,y,v){y=Bg(y),c.context===null?c.context=y:c.pendingContext=y,c=mi(s),c.payload={element:l},v=v===void 0?null:v,v!==null&&(c.callback=v),l=gi(i,c,s),l!==null&&(Gt(l,i,s),Ks(l,i,s))}function Vg(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function ld(i,s){Vg(i,s),(i=i.alternate)&&Vg(i,s)}function Gg(i){if(i.tag===13||i.tag===31){var s=$i(i,67108864);s!==null&&Gt(s,i,67108864),ld(i,67108864)}}function Fg(i){if(i.tag===13||i.tag===31){var s=tn();s=iu(s);var l=$i(i,s);l!==null&&Gt(l,i,s),ld(i,s)}}var rl=!0;function kS(i,s,l,c){var y=L.T;L.T=null;var v=Z.p;try{Z.p=2,ud(i,s,l,c)}finally{Z.p=v,L.T=y}}function NS(i,s,l,c){var y=L.T;L.T=null;var v=Z.p;try{Z.p=8,ud(i,s,l,c)}finally{Z.p=v,L.T=y}}function ud(i,s,l,c){if(rl){var y=cd(c);if(y===null)Kc(i,s,c,sl,l),jg(i,c);else if(IS(y,i,s,l,c))c.stopPropagation();else if(jg(i,c),s&4&&-1<RS.indexOf(i)){for(;y!==null;){var v=_r(y);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var S=Bi(v.pendingLanes);if(S!==0){var E=v;for(E.pendingLanes|=2,E.entangledLanes|=2;S;){var z=1<<31-Ke(S);E.entanglements[1]|=z,S&=~z}In(v),(He&6)===0&&(Ha=Mt()+500,fo(0))}}break;case 31:case 13:E=$i(v,2),E!==null&&Gt(E,v,2),Ga(),ld(v,2)}if(v=cd(c),v===null&&Kc(i,s,c,sl,l),v===y)break;y=v}y!==null&&c.stopPropagation()}else Kc(i,s,c,null,l)}}function cd(i){return i=fu(i),dd(i)}var sl=null;function dd(i){if(sl=null,i=vr(i),i!==null){var s=a(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=u(s),i!==null)return i;i=null}else if(l===31){if(i=d(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return sl=i,null}function $g(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tu()){case Y:return 2;case ae:return 8;case Se:case Re:return 32;case Ge:return 268435456;default:return 32}default:return 32}}var fd=!1,Ai=null,ki=null,Ni=null,_o=new Map,xo=new Map,Ri=[],RS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jg(i,s){switch(i){case"focusin":case"focusout":Ai=null;break;case"dragenter":case"dragleave":ki=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":_o.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":xo.delete(s.pointerId)}}function bo(i,s,l,c,y,v){return i===null||i.nativeEvent!==v?(i={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:v,targetContainers:[y]},s!==null&&(s=_r(s),s!==null&&Gg(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),i)}function IS(i,s,l,c,y){switch(s){case"focusin":return Ai=bo(Ai,i,s,l,c,y),!0;case"dragenter":return ki=bo(ki,i,s,l,c,y),!0;case"mouseover":return Ni=bo(Ni,i,s,l,c,y),!0;case"pointerover":var v=y.pointerId;return _o.set(v,bo(_o.get(v)||null,i,s,l,c,y)),!0;case"gotpointercapture":return v=y.pointerId,xo.set(v,bo(xo.get(v)||null,i,s,l,c,y)),!0}return!1}function Jg(i){var s=vr(i.target);if(s!==null){var l=a(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){i.blockedOn=s,ah(i.priority,function(){Fg(l)});return}}else if(s===31){if(s=d(l),s!==null){i.blockedOn=s,ah(i.priority,function(){Fg(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ol(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=cd(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);du=c,l.target.dispatchEvent(c),du=null}else return s=_r(l),s!==null&&Gg(s),i.blockedOn=l,!1;s.shift()}return!0}function Yg(i,s,l){ol(i)&&l.delete(s)}function zS(){fd=!1,Ai!==null&&ol(Ai)&&(Ai=null),ki!==null&&ol(ki)&&(ki=null),Ni!==null&&ol(Ni)&&(Ni=null),_o.forEach(Yg),xo.forEach(Yg)}function al(i,s){i.blockedOn===s&&(i.blockedOn=null,fd||(fd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,zS)))}var ll=null;function Kg(i){ll!==i&&(ll=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ll===i&&(ll=null);for(var s=0;s<i.length;s+=3){var l=i[s],c=i[s+1],y=i[s+2];if(typeof c!="function"){if(dd(c||l)===null)continue;break}var v=_r(l);v!==null&&(i.splice(s,3),s-=3,cc(v,{pending:!0,data:y,method:l.method,action:c},c,y))}}))}function es(i){function s(z){return al(z,i)}Ai!==null&&al(Ai,i),ki!==null&&al(ki,i),Ni!==null&&al(Ni,i),_o.forEach(s),xo.forEach(s);for(var l=0;l<Ri.length;l++){var c=Ri[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Ri.length&&(l=Ri[0],l.blockedOn===null);)Jg(l),l.blockedOn===null&&Ri.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var y=l[c],v=l[c+1],S=y[Ot]||null;if(typeof v=="function")S||Kg(l);else if(S){var E=null;if(v&&v.hasAttribute("formAction")){if(y=v,S=v[Ot]||null)E=S.formAction;else if(dd(y)!==null)continue}else E=S.action;typeof E=="function"?l[c+1]=E:(l.splice(c,3),c-=3),Kg(l)}}}function Xg(){function i(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(S){return y=S})},focusReset:"manual",scroll:"manual"})}function s(){y!==null&&(y(),y=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),y!==null&&(y(),y=null)}}}function hd(i){this._internalRoot=i}ul.prototype.render=hd.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,c=tn();Hg(l,c,i,s,null,null)},ul.prototype.unmount=hd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Hg(i.current,2,null,i,null,null),Ga(),s[yr]=null}};function ul(i){this._internalRoot=i}ul.prototype.unstable_scheduleHydration=function(i){if(i){var s=oh();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Ri.length&&s!==0&&s<Ri[l].priority;l++);Ri.splice(l,0,i),l===0&&Jg(i)}};var Qg=e.version;if(Qg!=="19.2.0")throw Error(r(527,Qg,"19.2.0"));Z.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(s),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var MS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cl.isDisabled&&cl.supportsFiber)try{Dt=cl.inject(MS),yt=cl}catch{}}return So.createRoot=function(i,s){if(!o(i))throw Error(r(299));var l=!1,c="",y=rm,v=sm,S=om;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError)),s=qg(i,1,!1,null,null,l,c,null,y,v,S,Xg),i[yr]=s.current,Yc(i),new hd(s)},So.hydrateRoot=function(i,s,l){if(!o(i))throw Error(r(299));var c=!1,y="",v=rm,S=sm,E=om,z=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(E=l.onRecoverableError),l.formState!==void 0&&(z=l.formState)),s=qg(i,1,!0,s,l??null,c,y,z,v,S,E,Xg),s.context=Bg(null),l=s.current,c=tn(),c=iu(c),y=mi(c),y.callback=null,gi(l,y,c),l=c,s.current.lanes=l,Is(s,l),In(s),i[yr]=s.current,Yc(i),new ul(s)},So.version="19.2.0",So}var a0;function FS(){if(a0)return gd.exports;a0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gd.exports=GS(),gd.exports}var $S=FS();const jS=Vo($S),l0=[{id:"executive_summary",title:"Executive Summary",description:"A high-level overview of the product vision and business value.",content:"",isEnabled:!0,placeholder:"Summarize the entire PRD in one paragraph..."},{id:"problem_statement",title:"Problem Statement",description:"The specific user problem or gap in the market this product addresses.",content:"",isEnabled:!0,placeholder:"What pain point are we solving?"},{id:"goals_objectives",title:"Goals & Objectives",description:"Measurable business and product goals.",content:"",isEnabled:!0,placeholder:"List key objectives (e.g., Increase user retention by 20%)..."},{id:"target_audience",title:"Target Audience",description:"Who is this product for? User personas and segments.",content:"",isEnabled:!0,placeholder:"Primary and secondary user personas..."},{id:"user_stories",title:"User Stories",description:"Specific scenarios from the user's perspective.",content:"",isEnabled:!0,placeholder:"As a [user], I want to [action], so that [benefit]..."},{id:"features_requirements",title:"Features & Requirements",description:"Detailed functional requirements.",content:"",isEnabled:!0,placeholder:"List specific features and functionality..."},{id:"technical_requirements",title:"Technical Requirements",description:"Tech stack, constraints, and architecture notes.",content:"",isEnabled:!1,placeholder:"API requirements, database schema, performance constraints..."},{id:"design_requirements",title:"Design Requirements",description:"UI/UX guidelines and constraints.",content:"",isEnabled:!1,placeholder:"Mobile-first, brand colors, accessibility standards..."},{id:"timeline_milestones",title:"Timeline & Milestones",description:"Key dates and delivery phases.",content:"",isEnabled:!1,placeholder:"Phase 1 launch date, beta testing window..."},{id:"success_metrics",title:"Success Metrics",description:"KPIs to measure product success.",content:"",isEnabled:!0,placeholder:"DAU/MAU, conversion rates, NPS score..."},{id:"risks",title:"Risk Assessment",description:"Potential pitfalls and mitigation strategies.",content:"",isEnabled:!1,placeholder:"Technical risks, market risks, regulatory concerns..."}],u0={allowComments:!0,allowUpvotes:!0,enableApprovalFlow:!1};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let JS,YS;function KS(){return{geminiUrl:JS,vertexUrl:YS}}function XS(t,e,n,r){var o,a;if(!(t!=null&&t.baseUrl)){const u=KS();return e?(o=u.vertexUrl)!==null&&o!==void 0?o:n:(a=u.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ii{}function le(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const a=e[o];return a!=null?String(a):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function m(t,e,n){for(let a=0;a<e.length-1;a++){const u=e[a];if(u.endsWith("[]")){const d=u.slice(0,-2);if(!(d in t))if(Array.isArray(n))t[d]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[d])){const p=t[d];if(Array.isArray(n))for(let f=0;f<p.length;f++){const g=p[f];m(g,e.slice(a+1),n[f])}else for(const f of p)m(f,e.slice(a+1),n)}return}else if(u.endsWith("[0]")){const d=u.slice(0,-3);d in t||(t[d]=[{}]);const p=t[d];m(p[0],e.slice(a+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const r=e[e.length-1],o=t[r];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function h(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2);if(a in t){const u=t[a];return Array.isArray(u)?u.map(d=>h(d,e.slice(r+1),n)):n}else return n}else t=t[o]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function QS(t,e){for(const[n,r]of Object.entries(e)){const o=n.split("."),a=r.split("."),u=new Set;let d=-1;for(let p=0;p<o.length;p++)if(o[p]==="*"){d=p;break}if(d!==-1&&a.length>d)for(let p=d;p<a.length;p++){const f=a[p];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&u.add(f)}Vd(t,o,a,0,u)}}function Vd(t,e,n,r,o){if(r>=e.length||typeof t!="object"||t===null)return;const a=e[r];if(a.endsWith("[]")){const u=a.slice(0,-2),d=t;if(u in d&&Array.isArray(d[u]))for(const p of d[u])Vd(p,e,n,r+1,o)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const u=t,d=Object.keys(u).filter(f=>!f.startsWith("_")&&!o.has(f)),p={};for(const f of d)p[f]=u[f];for(const[f,g]of Object.entries(p)){const _=[];for(const x of n.slice(r))x==="*"?_.push(f):_.push(x);m(u,_,g)}for(const f of d)delete u[f]}}else{const u=t;a in u&&Vd(u[a],e,n,r+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wf(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WS(t){const e={},n=h(t,["operationName"]);n!=null&&m(e,["operationName"],n);const r=h(t,["resourceName"]);return r!=null&&m(e,["_url","resourceName"],r),e}function ZS(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const r=h(t,["metadata"]);r!=null&&m(e,["metadata"],r);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const a=h(t,["error"]);a!=null&&m(e,["error"],a);const u=h(t,["response","generateVideoResponse"]);return u!=null&&m(e,["response"],tE(u)),e}function eE(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const r=h(t,["metadata"]);r!=null&&m(e,["metadata"],r);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const a=h(t,["error"]);a!=null&&m(e,["error"],a);const u=h(t,["response"]);return u!=null&&m(e,["response"],nE(u)),e}function tE(t){const e={},n=h(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>iE(u))),m(e,["generatedVideos"],a)}const r=h(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const o=h(t,["raiMediaFilteredReasons"]);return o!=null&&m(e,["raiMediaFilteredReasons"],o),e}function nE(t){const e={},n=h(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>rE(u))),m(e,["generatedVideos"],a)}const r=h(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const o=h(t,["raiMediaFilteredReasons"]);return o!=null&&m(e,["raiMediaFilteredReasons"],o),e}function iE(t){const e={},n=h(t,["video"]);return n!=null&&m(e,["video"],cE(n)),e}function rE(t){const e={},n=h(t,["_self"]);return n!=null&&m(e,["video"],dE(n)),e}function sE(t){const e={},n=h(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function oE(t){const e={},n=h(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function aE(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const r=h(t,["metadata"]);r!=null&&m(e,["metadata"],r);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const a=h(t,["error"]);a!=null&&m(e,["error"],a);const u=h(t,["response"]);return u!=null&&m(e,["response"],lE(u)),e}function lE(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["parent"]);r!=null&&m(e,["parent"],r);const o=h(t,["documentName"]);return o!=null&&m(e,["documentName"],o),e}function n_(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const r=h(t,["metadata"]);r!=null&&m(e,["metadata"],r);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const a=h(t,["error"]);a!=null&&m(e,["error"],a);const u=h(t,["response"]);return u!=null&&m(e,["response"],uE(u)),e}function uE(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["parent"]);r!=null&&m(e,["parent"],r);const o=h(t,["documentName"]);return o!=null&&m(e,["documentName"],o),e}function cE(t){const e={},n=h(t,["uri"]);n!=null&&m(e,["uri"],n);const r=h(t,["encodedVideo"]);r!=null&&m(e,["videoBytes"],wf(r));const o=h(t,["encoding"]);return o!=null&&m(e,["mimeType"],o),e}function dE(t){const e={},n=h(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=h(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],wf(r));const o=h(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var c0;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(c0||(c0={}));var d0;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(d0||(d0={}));var f0;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(f0||(f0={}));var Ui;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ui||(Ui={}));var h0;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(h0||(h0={}));var p0;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(p0||(p0={}));var m0;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(m0||(m0={}));var g0;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(g0||(g0={}));var y0;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(y0||(y0={}));var v0;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(v0||(v0={}));var _0;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(_0||(_0={}));var x0;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(x0||(x0={}));var b0;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(b0||(b0={}));var w0;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(w0||(w0={}));var S0;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(S0||(S0={}));var E0;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(E0||(E0={}));var T0;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(T0||(T0={}));var C0;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(C0||(C0={}));var A0;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(A0||(A0={}));var Nl;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Nl||(Nl={}));var k0;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(k0||(k0={}));var N0;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(N0||(N0={}));var R0;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(R0||(R0={}));var Gd;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Gd||(Gd={}));var I0;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(I0||(I0={}));var z0;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(z0||(z0={}));var M0;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(M0||(M0={}));var D0;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(D0||(D0={}));var P0;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(P0||(P0={}));var U0;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(U0||(U0={}));var O0;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(O0||(O0={}));var L0;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(L0||(L0={}));var q0;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(q0||(q0={}));var B0;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(B0||(B0={}));var H0;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(H0||(H0={}));var V0;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(V0||(V0={}));var G0;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(G0||(G0={}));var F0;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(F0||(F0={}));var $0;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})($0||($0={}));var j0;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(j0||(j0={}));var J0;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(J0||(J0={}));var Y0;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Y0||(Y0={}));var K0;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(K0||(K0={}));var X0;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(X0||(X0={}));var Q0;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Q0||(Q0={}));var W0;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(W0||(W0={}));var Z0;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Z0||(Z0={}));var ey;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(ey||(ey={}));var ty;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ty||(ty={}));var ny;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ny||(ny={}));var iy;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(iy||(iy={}));var ry;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ry||(ry={}));var sy;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(sy||(sy={}));var oy;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(oy||(oy={}));var ds;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ds||(ds={}));class Fd{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Eo{get text(){var e,n,r,o,a,u,d,p;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",g=!1;const _=[];for(const x of(p=(d=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)!==null&&p!==void 0?p:[]){for(const[w,T]of Object.entries(x))w!=="text"&&w!=="thought"&&w!=="thoughtSignature"&&(T!==null||T!==void 0)&&_.push(w);if(typeof x.text=="string"){if(typeof x.thought=="boolean"&&x.thought)continue;g=!0,f+=x.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),g?f:void 0}get data(){var e,n,r,o,a,u,d,p;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const g=[];for(const _ of(p=(d=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)!==null&&p!==void 0?p:[]){for(const[x,w]of Object.entries(_))x!=="inlineData"&&(w!==null||w!==void 0)&&g.push(x);_.inlineData&&typeof _.inlineData.data=="string"&&(f+=atob(_.inlineData.data))}return g.length>0&&console.warn(`there are non-data parts ${g} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,o,a,u,d,p;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(p=(d=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||p===void 0?void 0:p.filter(g=>g.functionCall).map(g=>g.functionCall).filter(g=>g!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,r,o,a,u,d,p,f;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const g=(p=(d=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||p===void 0?void 0:p.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((g==null?void 0:g.length)!==0)return(f=g==null?void 0:g[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,o,a,u,d,p,f;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const g=(p=(d=(u=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||p===void 0?void 0:p.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((g==null?void 0:g.length)!==0)return(f=g==null?void 0:g[0])===null||f===void 0?void 0:f.output}}class ay{}class ly{}class fE{}class hE{}class pE{}class mE{}class uy{}class cy{}class dy{}class gE{}class Rl{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Rl;let o;const a=e;return n?o=eE(a):o=ZS(a),Object.assign(r,o),r}}class fy{}class hy{}class py{}class yE{}class vE{}class _E{}class Sf{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Sf,a=aE(e);return Object.assign(r,a),r}}class xE{}class bE{}class wE{}class my{}class SE{get text(){var e,n,r;let o="",a=!1;const u=[];for(const d of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[p,f]of Object.entries(d))p!=="text"&&p!=="thought"&&f!==null&&u.push(p);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;a=!0,o+=d.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?o:void 0}get data(){var e,n,r;let o="";const a=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[d,p]of Object.entries(u))d!=="inlineData"&&p!==null&&a.push(d);u.inlineData&&typeof u.inlineData.data=="string"&&(o+=atob(u.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class EE{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Ef{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Ef,a=n_(e);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Be(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function i_(t,e){const n=Be(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function r_(t){return Array.isArray(t)?t.map(e=>Il(e)):[Il(t)]}function Il(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function s_(t){const e=Il(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function o_(t){const e=Il(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function gy(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function a_(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>gy(e)):[gy(t)]}function $d(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function yy(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function vy(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Rt(t){if(t==null)throw new Error("ContentUnion is required");return $d(t)?t:{role:"user",parts:a_(t)}}function Tf(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Rt(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Rt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Rt(n)):[Rt(e)]}function _n(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(yy(t)||vy(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Rt(t)]}const e=[],n=[],r=$d(t[0]);for(const o of t){const a=$d(o);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(o);else{if(yy(o)||vy(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return r||e.push({role:"user",parts:a_(n)}),e}function TE(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Ui).includes(n[0].toUpperCase())?n[0].toUpperCase():Ui.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Ui).includes(r.toUpperCase())?r.toUpperCase():Ui.TYPE_UNSPECIFIED})}}function fs(t){const e={},n=["items"],r=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&TE(t.type,e);for(const[u,d]of Object.entries(t))if(d!=null)if(u=="type"){if(d==="null")throw new Error("type: null can not be the only possible type for the field.");if(d instanceof Array)continue;e.type=Object.values(Ui).includes(d.toUpperCase())?d.toUpperCase():Ui.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=fs(d);else if(r.includes(u)){const p=[];for(const f of d){if(f.type=="null"){e.nullable=!0;continue}p.push(fs(f))}e[u]=p}else if(o.includes(u)){const p={};for(const[f,g]of Object.entries(d))p[f]=fs(g);e[u]=p}else{if(u==="additionalProperties")continue;e[u]=d}return e}function Cf(t){return fs(t)}function Af(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function kf(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function bs(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=fs(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=fs(e.response));return t}function ws(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function CE(t,e,n,r=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function ri(t,e){if(typeof e!="string")throw new Error("name must be a string");return CE(t,e,"cachedContents")}function l_(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Oi(t){return wf(t)}function AE(t){return t!=null&&typeof t=="object"&&"name"in t}function kE(t){return t!=null&&typeof t=="object"&&"video"in t}function NE(t){return t!=null&&typeof t=="object"&&"uri"in t}function u_(t){var e;let n;if(AE(t)&&(n=t.name),!(NE(t)&&(n=t.uri,n===void 0))&&!(kE(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function c_(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function d_(t){for(const e of["models","tunedModels","publisherModels"])if(RE(t,e))return t[e];return[]}function RE(t,e){return t!==null&&typeof t=="object"&&e in t}function IE(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function zE(t,e={}){const n=[],r=new Set;for(const o of t){const a=o.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const u=IE(o,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function f_(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(o>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function ME(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function h_(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return t;let a=!1;for(const u of o){if(typeof u!="object"||u===null)continue;const p=u.response;if(typeof p!="object"||p===null)continue;if(p.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Ss(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function p_(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DE(t){const e={},n=h(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const r=h(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>pT(u))),m(e,["inlinedResponses"],a)}const o=h(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["inlinedEmbedContentResponses"],a)}return e}function PE(t){const e={},n=h(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const r=h(t,["gcsDestination","outputUriPrefix"]);r!=null&&m(e,["gcsUri"],r);const o=h(t,["bigqueryDestination","outputUri"]);return o!=null&&m(e,["bigqueryUri"],o),e}function UE(t){const e={},n=h(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const r=h(t,["gcsUri"]);r!=null&&m(e,["gcsDestination","outputUriPrefix"],r);const o=h(t,["bigqueryUri"]);if(o!=null&&m(e,["bigqueryDestination","outputUri"],o),h(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(h(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Cl(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const r=h(t,["metadata","displayName"]);r!=null&&m(e,["displayName"],r);const o=h(t,["metadata","state"]);o!=null&&m(e,["state"],p_(o));const a=h(t,["metadata","createTime"]);a!=null&&m(e,["createTime"],a);const u=h(t,["metadata","endTime"]);u!=null&&m(e,["endTime"],u);const d=h(t,["metadata","updateTime"]);d!=null&&m(e,["updateTime"],d);const p=h(t,["metadata","model"]);p!=null&&m(e,["model"],p);const f=h(t,["metadata","output"]);return f!=null&&m(e,["dest"],DE(h_(f))),e}function jd(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const r=h(t,["displayName"]);r!=null&&m(e,["displayName"],r);const o=h(t,["state"]);o!=null&&m(e,["state"],p_(o));const a=h(t,["error"]);a!=null&&m(e,["error"],a);const u=h(t,["createTime"]);u!=null&&m(e,["createTime"],u);const d=h(t,["startTime"]);d!=null&&m(e,["startTime"],d);const p=h(t,["endTime"]);p!=null&&m(e,["endTime"],p);const f=h(t,["updateTime"]);f!=null&&m(e,["updateTime"],f);const g=h(t,["model"]);g!=null&&m(e,["model"],g);const _=h(t,["inputConfig"]);_!=null&&m(e,["src"],OE(_));const x=h(t,["outputConfig"]);x!=null&&m(e,["dest"],PE(h_(x)));const w=h(t,["completionStats"]);return w!=null&&m(e,["completionStats"],w),e}function OE(t){const e={},n=h(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const r=h(t,["gcsSource","uris"]);r!=null&&m(e,["gcsUri"],r);const o=h(t,["bigquerySource","inputUri"]);return o!=null&&m(e,["bigqueryUri"],o),e}function LE(t,e){const n={};if(h(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(h(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=h(e,["fileName"]);r!=null&&m(n,["fileName"],r);const o=h(e,["inlinedRequests"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>hT(t,u))),m(n,["requests","requests"],a)}return n}function qE(t){const e={},n=h(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const r=h(t,["gcsUri"]);r!=null&&m(e,["gcsSource","uris"],r);const o=h(t,["bigqueryUri"]);if(o!=null&&m(e,["bigquerySource","inputUri"],o),h(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function BE(t){const e={},n=h(t,["data"]);if(n!=null&&m(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function HE(t,e){const n={},r=h(e,["name"]);return r!=null&&m(n,["_url","name"],Ss(t,r)),n}function VE(t,e){const n={},r=h(e,["name"]);return r!=null&&m(n,["_url","name"],Ss(t,r)),n}function GE(t){const e={},n=h(t,["content"]);n!=null&&m(e,["content"],n);const r=h(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],FE(r));const o=h(t,["tokenCount"]);o!=null&&m(e,["tokenCount"],o);const a=h(t,["finishReason"]);a!=null&&m(e,["finishReason"],a);const u=h(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const d=h(t,["groundingMetadata"]);d!=null&&m(e,["groundingMetadata"],d);const p=h(t,["index"]);p!=null&&m(e,["index"],p);const f=h(t,["logprobsResult"]);f!=null&&m(e,["logprobsResult"],f);const g=h(t,["safetyRatings"]);if(g!=null){let x=g;Array.isArray(x)&&(x=x.map(w=>w)),m(e,["safetyRatings"],x)}const _=h(t,["urlContextMetadata"]);return _!=null&&m(e,["urlContextMetadata"],_),e}function FE(t){const e={},n=h(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),m(e,["citations"],r)}return e}function m_(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>bT(a))),m(e,["parts"],o)}const r=h(t,["role"]);return r!=null&&m(e,["role"],r),e}function $E(t,e){const n={},r=h(t,["displayName"]);if(e!==void 0&&r!=null&&m(e,["batch","displayName"],r),h(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function jE(t,e){const n={},r=h(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const o=h(t,["dest"]);return e!==void 0&&o!=null&&m(e,["outputConfig"],UE(ME(o))),n}function _y(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],Be(t,r));const o=h(e,["src"]);o!=null&&m(n,["batch","inputConfig"],LE(t,f_(t,o)));const a=h(e,["config"]);return a!=null&&$E(a,n),n}function JE(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["model"],Be(t,r));const o=h(e,["src"]);o!=null&&m(n,["inputConfig"],qE(f_(t,o)));const a=h(e,["config"]);return a!=null&&jE(a,n),n}function YE(t,e){const n={},r=h(t,["displayName"]);return e!==void 0&&r!=null&&m(e,["batch","displayName"],r),n}function KE(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],Be(t,r));const o=h(e,["src"]);o!=null&&m(n,["batch","inputConfig"],nT(t,o));const a=h(e,["config"]);return a!=null&&YE(a,n),n}function XE(t,e){const n={},r=h(e,["name"]);return r!=null&&m(n,["_url","name"],Ss(t,r)),n}function QE(t,e){const n={},r=h(e,["name"]);return r!=null&&m(n,["_url","name"],Ss(t,r)),n}function WE(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["name"]);r!=null&&m(e,["name"],r);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const a=h(t,["error"]);return a!=null&&m(e,["error"],a),e}function ZE(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["name"]);r!=null&&m(e,["name"],r);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const a=h(t,["error"]);return a!=null&&m(e,["error"],a),e}function eT(t,e){const n={},r=h(e,["contents"]);if(r!=null){let a=Tf(t,r);Array.isArray(a)&&(a=a.map(u=>u)),m(n,["requests[]","request","content"],a)}const o=h(e,["config"]);return o!=null&&(m(n,["_self"],tT(o,n)),QS(n,{"requests[].*":"requests[].request.*"})),n}function tT(t,e){const n={},r=h(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const o=h(t,["title"]);e!==void 0&&o!=null&&m(e,["requests[]","title"],o);const a=h(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&m(e,["requests[]","outputDimensionality"],a),h(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function nT(t,e){const n={},r=h(e,["fileName"]);r!=null&&m(n,["file_name"],r);const o=h(e,["inlinedRequests"]);return o!=null&&m(n,["requests"],eT(t,o)),n}function iT(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function rT(t){const e={},n=h(t,["id"]);n!=null&&m(e,["id"],n);const r=h(t,["args"]);r!=null&&m(e,["args"],r);const o=h(t,["name"]);if(o!=null&&m(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function sT(t){const e={},n=h(t,["mode"]);n!=null&&m(e,["mode"],n);const r=h(t,["allowedFunctionNames"]);if(r!=null&&m(e,["allowedFunctionNames"],r),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function oT(t,e,n){const r={},o=h(e,["systemInstruction"]);n!==void 0&&o!=null&&m(n,["systemInstruction"],m_(Rt(o)));const a=h(e,["temperature"]);a!=null&&m(r,["temperature"],a);const u=h(e,["topP"]);u!=null&&m(r,["topP"],u);const d=h(e,["topK"]);d!=null&&m(r,["topK"],d);const p=h(e,["candidateCount"]);p!=null&&m(r,["candidateCount"],p);const f=h(e,["maxOutputTokens"]);f!=null&&m(r,["maxOutputTokens"],f);const g=h(e,["stopSequences"]);g!=null&&m(r,["stopSequences"],g);const _=h(e,["responseLogprobs"]);_!=null&&m(r,["responseLogprobs"],_);const x=h(e,["logprobs"]);x!=null&&m(r,["logprobs"],x);const w=h(e,["presencePenalty"]);w!=null&&m(r,["presencePenalty"],w);const T=h(e,["frequencyPenalty"]);T!=null&&m(r,["frequencyPenalty"],T);const C=h(e,["seed"]);C!=null&&m(r,["seed"],C);const k=h(e,["responseMimeType"]);k!=null&&m(r,["responseMimeType"],k);const N=h(e,["responseSchema"]);N!=null&&m(r,["responseSchema"],Cf(N));const U=h(e,["responseJsonSchema"]);if(U!=null&&m(r,["responseJsonSchema"],U),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=h(e,["safetySettings"]);if(n!==void 0&&R!=null){let X=R;Array.isArray(X)&&(X=X.map(pe=>wT(pe))),m(n,["safetySettings"],X)}const V=h(e,["tools"]);if(n!==void 0&&V!=null){let X=ws(V);Array.isArray(X)&&(X=X.map(pe=>ET(bs(pe)))),m(n,["tools"],X)}const W=h(e,["toolConfig"]);if(n!==void 0&&W!=null&&m(n,["toolConfig"],ST(W)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=h(e,["cachedContent"]);n!==void 0&&P!=null&&m(n,["cachedContent"],ri(t,P));const F=h(e,["responseModalities"]);F!=null&&m(r,["responseModalities"],F);const ie=h(e,["mediaResolution"]);ie!=null&&m(r,["mediaResolution"],ie);const te=h(e,["speechConfig"]);if(te!=null&&m(r,["speechConfig"],Af(te)),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ue=h(e,["thinkingConfig"]);ue!=null&&m(r,["thinkingConfig"],ue);const se=h(e,["imageConfig"]);return se!=null&&m(r,["imageConfig"],fT(se)),r}function aT(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["candidates"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(f=>GE(f))),m(e,["candidates"],p)}const o=h(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const a=h(t,["promptFeedback"]);a!=null&&m(e,["promptFeedback"],a);const u=h(t,["responseId"]);u!=null&&m(e,["responseId"],u);const d=h(t,["usageMetadata"]);return d!=null&&m(e,["usageMetadata"],d),e}function lT(t,e){const n={},r=h(e,["name"]);return r!=null&&m(n,["_url","name"],Ss(t,r)),n}function uT(t,e){const n={},r=h(e,["name"]);return r!=null&&m(n,["_url","name"],Ss(t,r)),n}function cT(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function dT(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function fT(t){const e={},n=h(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=h(t,["imageSize"]);if(r!=null&&m(e,["imageSize"],r),h(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function hT(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["request","model"],Be(t,r));const o=h(e,["contents"]);if(o!=null){let d=_n(o);Array.isArray(d)&&(d=d.map(p=>m_(p))),m(n,["request","contents"],d)}const a=h(e,["metadata"]);a!=null&&m(n,["metadata"],a);const u=h(e,["config"]);return u!=null&&m(n,["request","generationConfig"],oT(t,u,h(n,["request"],{}))),n}function pT(t){const e={},n=h(t,["response"]);n!=null&&m(e,["response"],aT(n));const r=h(t,["error"]);return r!=null&&m(e,["error"],r),e}function mT(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const o=h(t,["pageToken"]);if(e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),h(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function gT(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const o=h(t,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const a=h(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),n}function yT(t){const e={},n=h(t,["config"]);return n!=null&&mT(n,e),e}function vT(t){const e={},n=h(t,["config"]);return n!=null&&gT(n,e),e}function _T(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const o=h(t,["operations"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>Cl(u))),m(e,["batchJobs"],a)}return e}function xT(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const o=h(t,["batchPredictionJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>jd(u))),m(e,["batchJobs"],a)}return e}function bT(t){const e={},n=h(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=h(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const o=h(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const a=h(t,["fileData"]);a!=null&&m(e,["fileData"],iT(a));const u=h(t,["functionCall"]);u!=null&&m(e,["functionCall"],rT(u));const d=h(t,["functionResponse"]);d!=null&&m(e,["functionResponse"],d);const p=h(t,["inlineData"]);p!=null&&m(e,["inlineData"],BE(p));const f=h(t,["text"]);f!=null&&m(e,["text"],f);const g=h(t,["thought"]);g!=null&&m(e,["thought"],g);const _=h(t,["thoughtSignature"]);_!=null&&m(e,["thoughtSignature"],_);const x=h(t,["videoMetadata"]);return x!=null&&m(e,["videoMetadata"],x),e}function wT(t){const e={},n=h(t,["category"]);if(n!=null&&m(e,["category"],n),h(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=h(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function ST(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],sT(n));const r=h(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],r),e}function ET(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(_=>_)),m(e,["functionDeclarations"],g)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=h(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const o=h(t,["computerUse"]);o!=null&&m(e,["computerUse"],o);const a=h(t,["fileSearch"]);a!=null&&m(e,["fileSearch"],a);const u=h(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=h(t,["googleMaps"]);d!=null&&m(e,["googleMaps"],cT(d));const p=h(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],dT(p));const f=h(t,["urlContext"]);return f!=null&&m(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ni;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(ni||(ni={}));class dr{constructor(e,n,r,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,o)}init(e,n,r){var o,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!r||Object.keys(r).length===0?u={config:{}}:typeof r=="object"?u=Object.assign({},r):u=r,u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(a=(o=u.config)===null||o===void 0?void 0:o.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TT extends ii{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new dr(ni.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=_y(this.apiClient,e),r=n._url,o=le("{model}:batchGenerateContent",r),d=n.batch.inputConfig.requests,p=d.requests,f=[];for(const g of p){const _=Object.assign({},g);if(_.systemInstruction){const x=_.systemInstruction;delete _.systemInstruction;const w=_.request;w.systemInstruction=x,_.request=w}f.push(_)}return d.requests=f,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},o=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${o}`),r.dest===void 0){const a=this.getGcsUri(e),u=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${o}`;else if(u)r.dest=`${u}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=JE(this.apiClient,e);return d=le("batchPredictionJobs",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>jd(g))}else{const f=_y(this.apiClient,e);return d=le("{model}:batchGenerateContent",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u.then(g=>Cl(g))}}async createEmbeddingsInternal(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=KE(this.apiClient,e);return a=le("{model}:asyncBatchEmbedContent",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>Cl(p))}}async get(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=uT(this.apiClient,e);return d=le("batchPredictionJobs/{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>jd(g))}else{const f=lT(this.apiClient,e);return d=le("batches/{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u.then(g=>Cl(g))}}async cancel(e){var n,r,o,a;let u="",d={};if(this.apiClient.isVertexAI()){const p=VE(this.apiClient,e);u=le("batchPredictionJobs/{name}:cancel",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const p=HE(this.apiClient,e);u=le("batches/{name}:cancel",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=vT(e);return d=le("batchPredictionJobs",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const _=xT(g),x=new my;return Object.assign(x,_),x})}else{const f=yT(e);return d=le("batches",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const _=_T(g),x=new my;return Object.assign(x,_),x})}}async delete(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=QE(this.apiClient,e);return d=le("batchPredictionJobs/{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>ZE(g))}else{const f=XE(this.apiClient,e);return d=le("batches/{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>WE(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CT(t){const e={},n=h(t,["data"]);if(n!=null&&m(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function xy(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>KT(a))),m(e,["parts"],o)}const r=h(t,["role"]);return r!=null&&m(e,["role"],r),e}function AT(t,e){const n={},r=h(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const o=h(t,["expireTime"]);e!==void 0&&o!=null&&m(e,["expireTime"],o);const a=h(t,["displayName"]);e!==void 0&&a!=null&&m(e,["displayName"],a);const u=h(t,["contents"]);if(e!==void 0&&u!=null){let g=_n(u);Array.isArray(g)&&(g=g.map(_=>xy(_))),m(e,["contents"],g)}const d=h(t,["systemInstruction"]);e!==void 0&&d!=null&&m(e,["systemInstruction"],xy(Rt(d)));const p=h(t,["tools"]);if(e!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(_=>QT(_))),m(e,["tools"],g)}const f=h(t,["toolConfig"]);if(e!==void 0&&f!=null&&m(e,["toolConfig"],XT(f)),h(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function kT(t,e){const n={},r=h(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const o=h(t,["expireTime"]);e!==void 0&&o!=null&&m(e,["expireTime"],o);const a=h(t,["displayName"]);e!==void 0&&a!=null&&m(e,["displayName"],a);const u=h(t,["contents"]);if(e!==void 0&&u!=null){let _=_n(u);Array.isArray(_)&&(_=_.map(x=>x)),m(e,["contents"],_)}const d=h(t,["systemInstruction"]);e!==void 0&&d!=null&&m(e,["systemInstruction"],Rt(d));const p=h(t,["tools"]);if(e!==void 0&&p!=null){let _=p;Array.isArray(_)&&(_=_.map(x=>WT(x))),m(e,["tools"],_)}const f=h(t,["toolConfig"]);e!==void 0&&f!=null&&m(e,["toolConfig"],f);const g=h(t,["kmsKeyName"]);return e!==void 0&&g!=null&&m(e,["encryption_spec","kmsKeyName"],g),n}function NT(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["model"],i_(t,r));const o=h(e,["config"]);return o!=null&&AT(o,n),n}function RT(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["model"],i_(t,r));const o=h(e,["config"]);return o!=null&&kT(o,n),n}function IT(t,e){const n={},r=h(e,["name"]);return r!=null&&m(n,["_url","name"],ri(t,r)),n}function zT(t,e){const n={},r=h(e,["name"]);return r!=null&&m(n,["_url","name"],ri(t,r)),n}function MT(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function DT(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function PT(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function UT(t){const e={},n=h(t,["id"]);n!=null&&m(e,["id"],n);const r=h(t,["args"]);r!=null&&m(e,["args"],r);const o=h(t,["name"]);if(o!=null&&m(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function OT(t){const e={},n=h(t,["mode"]);n!=null&&m(e,["mode"],n);const r=h(t,["allowedFunctionNames"]);if(r!=null&&m(e,["allowedFunctionNames"],r),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function LT(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&m(e,["description"],n);const r=h(t,["name"]);r!=null&&m(e,["name"],r);const o=h(t,["parameters"]);o!=null&&m(e,["parameters"],o);const a=h(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=h(t,["response"]);u!=null&&m(e,["response"],u);const d=h(t,["responseJsonSchema"]);return d!=null&&m(e,["responseJsonSchema"],d),e}function qT(t,e){const n={},r=h(e,["name"]);return r!=null&&m(n,["_url","name"],ri(t,r)),n}function BT(t,e){const n={},r=h(e,["name"]);return r!=null&&m(n,["_url","name"],ri(t,r)),n}function HT(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function VT(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function GT(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function FT(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function $T(t){const e={},n=h(t,["config"]);return n!=null&&GT(n,e),e}function jT(t){const e={},n=h(t,["config"]);return n!=null&&FT(n,e),e}function JT(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const o=h(t,["cachedContents"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["cachedContents"],a)}return e}function YT(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const o=h(t,["cachedContents"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["cachedContents"],a)}return e}function KT(t){const e={},n=h(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=h(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const o=h(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const a=h(t,["fileData"]);a!=null&&m(e,["fileData"],PT(a));const u=h(t,["functionCall"]);u!=null&&m(e,["functionCall"],UT(u));const d=h(t,["functionResponse"]);d!=null&&m(e,["functionResponse"],d);const p=h(t,["inlineData"]);p!=null&&m(e,["inlineData"],CT(p));const f=h(t,["text"]);f!=null&&m(e,["text"],f);const g=h(t,["thought"]);g!=null&&m(e,["thought"],g);const _=h(t,["thoughtSignature"]);_!=null&&m(e,["thoughtSignature"],_);const x=h(t,["videoMetadata"]);return x!=null&&m(e,["videoMetadata"],x),e}function XT(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],OT(n));const r=h(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],r),e}function QT(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(_=>_)),m(e,["functionDeclarations"],g)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=h(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const o=h(t,["computerUse"]);o!=null&&m(e,["computerUse"],o);const a=h(t,["fileSearch"]);a!=null&&m(e,["fileSearch"],a);const u=h(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=h(t,["googleMaps"]);d!=null&&m(e,["googleMaps"],HT(d));const p=h(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],VT(p));const f=h(t,["urlContext"]);return f!=null&&m(e,["urlContext"],f),e}function WT(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(x=>LT(x))),m(e,["functionDeclarations"],_)}const r=h(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const o=h(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const a=h(t,["computerUse"]);if(a!=null&&m(e,["computerUse"],a),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=h(t,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const d=h(t,["enterpriseWebSearch"]);d!=null&&m(e,["enterpriseWebSearch"],d);const p=h(t,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const f=h(t,["googleSearch"]);f!=null&&m(e,["googleSearch"],f);const g=h(t,["urlContext"]);return g!=null&&m(e,["urlContext"],g),e}function ZT(t,e){const n={},r=h(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const o=h(t,["expireTime"]);return e!==void 0&&o!=null&&m(e,["expireTime"],o),n}function e1(t,e){const n={},r=h(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const o=h(t,["expireTime"]);return e!==void 0&&o!=null&&m(e,["expireTime"],o),n}function t1(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["_url","name"],ri(t,r));const o=h(e,["config"]);return o!=null&&ZT(o,n),n}function n1(t,e){const n={},r=h(e,["name"]);r!=null&&m(n,["_url","name"],ri(t,r));const o=h(e,["config"]);return o!=null&&e1(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class i1 extends ii{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new dr(ni.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=RT(this.apiClient,e);return d=le("cachedContents",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>g)}else{const f=NT(this.apiClient,e);return d=le("cachedContents",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async get(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=BT(this.apiClient,e);return d=le("{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>g)}else{const f=qT(this.apiClient,e);return d=le("{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async delete(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=zT(this.apiClient,e);return d=le("{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const _=DT(g),x=new hy;return Object.assign(x,_),x})}else{const f=IT(this.apiClient,e);return d=le("{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const _=MT(g),x=new hy;return Object.assign(x,_),x})}}async update(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=n1(this.apiClient,e);return d=le("{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>g)}else{const f=t1(this.apiClient,e);return d=le("{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async listInternal(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=jT(e);return d=le("cachedContents",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const _=YT(g),x=new py;return Object.assign(x,_),x})}else{const f=$T(e);return d=le("cachedContents",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const _=JT(g),x=new py;return Object.assign(x,_),x})}}}function by(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function nt(t){return this instanceof nt?(this.v=t,this):new nt(t)}function hs(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,a=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(w){return function(T){return Promise.resolve(T).then(w,_)}}function d(w,T){r[w]&&(o[w]=function(C){return new Promise(function(k,N){a.push([w,C,k,N])>1||p(w,C)})},T&&(o[w]=T(o[w])))}function p(w,T){try{f(r[w](T))}catch(C){x(a[0][3],C)}}function f(w){w.value instanceof nt?Promise.resolve(w.value.v).then(g,_):x(a[0][2],w)}function g(w){p("next",w)}function _(w){p("throw",w)}function x(w,T){w(T),a.shift(),a.length&&p(a[0][0],a[0][1])}}function Ro(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof by=="function"?by(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(u){return new Promise(function(d,p){u=t[a](u),o(d,p,u.done,u.value)})}}function o(a,u,d,p){Promise.resolve(p).then(function(f){a({value:f,done:d})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function r1(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:g_(n)}function g_(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function s1(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function wy(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const o=[];let a=!0;for(;r<n&&t[r].role==="model";)o.push(t[r]),a&&!g_(t[r])&&(a=!1),r++;a?e.push(...o):e.pop()}return e}class o1{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new a1(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class a1{constructor(e,n,r,o={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=o,this.history=a,this.sendPromise=Promise.resolve(),s1(a)}async sendMessage(e){var n;await this.sendPromise;const r=Rt(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,u,d;const p=await o,f=(u=(a=p.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content,g=p.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let x=[];g!=null&&(x=(d=g.slice(_))!==null&&d!==void 0?d:[]);const w=f?[f]:[];this.recordHistory(r,w,x)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const r=Rt(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const a=await o;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?wy(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,o;return hs(this,arguments,function*(){var u,d,p,f;const g=[];try{for(var _=!0,x=Ro(e),w;w=yield nt(x.next()),u=w.done,!u;_=!0){f=w.value,_=!1;const T=f;if(r1(T)){const C=(o=(r=T.candidates)===null||r===void 0?void 0:r[0])===null||o===void 0?void 0:o.content;C!==void 0&&g.push(C)}yield yield nt(T)}}catch(T){d={error:T}}finally{try{!_&&!u&&(p=x.return)&&(yield nt(p.call(x)))}finally{if(d)throw d.error}}this.recordHistory(n,g)})}recordHistory(e,n,r){let o=[];n.length>0&&n.every(a=>a.role!==void 0)?o=n:o.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...wy(r)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gl extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Gl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function l1(t){const e={},n=h(t,["file"]);return n!=null&&m(e,["file"],n),e}function u1(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function c1(t){const e={},n=h(t,["name"]);return n!=null&&m(e,["_url","file"],u_(n)),e}function d1(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function f1(t){const e={},n=h(t,["name"]);return n!=null&&m(e,["_url","file"],u_(n)),e}function h1(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function p1(t){const e={},n=h(t,["config"]);return n!=null&&h1(n,e),e}function m1(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const o=h(t,["files"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class g1 extends ii{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new dr(ni.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=p1(e);return a=le("files",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const f=m1(p),g=new xE;return Object.assign(g,f),g})}}async createInternal(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=l1(e);return a=le("upload/v1beta/files",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>{const f=u1(p),g=new bE;return Object.assign(g,f),g})}}async get(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=f1(e);return a=le("files/{file}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=c1(e);return a=le("files/{file}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const f=d1(p),g=new wE;return Object.assign(g,f),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Al(t){const e={},n=h(t,["data"]);if(n!=null&&m(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function y1(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>M1(a))),m(e,["parts"],o)}const r=h(t,["role"]);return r!=null&&m(e,["role"],r),e}function v1(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function _1(t){const e={},n=h(t,["id"]);n!=null&&m(e,["id"],n);const r=h(t,["args"]);r!=null&&m(e,["args"],r);const o=h(t,["name"]);if(o!=null&&m(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function x1(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&m(e,["description"],n);const r=h(t,["name"]);r!=null&&m(e,["name"],r);const o=h(t,["parameters"]);o!=null&&m(e,["parameters"],o);const a=h(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=h(t,["response"]);u!=null&&m(e,["response"],u);const d=h(t,["responseJsonSchema"]);return d!=null&&m(e,["responseJsonSchema"],d),e}function b1(t){const e={},n=h(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const r=h(t,["responseJsonSchema"]);r!=null&&m(e,["responseJsonSchema"],r);const o=h(t,["audioTimestamp"]);o!=null&&m(e,["audioTimestamp"],o);const a=h(t,["candidateCount"]);a!=null&&m(e,["candidateCount"],a);const u=h(t,["enableAffectiveDialog"]);u!=null&&m(e,["enableAffectiveDialog"],u);const d=h(t,["frequencyPenalty"]);d!=null&&m(e,["frequencyPenalty"],d);const p=h(t,["logprobs"]);p!=null&&m(e,["logprobs"],p);const f=h(t,["maxOutputTokens"]);f!=null&&m(e,["maxOutputTokens"],f);const g=h(t,["mediaResolution"]);g!=null&&m(e,["mediaResolution"],g);const _=h(t,["presencePenalty"]);_!=null&&m(e,["presencePenalty"],_);const x=h(t,["responseLogprobs"]);x!=null&&m(e,["responseLogprobs"],x);const w=h(t,["responseMimeType"]);w!=null&&m(e,["responseMimeType"],w);const T=h(t,["responseModalities"]);T!=null&&m(e,["responseModalities"],T);const C=h(t,["responseSchema"]);C!=null&&m(e,["responseSchema"],C);const k=h(t,["routingConfig"]);k!=null&&m(e,["routingConfig"],k);const N=h(t,["seed"]);N!=null&&m(e,["seed"],N);const U=h(t,["speechConfig"]);U!=null&&m(e,["speechConfig"],y_(U));const R=h(t,["stopSequences"]);R!=null&&m(e,["stopSequences"],R);const V=h(t,["temperature"]);V!=null&&m(e,["temperature"],V);const W=h(t,["thinkingConfig"]);W!=null&&m(e,["thinkingConfig"],W);const P=h(t,["topK"]);P!=null&&m(e,["topK"],P);const F=h(t,["topP"]);if(F!=null&&m(e,["topP"],F),h(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function w1(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function S1(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function E1(t,e){const n={},r=h(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const o=h(t,["responseModalities"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","responseModalities"],o);const a=h(t,["temperature"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","temperature"],a);const u=h(t,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const d=h(t,["topK"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","topK"],d);const p=h(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const f=h(t,["mediaResolution"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","mediaResolution"],f);const g=h(t,["seed"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","seed"],g);const _=h(t,["speechConfig"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","speechConfig"],kf(_));const x=h(t,["thinkingConfig"]);e!==void 0&&x!=null&&m(e,["setup","generationConfig","thinkingConfig"],x);const w=h(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],w);const T=h(t,["systemInstruction"]);e!==void 0&&T!=null&&m(e,["setup","systemInstruction"],y1(Rt(T)));const C=h(t,["tools"]);if(e!==void 0&&C!=null){let P=ws(C);Array.isArray(P)&&(P=P.map(F=>P1(bs(F)))),m(e,["setup","tools"],P)}const k=h(t,["sessionResumption"]);e!==void 0&&k!=null&&m(e,["setup","sessionResumption"],D1(k));const N=h(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&m(e,["setup","inputAudioTranscription"],N);const U=h(t,["outputAudioTranscription"]);e!==void 0&&U!=null&&m(e,["setup","outputAudioTranscription"],U);const R=h(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&m(e,["setup","realtimeInputConfig"],R);const V=h(t,["contextWindowCompression"]);e!==void 0&&V!=null&&m(e,["setup","contextWindowCompression"],V);const W=h(t,["proactivity"]);return e!==void 0&&W!=null&&m(e,["setup","proactivity"],W),n}function T1(t,e){const n={},r=h(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],b1(r));const o=h(t,["responseModalities"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","responseModalities"],o);const a=h(t,["temperature"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","temperature"],a);const u=h(t,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const d=h(t,["topK"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","topK"],d);const p=h(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const f=h(t,["mediaResolution"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","mediaResolution"],f);const g=h(t,["seed"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","seed"],g);const _=h(t,["speechConfig"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","speechConfig"],y_(kf(_)));const x=h(t,["thinkingConfig"]);e!==void 0&&x!=null&&m(e,["setup","generationConfig","thinkingConfig"],x);const w=h(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],w);const T=h(t,["systemInstruction"]);e!==void 0&&T!=null&&m(e,["setup","systemInstruction"],Rt(T));const C=h(t,["tools"]);if(e!==void 0&&C!=null){let P=ws(C);Array.isArray(P)&&(P=P.map(F=>U1(bs(F)))),m(e,["setup","tools"],P)}const k=h(t,["sessionResumption"]);e!==void 0&&k!=null&&m(e,["setup","sessionResumption"],k);const N=h(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&m(e,["setup","inputAudioTranscription"],N);const U=h(t,["outputAudioTranscription"]);e!==void 0&&U!=null&&m(e,["setup","outputAudioTranscription"],U);const R=h(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&m(e,["setup","realtimeInputConfig"],R);const V=h(t,["contextWindowCompression"]);e!==void 0&&V!=null&&m(e,["setup","contextWindowCompression"],V);const W=h(t,["proactivity"]);return e!==void 0&&W!=null&&m(e,["setup","proactivity"],W),n}function C1(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["setup","model"],Be(t,r));const o=h(e,["config"]);return o!=null&&m(n,["config"],E1(o,n)),n}function A1(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["setup","model"],Be(t,r));const o=h(e,["config"]);return o!=null&&m(n,["config"],T1(o,n)),n}function k1(t){const e={},n=h(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],n),e}function N1(t){const e={},n=h(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),m(e,["weightedPrompts"],r)}return e}function R1(t){const e={},n=h(t,["media"]);if(n!=null){let f=r_(n);Array.isArray(f)&&(f=f.map(g=>Al(g))),m(e,["mediaChunks"],f)}const r=h(t,["audio"]);r!=null&&m(e,["audio"],Al(o_(r)));const o=h(t,["audioStreamEnd"]);o!=null&&m(e,["audioStreamEnd"],o);const a=h(t,["video"]);a!=null&&m(e,["video"],Al(s_(a)));const u=h(t,["text"]);u!=null&&m(e,["text"],u);const d=h(t,["activityStart"]);d!=null&&m(e,["activityStart"],d);const p=h(t,["activityEnd"]);return p!=null&&m(e,["activityEnd"],p),e}function I1(t){const e={},n=h(t,["media"]);if(n!=null){let f=r_(n);Array.isArray(f)&&(f=f.map(g=>g)),m(e,["mediaChunks"],f)}const r=h(t,["audio"]);r!=null&&m(e,["audio"],o_(r));const o=h(t,["audioStreamEnd"]);o!=null&&m(e,["audioStreamEnd"],o);const a=h(t,["video"]);a!=null&&m(e,["video"],s_(a));const u=h(t,["text"]);u!=null&&m(e,["text"],u);const d=h(t,["activityStart"]);d!=null&&m(e,["activityStart"],d);const p=h(t,["activityEnd"]);return p!=null&&m(e,["activityEnd"],p),e}function z1(t){const e={},n=h(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],n);const r=h(t,["serverContent"]);r!=null&&m(e,["serverContent"],r);const o=h(t,["toolCall"]);o!=null&&m(e,["toolCall"],o);const a=h(t,["toolCallCancellation"]);a!=null&&m(e,["toolCallCancellation"],a);const u=h(t,["usageMetadata"]);u!=null&&m(e,["usageMetadata"],O1(u));const d=h(t,["goAway"]);d!=null&&m(e,["goAway"],d);const p=h(t,["sessionResumptionUpdate"]);return p!=null&&m(e,["sessionResumptionUpdate"],p),e}function M1(t){const e={},n=h(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=h(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const o=h(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const a=h(t,["fileData"]);a!=null&&m(e,["fileData"],v1(a));const u=h(t,["functionCall"]);u!=null&&m(e,["functionCall"],_1(u));const d=h(t,["functionResponse"]);d!=null&&m(e,["functionResponse"],d);const p=h(t,["inlineData"]);p!=null&&m(e,["inlineData"],Al(p));const f=h(t,["text"]);f!=null&&m(e,["text"],f);const g=h(t,["thought"]);g!=null&&m(e,["thought"],g);const _=h(t,["thoughtSignature"]);_!=null&&m(e,["thoughtSignature"],_);const x=h(t,["videoMetadata"]);return x!=null&&m(e,["videoMetadata"],x),e}function D1(t){const e={},n=h(t,["handle"]);if(n!=null&&m(e,["handle"],n),h(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function y_(t){const e={},n=h(t,["languageCode"]);n!=null&&m(e,["languageCode"],n);const r=h(t,["voiceConfig"]);if(r!=null&&m(e,["voiceConfig"],r),h(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function P1(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(_=>_)),m(e,["functionDeclarations"],g)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=h(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const o=h(t,["computerUse"]);o!=null&&m(e,["computerUse"],o);const a=h(t,["fileSearch"]);a!=null&&m(e,["fileSearch"],a);const u=h(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=h(t,["googleMaps"]);d!=null&&m(e,["googleMaps"],w1(d));const p=h(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],S1(p));const f=h(t,["urlContext"]);return f!=null&&m(e,["urlContext"],f),e}function U1(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(x=>x1(x))),m(e,["functionDeclarations"],_)}const r=h(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const o=h(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const a=h(t,["computerUse"]);if(a!=null&&m(e,["computerUse"],a),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=h(t,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const d=h(t,["enterpriseWebSearch"]);d!=null&&m(e,["enterpriseWebSearch"],d);const p=h(t,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const f=h(t,["googleSearch"]);f!=null&&m(e,["googleSearch"],f);const g=h(t,["urlContext"]);return g!=null&&m(e,["urlContext"],g),e}function O1(t){const e={},n=h(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const r=h(t,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const o=h(t,["candidatesTokenCount"]);o!=null&&m(e,["responseTokenCount"],o);const a=h(t,["toolUsePromptTokenCount"]);a!=null&&m(e,["toolUsePromptTokenCount"],a);const u=h(t,["thoughtsTokenCount"]);u!=null&&m(e,["thoughtsTokenCount"],u);const d=h(t,["totalTokenCount"]);d!=null&&m(e,["totalTokenCount"],d);const p=h(t,["promptTokensDetails"]);if(p!=null){let w=p;Array.isArray(w)&&(w=w.map(T=>T)),m(e,["promptTokensDetails"],w)}const f=h(t,["cacheTokensDetails"]);if(f!=null){let w=f;Array.isArray(w)&&(w=w.map(T=>T)),m(e,["cacheTokensDetails"],w)}const g=h(t,["candidatesTokensDetails"]);if(g!=null){let w=g;Array.isArray(w)&&(w=w.map(T=>T)),m(e,["responseTokensDetails"],w)}const _=h(t,["toolUsePromptTokensDetails"]);if(_!=null){let w=_;Array.isArray(w)&&(w=w.map(T=>T)),m(e,["toolUsePromptTokensDetails"],w)}const x=h(t,["trafficType"]);return x!=null&&m(e,["trafficType"],x),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function L1(t){const e={},n=h(t,["data"]);if(n!=null&&m(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function q1(t){const e={},n=h(t,["content"]);n!=null&&m(e,["content"],n);const r=h(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],B1(r));const o=h(t,["tokenCount"]);o!=null&&m(e,["tokenCount"],o);const a=h(t,["finishReason"]);a!=null&&m(e,["finishReason"],a);const u=h(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const d=h(t,["groundingMetadata"]);d!=null&&m(e,["groundingMetadata"],d);const p=h(t,["index"]);p!=null&&m(e,["index"],p);const f=h(t,["logprobsResult"]);f!=null&&m(e,["logprobsResult"],f);const g=h(t,["safetyRatings"]);if(g!=null){let x=g;Array.isArray(x)&&(x=x.map(w=>w)),m(e,["safetyRatings"],x)}const _=h(t,["urlContextMetadata"]);return _!=null&&m(e,["urlContextMetadata"],_),e}function B1(t){const e={},n=h(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),m(e,["citations"],r)}return e}function H1(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],Be(t,r));const o=h(e,["contents"]);if(o!=null){let a=_n(o);Array.isArray(a)&&(a=a.map(u=>u)),m(n,["contents"],a)}return n}function V1(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["tokensInfo"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["tokensInfo"],o)}return e}function G1(t){const e={},n=h(t,["values"]);n!=null&&m(e,["values"],n);const r=h(t,["statistics"]);return r!=null&&m(e,["statistics"],F1(r)),e}function F1(t){const e={},n=h(t,["truncated"]);n!=null&&m(e,["truncated"],n);const r=h(t,["token_count"]);return r!=null&&m(e,["tokenCount"],r),e}function Fl(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>ZC(a))),m(e,["parts"],o)}const r=h(t,["role"]);return r!=null&&m(e,["role"],r),e}function $1(t){const e={},n=h(t,["controlType"]);n!=null&&m(e,["controlType"],n);const r=h(t,["enableControlImageComputation"]);return r!=null&&m(e,["computeControl"],r),e}function j1(t){const e={};if(h(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(h(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(h(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function J1(t,e){const n={},r=h(t,["systemInstruction"]);e!==void 0&&r!=null&&m(e,["systemInstruction"],Rt(r));const o=h(t,["tools"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>w_(d))),m(e,["tools"],u)}const a=h(t,["generationConfig"]);return e!==void 0&&a!=null&&m(e,["generationConfig"],LC(a)),n}function Y1(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],Be(t,r));const o=h(e,["contents"]);if(o!=null){let u=_n(o);Array.isArray(u)&&(u=u.map(d=>Fl(d))),m(n,["contents"],u)}const a=h(e,["config"]);return a!=null&&j1(a),n}function K1(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],Be(t,r));const o=h(e,["contents"]);if(o!=null){let u=_n(o);Array.isArray(u)&&(u=u.map(d=>d)),m(n,["contents"],u)}const a=h(e,["config"]);return a!=null&&J1(a,n),n}function X1(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["totalTokens"]);r!=null&&m(e,["totalTokens"],r);const o=h(t,["cachedContentTokenCount"]);return o!=null&&m(e,["cachedContentTokenCount"],o),e}function Q1(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["totalTokens"]);return r!=null&&m(e,["totalTokens"],r),e}function W1(t,e){const n={},r=h(e,["model"]);return r!=null&&m(n,["_url","name"],Be(t,r)),n}function Z1(t,e){const n={},r=h(e,["model"]);return r!=null&&m(n,["_url","name"],Be(t,r)),n}function eC(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function tC(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function nC(t,e){const n={},r=h(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const o=h(t,["negativePrompt"]);e!==void 0&&o!=null&&m(e,["parameters","negativePrompt"],o);const a=h(t,["numberOfImages"]);e!==void 0&&a!=null&&m(e,["parameters","sampleCount"],a);const u=h(t,["aspectRatio"]);e!==void 0&&u!=null&&m(e,["parameters","aspectRatio"],u);const d=h(t,["guidanceScale"]);e!==void 0&&d!=null&&m(e,["parameters","guidanceScale"],d);const p=h(t,["seed"]);e!==void 0&&p!=null&&m(e,["parameters","seed"],p);const f=h(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&m(e,["parameters","safetySetting"],f);const g=h(t,["personGeneration"]);e!==void 0&&g!=null&&m(e,["parameters","personGeneration"],g);const _=h(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&m(e,["parameters","includeSafetyAttributes"],_);const x=h(t,["includeRaiReason"]);e!==void 0&&x!=null&&m(e,["parameters","includeRaiReason"],x);const w=h(t,["language"]);e!==void 0&&w!=null&&m(e,["parameters","language"],w);const T=h(t,["outputMimeType"]);e!==void 0&&T!=null&&m(e,["parameters","outputOptions","mimeType"],T);const C=h(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&m(e,["parameters","outputOptions","compressionQuality"],C);const k=h(t,["addWatermark"]);e!==void 0&&k!=null&&m(e,["parameters","addWatermark"],k);const N=h(t,["labels"]);e!==void 0&&N!=null&&m(e,["labels"],N);const U=h(t,["editMode"]);e!==void 0&&U!=null&&m(e,["parameters","editMode"],U);const R=h(t,["baseSteps"]);return e!==void 0&&R!=null&&m(e,["parameters","editConfig","baseSteps"],R),n}function iC(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],Be(t,r));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const a=h(e,["referenceImages"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>sA(p))),m(n,["instances[0]","referenceImages"],d)}const u=h(e,["config"]);return u!=null&&nC(u,n),n}function rC(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>$l(a))),m(e,["generatedImages"],o)}return e}function sC(t,e){const n={},r=h(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const o=h(t,["title"]);e!==void 0&&o!=null&&m(e,["requests[]","title"],o);const a=h(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&m(e,["requests[]","outputDimensionality"],a),h(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function oC(t,e){const n={},r=h(t,["taskType"]);e!==void 0&&r!=null&&m(e,["instances[]","task_type"],r);const o=h(t,["title"]);e!==void 0&&o!=null&&m(e,["instances[]","title"],o);const a=h(t,["outputDimensionality"]);e!==void 0&&a!=null&&m(e,["parameters","outputDimensionality"],a);const u=h(t,["mimeType"]);e!==void 0&&u!=null&&m(e,["instances[]","mimeType"],u);const d=h(t,["autoTruncate"]);return e!==void 0&&d!=null&&m(e,["parameters","autoTruncate"],d),n}function aC(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],Be(t,r));const o=h(e,["contents"]);if(o!=null){let d=Tf(t,o);Array.isArray(d)&&(d=d.map(p=>p)),m(n,["requests[]","content"],d)}const a=h(e,["config"]);a!=null&&sC(a,n);const u=h(e,["model"]);return u!==void 0&&m(n,["requests[]","model"],Be(t,u)),n}function lC(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],Be(t,r));const o=h(e,["contents"]);if(o!=null){let u=Tf(t,o);Array.isArray(u)&&(u=u.map(d=>d)),m(n,["instances[]","content"],u)}const a=h(e,["config"]);return a!=null&&oC(a,n),n}function uC(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["embeddings"],a)}const o=h(t,["metadata"]);return o!=null&&m(e,["metadata"],o),e}function cC(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>G1(u))),m(e,["embeddings"],a)}const o=h(t,["metadata"]);return o!=null&&m(e,["metadata"],o),e}function dC(t){const e={},n=h(t,["endpoint"]);n!=null&&m(e,["name"],n);const r=h(t,["deployedModelId"]);return r!=null&&m(e,["deployedModelId"],r),e}function fC(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function hC(t){const e={},n=h(t,["id"]);n!=null&&m(e,["id"],n);const r=h(t,["args"]);r!=null&&m(e,["args"],r);const o=h(t,["name"]);if(o!=null&&m(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function pC(t){const e={},n=h(t,["mode"]);n!=null&&m(e,["mode"],n);const r=h(t,["allowedFunctionNames"]);if(r!=null&&m(e,["allowedFunctionNames"],r),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function mC(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&m(e,["description"],n);const r=h(t,["name"]);r!=null&&m(e,["name"],r);const o=h(t,["parameters"]);o!=null&&m(e,["parameters"],o);const a=h(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=h(t,["response"]);u!=null&&m(e,["response"],u);const d=h(t,["responseJsonSchema"]);return d!=null&&m(e,["responseJsonSchema"],d),e}function gC(t,e,n){const r={},o=h(e,["systemInstruction"]);n!==void 0&&o!=null&&m(n,["systemInstruction"],Fl(Rt(o)));const a=h(e,["temperature"]);a!=null&&m(r,["temperature"],a);const u=h(e,["topP"]);u!=null&&m(r,["topP"],u);const d=h(e,["topK"]);d!=null&&m(r,["topK"],d);const p=h(e,["candidateCount"]);p!=null&&m(r,["candidateCount"],p);const f=h(e,["maxOutputTokens"]);f!=null&&m(r,["maxOutputTokens"],f);const g=h(e,["stopSequences"]);g!=null&&m(r,["stopSequences"],g);const _=h(e,["responseLogprobs"]);_!=null&&m(r,["responseLogprobs"],_);const x=h(e,["logprobs"]);x!=null&&m(r,["logprobs"],x);const w=h(e,["presencePenalty"]);w!=null&&m(r,["presencePenalty"],w);const T=h(e,["frequencyPenalty"]);T!=null&&m(r,["frequencyPenalty"],T);const C=h(e,["seed"]);C!=null&&m(r,["seed"],C);const k=h(e,["responseMimeType"]);k!=null&&m(r,["responseMimeType"],k);const N=h(e,["responseSchema"]);N!=null&&m(r,["responseSchema"],Cf(N));const U=h(e,["responseJsonSchema"]);if(U!=null&&m(r,["responseJsonSchema"],U),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=h(e,["safetySettings"]);if(n!==void 0&&R!=null){let X=R;Array.isArray(X)&&(X=X.map(pe=>oA(pe))),m(n,["safetySettings"],X)}const V=h(e,["tools"]);if(n!==void 0&&V!=null){let X=ws(V);Array.isArray(X)&&(X=X.map(pe=>hA(bs(pe)))),m(n,["tools"],X)}const W=h(e,["toolConfig"]);if(n!==void 0&&W!=null&&m(n,["toolConfig"],fA(W)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=h(e,["cachedContent"]);n!==void 0&&P!=null&&m(n,["cachedContent"],ri(t,P));const F=h(e,["responseModalities"]);F!=null&&m(r,["responseModalities"],F);const ie=h(e,["mediaResolution"]);ie!=null&&m(r,["mediaResolution"],ie);const te=h(e,["speechConfig"]);if(te!=null&&m(r,["speechConfig"],Af(te)),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ue=h(e,["thinkingConfig"]);ue!=null&&m(r,["thinkingConfig"],ue);const se=h(e,["imageConfig"]);return se!=null&&m(r,["imageConfig"],GC(se)),r}function yC(t,e,n){const r={},o=h(e,["systemInstruction"]);n!==void 0&&o!=null&&m(n,["systemInstruction"],Rt(o));const a=h(e,["temperature"]);a!=null&&m(r,["temperature"],a);const u=h(e,["topP"]);u!=null&&m(r,["topP"],u);const d=h(e,["topK"]);d!=null&&m(r,["topK"],d);const p=h(e,["candidateCount"]);p!=null&&m(r,["candidateCount"],p);const f=h(e,["maxOutputTokens"]);f!=null&&m(r,["maxOutputTokens"],f);const g=h(e,["stopSequences"]);g!=null&&m(r,["stopSequences"],g);const _=h(e,["responseLogprobs"]);_!=null&&m(r,["responseLogprobs"],_);const x=h(e,["logprobs"]);x!=null&&m(r,["logprobs"],x);const w=h(e,["presencePenalty"]);w!=null&&m(r,["presencePenalty"],w);const T=h(e,["frequencyPenalty"]);T!=null&&m(r,["frequencyPenalty"],T);const C=h(e,["seed"]);C!=null&&m(r,["seed"],C);const k=h(e,["responseMimeType"]);k!=null&&m(r,["responseMimeType"],k);const N=h(e,["responseSchema"]);N!=null&&m(r,["responseSchema"],Cf(N));const U=h(e,["responseJsonSchema"]);U!=null&&m(r,["responseJsonSchema"],U);const R=h(e,["routingConfig"]);R!=null&&m(r,["routingConfig"],R);const V=h(e,["modelSelectionConfig"]);V!=null&&m(r,["modelConfig"],V);const W=h(e,["safetySettings"]);if(n!==void 0&&W!=null){let L=W;Array.isArray(L)&&(L=L.map(Z=>Z)),m(n,["safetySettings"],L)}const P=h(e,["tools"]);if(n!==void 0&&P!=null){let L=ws(P);Array.isArray(L)&&(L=L.map(Z=>w_(bs(Z)))),m(n,["tools"],L)}const F=h(e,["toolConfig"]);n!==void 0&&F!=null&&m(n,["toolConfig"],F);const ie=h(e,["labels"]);n!==void 0&&ie!=null&&m(n,["labels"],ie);const te=h(e,["cachedContent"]);n!==void 0&&te!=null&&m(n,["cachedContent"],ri(t,te));const ue=h(e,["responseModalities"]);ue!=null&&m(r,["responseModalities"],ue);const se=h(e,["mediaResolution"]);se!=null&&m(r,["mediaResolution"],se);const X=h(e,["speechConfig"]);X!=null&&m(r,["speechConfig"],b_(Af(X)));const pe=h(e,["audioTimestamp"]);pe!=null&&m(r,["audioTimestamp"],pe);const de=h(e,["thinkingConfig"]);de!=null&&m(r,["thinkingConfig"],de);const oe=h(e,["imageConfig"]);return oe!=null&&m(r,["imageConfig"],FC(oe)),r}function Sy(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],Be(t,r));const o=h(e,["contents"]);if(o!=null){let u=_n(o);Array.isArray(u)&&(u=u.map(d=>Fl(d))),m(n,["contents"],u)}const a=h(e,["config"]);return a!=null&&m(n,["generationConfig"],gC(t,a,n)),n}function Ey(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],Be(t,r));const o=h(e,["contents"]);if(o!=null){let u=_n(o);Array.isArray(u)&&(u=u.map(d=>d)),m(n,["contents"],u)}const a=h(e,["config"]);return a!=null&&m(n,["generationConfig"],yC(t,a,n)),n}function Ty(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["candidates"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(f=>q1(f))),m(e,["candidates"],p)}const o=h(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const a=h(t,["promptFeedback"]);a!=null&&m(e,["promptFeedback"],a);const u=h(t,["responseId"]);u!=null&&m(e,["responseId"],u);const d=h(t,["usageMetadata"]);return d!=null&&m(e,["usageMetadata"],d),e}function Cy(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(g=>g)),m(e,["candidates"],f)}const o=h(t,["createTime"]);o!=null&&m(e,["createTime"],o);const a=h(t,["modelVersion"]);a!=null&&m(e,["modelVersion"],a);const u=h(t,["promptFeedback"]);u!=null&&m(e,["promptFeedback"],u);const d=h(t,["responseId"]);d!=null&&m(e,["responseId"],d);const p=h(t,["usageMetadata"]);return p!=null&&m(e,["usageMetadata"],p),e}function vC(t,e){const n={};if(h(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=h(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const o=h(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const a=h(t,["guidanceScale"]);if(e!==void 0&&a!=null&&m(e,["parameters","guidanceScale"],a),h(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=h(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const d=h(t,["personGeneration"]);e!==void 0&&d!=null&&m(e,["parameters","personGeneration"],d);const p=h(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&m(e,["parameters","includeSafetyAttributes"],p);const f=h(t,["includeRaiReason"]);e!==void 0&&f!=null&&m(e,["parameters","includeRaiReason"],f);const g=h(t,["language"]);e!==void 0&&g!=null&&m(e,["parameters","language"],g);const _=h(t,["outputMimeType"]);e!==void 0&&_!=null&&m(e,["parameters","outputOptions","mimeType"],_);const x=h(t,["outputCompressionQuality"]);if(e!==void 0&&x!=null&&m(e,["parameters","outputOptions","compressionQuality"],x),h(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(h(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=h(t,["imageSize"]);if(e!==void 0&&w!=null&&m(e,["parameters","sampleImageSize"],w),h(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function _C(t,e){const n={},r=h(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const o=h(t,["negativePrompt"]);e!==void 0&&o!=null&&m(e,["parameters","negativePrompt"],o);const a=h(t,["numberOfImages"]);e!==void 0&&a!=null&&m(e,["parameters","sampleCount"],a);const u=h(t,["aspectRatio"]);e!==void 0&&u!=null&&m(e,["parameters","aspectRatio"],u);const d=h(t,["guidanceScale"]);e!==void 0&&d!=null&&m(e,["parameters","guidanceScale"],d);const p=h(t,["seed"]);e!==void 0&&p!=null&&m(e,["parameters","seed"],p);const f=h(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&m(e,["parameters","safetySetting"],f);const g=h(t,["personGeneration"]);e!==void 0&&g!=null&&m(e,["parameters","personGeneration"],g);const _=h(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&m(e,["parameters","includeSafetyAttributes"],_);const x=h(t,["includeRaiReason"]);e!==void 0&&x!=null&&m(e,["parameters","includeRaiReason"],x);const w=h(t,["language"]);e!==void 0&&w!=null&&m(e,["parameters","language"],w);const T=h(t,["outputMimeType"]);e!==void 0&&T!=null&&m(e,["parameters","outputOptions","mimeType"],T);const C=h(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&m(e,["parameters","outputOptions","compressionQuality"],C);const k=h(t,["addWatermark"]);e!==void 0&&k!=null&&m(e,["parameters","addWatermark"],k);const N=h(t,["labels"]);e!==void 0&&N!=null&&m(e,["labels"],N);const U=h(t,["imageSize"]);e!==void 0&&U!=null&&m(e,["parameters","sampleImageSize"],U);const R=h(t,["enhancePrompt"]);return e!==void 0&&R!=null&&m(e,["parameters","enhancePrompt"],R),n}function xC(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],Be(t,r));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const a=h(e,["config"]);return a!=null&&vC(a,n),n}function bC(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],Be(t,r));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const a=h(e,["config"]);return a!=null&&_C(a,n),n}function wC(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>DC(u))),m(e,["generatedImages"],a)}const o=h(t,["positivePromptSafetyAttributes"]);return o!=null&&m(e,["positivePromptSafetyAttributes"],__(o)),e}function SC(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>$l(u))),m(e,["generatedImages"],a)}const o=h(t,["positivePromptSafetyAttributes"]);return o!=null&&m(e,["positivePromptSafetyAttributes"],x_(o)),e}function EC(t,e){const n={},r=h(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r),h(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=h(t,["durationSeconds"]);if(e!==void 0&&o!=null&&m(e,["parameters","durationSeconds"],o),h(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=h(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const u=h(t,["resolution"]);e!==void 0&&u!=null&&m(e,["parameters","resolution"],u);const d=h(t,["personGeneration"]);if(e!==void 0&&d!=null&&m(e,["parameters","personGeneration"],d),h(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=h(t,["negativePrompt"]);e!==void 0&&p!=null&&m(e,["parameters","negativePrompt"],p);const f=h(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&m(e,["parameters","enhancePrompt"],f),h(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const g=h(t,["lastFrame"]);e!==void 0&&g!=null&&m(e,["instances[0]","lastFrame"],jl(g));const _=h(t,["referenceImages"]);if(e!==void 0&&_!=null){let x=_;Array.isArray(x)&&(x=x.map(w=>CA(w))),m(e,["instances[0]","referenceImages"],x)}if(h(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(h(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function TC(t,e){const n={},r=h(t,["numberOfVideos"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const o=h(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const a=h(t,["fps"]);e!==void 0&&a!=null&&m(e,["parameters","fps"],a);const u=h(t,["durationSeconds"]);e!==void 0&&u!=null&&m(e,["parameters","durationSeconds"],u);const d=h(t,["seed"]);e!==void 0&&d!=null&&m(e,["parameters","seed"],d);const p=h(t,["aspectRatio"]);e!==void 0&&p!=null&&m(e,["parameters","aspectRatio"],p);const f=h(t,["resolution"]);e!==void 0&&f!=null&&m(e,["parameters","resolution"],f);const g=h(t,["personGeneration"]);e!==void 0&&g!=null&&m(e,["parameters","personGeneration"],g);const _=h(t,["pubsubTopic"]);e!==void 0&&_!=null&&m(e,["parameters","pubsubTopic"],_);const x=h(t,["negativePrompt"]);e!==void 0&&x!=null&&m(e,["parameters","negativePrompt"],x);const w=h(t,["enhancePrompt"]);e!==void 0&&w!=null&&m(e,["parameters","enhancePrompt"],w);const T=h(t,["generateAudio"]);e!==void 0&&T!=null&&m(e,["parameters","generateAudio"],T);const C=h(t,["lastFrame"]);e!==void 0&&C!=null&&m(e,["instances[0]","lastFrame"],An(C));const k=h(t,["referenceImages"]);if(e!==void 0&&k!=null){let R=k;Array.isArray(R)&&(R=R.map(V=>AA(V))),m(e,["instances[0]","referenceImages"],R)}const N=h(t,["mask"]);e!==void 0&&N!=null&&m(e,["instances[0]","mask"],TA(N));const U=h(t,["compressionQuality"]);return e!==void 0&&U!=null&&m(e,["parameters","compressionQuality"],U),n}function CC(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const r=h(t,["metadata"]);r!=null&&m(e,["metadata"],r);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const a=h(t,["error"]);a!=null&&m(e,["error"],a);const u=h(t,["response","generateVideoResponse"]);return u!=null&&m(e,["response"],RC(u)),e}function AC(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const r=h(t,["metadata"]);r!=null&&m(e,["metadata"],r);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const a=h(t,["error"]);a!=null&&m(e,["error"],a);const u=h(t,["response"]);return u!=null&&m(e,["response"],IC(u)),e}function kC(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],Be(t,r));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const a=h(e,["image"]);a!=null&&m(n,["instances[0]","image"],jl(a));const u=h(e,["video"]);u!=null&&m(n,["instances[0]","video"],S_(u));const d=h(e,["source"]);d!=null&&zC(d,n);const p=h(e,["config"]);return p!=null&&EC(p,n),n}function NC(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],Be(t,r));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const a=h(e,["image"]);a!=null&&m(n,["instances[0]","image"],An(a));const u=h(e,["video"]);u!=null&&m(n,["instances[0]","video"],E_(u));const d=h(e,["source"]);d!=null&&MC(d,n);const p=h(e,["config"]);return p!=null&&TC(p,n),n}function RC(t){const e={},n=h(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>UC(u))),m(e,["generatedVideos"],a)}const r=h(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const o=h(t,["raiMediaFilteredReasons"]);return o!=null&&m(e,["raiMediaFilteredReasons"],o),e}function IC(t){const e={},n=h(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>OC(u))),m(e,["generatedVideos"],a)}const r=h(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const o=h(t,["raiMediaFilteredReasons"]);return o!=null&&m(e,["raiMediaFilteredReasons"],o),e}function zC(t,e){const n={},r=h(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const o=h(t,["image"]);e!==void 0&&o!=null&&m(e,["instances[0]","image"],jl(o));const a=h(t,["video"]);return e!==void 0&&a!=null&&m(e,["instances[0]","video"],S_(a)),n}function MC(t,e){const n={},r=h(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const o=h(t,["image"]);e!==void 0&&o!=null&&m(e,["instances[0]","image"],An(o));const a=h(t,["video"]);return e!==void 0&&a!=null&&m(e,["instances[0]","video"],E_(a)),n}function DC(t){const e={},n=h(t,["_self"]);n!=null&&m(e,["image"],$C(n));const r=h(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const o=h(t,["_self"]);return o!=null&&m(e,["safetyAttributes"],__(o)),e}function $l(t){const e={},n=h(t,["_self"]);n!=null&&m(e,["image"],v_(n));const r=h(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const o=h(t,["_self"]);o!=null&&m(e,["safetyAttributes"],x_(o));const a=h(t,["prompt"]);return a!=null&&m(e,["enhancedPrompt"],a),e}function PC(t){const e={},n=h(t,["_self"]);n!=null&&m(e,["mask"],v_(n));const r=h(t,["labels"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["labels"],o)}return e}function UC(t){const e={},n=h(t,["video"]);return n!=null&&m(e,["video"],SA(n)),e}function OC(t){const e={},n=h(t,["_self"]);return n!=null&&m(e,["video"],EA(n)),e}function LC(t){const e={},n=h(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const r=h(t,["responseJsonSchema"]);r!=null&&m(e,["responseJsonSchema"],r);const o=h(t,["audioTimestamp"]);o!=null&&m(e,["audioTimestamp"],o);const a=h(t,["candidateCount"]);a!=null&&m(e,["candidateCount"],a);const u=h(t,["enableAffectiveDialog"]);u!=null&&m(e,["enableAffectiveDialog"],u);const d=h(t,["frequencyPenalty"]);d!=null&&m(e,["frequencyPenalty"],d);const p=h(t,["logprobs"]);p!=null&&m(e,["logprobs"],p);const f=h(t,["maxOutputTokens"]);f!=null&&m(e,["maxOutputTokens"],f);const g=h(t,["mediaResolution"]);g!=null&&m(e,["mediaResolution"],g);const _=h(t,["presencePenalty"]);_!=null&&m(e,["presencePenalty"],_);const x=h(t,["responseLogprobs"]);x!=null&&m(e,["responseLogprobs"],x);const w=h(t,["responseMimeType"]);w!=null&&m(e,["responseMimeType"],w);const T=h(t,["responseModalities"]);T!=null&&m(e,["responseModalities"],T);const C=h(t,["responseSchema"]);C!=null&&m(e,["responseSchema"],C);const k=h(t,["routingConfig"]);k!=null&&m(e,["routingConfig"],k);const N=h(t,["seed"]);N!=null&&m(e,["seed"],N);const U=h(t,["speechConfig"]);U!=null&&m(e,["speechConfig"],b_(U));const R=h(t,["stopSequences"]);R!=null&&m(e,["stopSequences"],R);const V=h(t,["temperature"]);V!=null&&m(e,["temperature"],V);const W=h(t,["thinkingConfig"]);W!=null&&m(e,["thinkingConfig"],W);const P=h(t,["topK"]);P!=null&&m(e,["topK"],P);const F=h(t,["topP"]);if(F!=null&&m(e,["topP"],F),h(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function qC(t,e){const n={},r=h(e,["model"]);return r!=null&&m(n,["_url","name"],Be(t,r)),n}function BC(t,e){const n={},r=h(e,["model"]);return r!=null&&m(n,["_url","name"],Be(t,r)),n}function HC(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function VC(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function GC(t){const e={},n=h(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=h(t,["imageSize"]);if(r!=null&&m(e,["imageSize"],r),h(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function FC(t){const e={},n=h(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=h(t,["imageSize"]);r!=null&&m(e,["imageSize"],r);const o=h(t,["outputMimeType"]);o!=null&&m(e,["imageOutputOptions","mimeType"],o);const a=h(t,["outputCompressionQuality"]);return a!=null&&m(e,["imageOutputOptions","compressionQuality"],a),e}function $C(t){const e={},n=h(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],Oi(n));const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function v_(t){const e={},n=h(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=h(t,["bytesBase64Encoded"]);r!=null&&m(e,["imageBytes"],Oi(r));const o=h(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function jl(t){const e={};if(h(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=h(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],Oi(n));const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function An(t){const e={},n=h(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=h(t,["imageBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Oi(r));const o=h(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function jC(t,e,n){const r={},o=h(e,["pageSize"]);n!==void 0&&o!=null&&m(n,["_query","pageSize"],o);const a=h(e,["pageToken"]);n!==void 0&&a!=null&&m(n,["_query","pageToken"],a);const u=h(e,["filter"]);n!==void 0&&u!=null&&m(n,["_query","filter"],u);const d=h(e,["queryBase"]);return n!==void 0&&d!=null&&m(n,["_url","models_url"],c_(t,d)),r}function JC(t,e,n){const r={},o=h(e,["pageSize"]);n!==void 0&&o!=null&&m(n,["_query","pageSize"],o);const a=h(e,["pageToken"]);n!==void 0&&a!=null&&m(n,["_query","pageToken"],a);const u=h(e,["filter"]);n!==void 0&&u!=null&&m(n,["_query","filter"],u);const d=h(e,["queryBase"]);return n!==void 0&&d!=null&&m(n,["_url","models_url"],c_(t,d)),r}function YC(t,e){const n={},r=h(e,["config"]);return r!=null&&jC(t,r,n),n}function KC(t,e){const n={},r=h(e,["config"]);return r!=null&&JC(t,r,n),n}function XC(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const o=h(t,["_self"]);if(o!=null){let a=d_(o);Array.isArray(a)&&(a=a.map(u=>Jd(u))),m(e,["models"],a)}return e}function QC(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const o=h(t,["_self"]);if(o!=null){let a=d_(o);Array.isArray(a)&&(a=a.map(u=>Yd(u))),m(e,["models"],a)}return e}function WC(t){const e={},n=h(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const r=h(t,["segmentationClasses"]);r!=null&&m(e,["maskClasses"],r);const o=h(t,["maskDilation"]);return o!=null&&m(e,["dilation"],o),e}function Jd(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const r=h(t,["displayName"]);r!=null&&m(e,["displayName"],r);const o=h(t,["description"]);o!=null&&m(e,["description"],o);const a=h(t,["version"]);a!=null&&m(e,["version"],a);const u=h(t,["_self"]);u!=null&&m(e,["tunedModelInfo"],pA(u));const d=h(t,["inputTokenLimit"]);d!=null&&m(e,["inputTokenLimit"],d);const p=h(t,["outputTokenLimit"]);p!=null&&m(e,["outputTokenLimit"],p);const f=h(t,["supportedGenerationMethods"]);f!=null&&m(e,["supportedActions"],f);const g=h(t,["temperature"]);g!=null&&m(e,["temperature"],g);const _=h(t,["maxTemperature"]);_!=null&&m(e,["maxTemperature"],_);const x=h(t,["topP"]);x!=null&&m(e,["topP"],x);const w=h(t,["topK"]);w!=null&&m(e,["topK"],w);const T=h(t,["thinking"]);return T!=null&&m(e,["thinking"],T),e}function Yd(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const r=h(t,["displayName"]);r!=null&&m(e,["displayName"],r);const o=h(t,["description"]);o!=null&&m(e,["description"],o);const a=h(t,["versionId"]);a!=null&&m(e,["version"],a);const u=h(t,["deployedModels"]);if(u!=null){let _=u;Array.isArray(_)&&(_=_.map(x=>dC(x))),m(e,["endpoints"],_)}const d=h(t,["labels"]);d!=null&&m(e,["labels"],d);const p=h(t,["_self"]);p!=null&&m(e,["tunedModelInfo"],mA(p));const f=h(t,["defaultCheckpointId"]);f!=null&&m(e,["defaultCheckpointId"],f);const g=h(t,["checkpoints"]);if(g!=null){let _=g;Array.isArray(_)&&(_=_.map(x=>x)),m(e,["checkpoints"],_)}return e}function ZC(t){const e={},n=h(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=h(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const o=h(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const a=h(t,["fileData"]);a!=null&&m(e,["fileData"],fC(a));const u=h(t,["functionCall"]);u!=null&&m(e,["functionCall"],hC(u));const d=h(t,["functionResponse"]);d!=null&&m(e,["functionResponse"],d);const p=h(t,["inlineData"]);p!=null&&m(e,["inlineData"],L1(p));const f=h(t,["text"]);f!=null&&m(e,["text"],f);const g=h(t,["thought"]);g!=null&&m(e,["thought"],g);const _=h(t,["thoughtSignature"]);_!=null&&m(e,["thoughtSignature"],_);const x=h(t,["videoMetadata"]);return x!=null&&m(e,["videoMetadata"],x),e}function eA(t){const e={},n=h(t,["productImage"]);return n!=null&&m(e,["image"],An(n)),e}function tA(t,e){const n={},r=h(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const o=h(t,["baseSteps"]);e!==void 0&&o!=null&&m(e,["parameters","baseSteps"],o);const a=h(t,["outputGcsUri"]);e!==void 0&&a!=null&&m(e,["parameters","storageUri"],a);const u=h(t,["seed"]);e!==void 0&&u!=null&&m(e,["parameters","seed"],u);const d=h(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&m(e,["parameters","safetySetting"],d);const p=h(t,["personGeneration"]);e!==void 0&&p!=null&&m(e,["parameters","personGeneration"],p);const f=h(t,["addWatermark"]);e!==void 0&&f!=null&&m(e,["parameters","addWatermark"],f);const g=h(t,["outputMimeType"]);e!==void 0&&g!=null&&m(e,["parameters","outputOptions","mimeType"],g);const _=h(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&m(e,["parameters","outputOptions","compressionQuality"],_);const x=h(t,["enhancePrompt"]);e!==void 0&&x!=null&&m(e,["parameters","enhancePrompt"],x);const w=h(t,["labels"]);return e!==void 0&&w!=null&&m(e,["labels"],w),n}function nA(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],Be(t,r));const o=h(e,["source"]);o!=null&&rA(o,n);const a=h(e,["config"]);return a!=null&&tA(a,n),n}function iA(t){const e={},n=h(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>$l(o))),m(e,["generatedImages"],r)}return e}function rA(t,e){const n={},r=h(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const o=h(t,["personImage"]);e!==void 0&&o!=null&&m(e,["instances[0]","personImage","image"],An(o));const a=h(t,["productImages"]);if(e!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>eA(d))),m(e,["instances[0]","productImages"],u)}return n}function sA(t){const e={},n=h(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],An(n));const r=h(t,["referenceId"]);r!=null&&m(e,["referenceId"],r);const o=h(t,["referenceType"]);o!=null&&m(e,["referenceType"],o);const a=h(t,["maskImageConfig"]);a!=null&&m(e,["maskImageConfig"],WC(a));const u=h(t,["controlImageConfig"]);u!=null&&m(e,["controlImageConfig"],$1(u));const d=h(t,["styleImageConfig"]);d!=null&&m(e,["styleImageConfig"],d);const p=h(t,["subjectImageConfig"]);return p!=null&&m(e,["subjectImageConfig"],p),e}function __(t){const e={},n=h(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=h(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const o=h(t,["contentType"]);return o!=null&&m(e,["contentType"],o),e}function x_(t){const e={},n=h(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=h(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const o=h(t,["contentType"]);return o!=null&&m(e,["contentType"],o),e}function oA(t){const e={},n=h(t,["category"]);if(n!=null&&m(e,["category"],n),h(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=h(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function aA(t){const e={},n=h(t,["image"]);return n!=null&&m(e,["image"],An(n)),e}function lA(t,e){const n={},r=h(t,["mode"]);e!==void 0&&r!=null&&m(e,["parameters","mode"],r);const o=h(t,["maxPredictions"]);e!==void 0&&o!=null&&m(e,["parameters","maxPredictions"],o);const a=h(t,["confidenceThreshold"]);e!==void 0&&a!=null&&m(e,["parameters","confidenceThreshold"],a);const u=h(t,["maskDilation"]);e!==void 0&&u!=null&&m(e,["parameters","maskDilation"],u);const d=h(t,["binaryColorThreshold"]);e!==void 0&&d!=null&&m(e,["parameters","binaryColorThreshold"],d);const p=h(t,["labels"]);return e!==void 0&&p!=null&&m(e,["labels"],p),n}function uA(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],Be(t,r));const o=h(e,["source"]);o!=null&&dA(o,n);const a=h(e,["config"]);return a!=null&&lA(a,n),n}function cA(t){const e={},n=h(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>PC(o))),m(e,["generatedMasks"],r)}return e}function dA(t,e){const n={},r=h(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const o=h(t,["image"]);e!==void 0&&o!=null&&m(e,["instances[0]","image"],An(o));const a=h(t,["scribbleImage"]);return e!==void 0&&a!=null&&m(e,["instances[0]","scribble"],aA(a)),n}function b_(t){const e={},n=h(t,["languageCode"]);n!=null&&m(e,["languageCode"],n);const r=h(t,["voiceConfig"]);if(r!=null&&m(e,["voiceConfig"],r),h(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function fA(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],pC(n));const r=h(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],r),e}function hA(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(_=>_)),m(e,["functionDeclarations"],g)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=h(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const o=h(t,["computerUse"]);o!=null&&m(e,["computerUse"],o);const a=h(t,["fileSearch"]);a!=null&&m(e,["fileSearch"],a);const u=h(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=h(t,["googleMaps"]);d!=null&&m(e,["googleMaps"],HC(d));const p=h(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],VC(p));const f=h(t,["urlContext"]);return f!=null&&m(e,["urlContext"],f),e}function w_(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(x=>mC(x))),m(e,["functionDeclarations"],_)}const r=h(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const o=h(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const a=h(t,["computerUse"]);if(a!=null&&m(e,["computerUse"],a),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=h(t,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const d=h(t,["enterpriseWebSearch"]);d!=null&&m(e,["enterpriseWebSearch"],d);const p=h(t,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const f=h(t,["googleSearch"]);f!=null&&m(e,["googleSearch"],f);const g=h(t,["urlContext"]);return g!=null&&m(e,["urlContext"],g),e}function pA(t){const e={},n=h(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=h(t,["createTime"]);r!=null&&m(e,["createTime"],r);const o=h(t,["updateTime"]);return o!=null&&m(e,["updateTime"],o),e}function mA(t){const e={},n=h(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const r=h(t,["createTime"]);r!=null&&m(e,["createTime"],r);const o=h(t,["updateTime"]);return o!=null&&m(e,["updateTime"],o),e}function gA(t,e){const n={},r=h(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const o=h(t,["description"]);e!==void 0&&o!=null&&m(e,["description"],o);const a=h(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&m(e,["defaultCheckpointId"],a),n}function yA(t,e){const n={},r=h(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const o=h(t,["description"]);e!==void 0&&o!=null&&m(e,["description"],o);const a=h(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&m(e,["defaultCheckpointId"],a),n}function vA(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","name"],Be(t,r));const o=h(e,["config"]);return o!=null&&gA(o,n),n}function _A(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],Be(t,r));const o=h(e,["config"]);return o!=null&&yA(o,n),n}function xA(t,e){const n={},r=h(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const o=h(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&m(e,["parameters","safetySetting"],o);const a=h(t,["personGeneration"]);e!==void 0&&a!=null&&m(e,["parameters","personGeneration"],a);const u=h(t,["includeRaiReason"]);e!==void 0&&u!=null&&m(e,["parameters","includeRaiReason"],u);const d=h(t,["outputMimeType"]);e!==void 0&&d!=null&&m(e,["parameters","outputOptions","mimeType"],d);const p=h(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&m(e,["parameters","outputOptions","compressionQuality"],p);const f=h(t,["enhanceInputImage"]);e!==void 0&&f!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],f);const g=h(t,["imagePreservationFactor"]);e!==void 0&&g!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],g);const _=h(t,["labels"]);e!==void 0&&_!=null&&m(e,["labels"],_);const x=h(t,["numberOfImages"]);e!==void 0&&x!=null&&m(e,["parameters","sampleCount"],x);const w=h(t,["mode"]);return e!==void 0&&w!=null&&m(e,["parameters","mode"],w),n}function bA(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["_url","model"],Be(t,r));const o=h(e,["image"]);o!=null&&m(n,["instances[0]","image"],An(o));const a=h(e,["upscaleFactor"]);a!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],a);const u=h(e,["config"]);return u!=null&&xA(u,n),n}function wA(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>$l(a))),m(e,["generatedImages"],o)}return e}function SA(t){const e={},n=h(t,["uri"]);n!=null&&m(e,["uri"],n);const r=h(t,["encodedVideo"]);r!=null&&m(e,["videoBytes"],Oi(r));const o=h(t,["encoding"]);return o!=null&&m(e,["mimeType"],o),e}function EA(t){const e={},n=h(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=h(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],Oi(r));const o=h(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function TA(t){const e={},n=h(t,["image"]);n!=null&&m(e,["_self"],An(n));const r=h(t,["maskMode"]);return r!=null&&m(e,["maskMode"],r),e}function CA(t){const e={},n=h(t,["image"]);n!=null&&m(e,["image"],jl(n));const r=h(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function AA(t){const e={},n=h(t,["image"]);n!=null&&m(e,["image"],An(n));const r=h(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function S_(t){const e={},n=h(t,["uri"]);n!=null&&m(e,["uri"],n);const r=h(t,["videoBytes"]);r!=null&&m(e,["encodedVideo"],Oi(r));const o=h(t,["mimeType"]);return o!=null&&m(e,["encoding"],o),e}function E_(t){const e={},n=h(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const r=h(t,["videoBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Oi(r));const o=h(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kA="Content-Type",NA="X-Server-Timeout",RA="User-Agent",Kd="x-goog-api-client",IA="1.30.0",zA=`google-genai-sdk/${IA}`,MA="v1beta1",DA="v1beta",Ay=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class PA{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:MA,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:DA,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const o=[this.getRequestUrlInternal(n)];return r&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[u,d]of Object.entries(e.queryParams))o.searchParams.append(u,String(d));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,o.toString(),e.abortSignal),this.unaryApiCall(o,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[o,a]of Object.entries(n))typeof a=="object"?r[o]=Object.assign(Object.assign({},r[o]),a):a!==void 0&&(r[o]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,r);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,o.toString(),e.abortSignal),this.streamApiCall(o,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,o){if(n&&n.timeout||o){const a=new AbortController,u=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const d=setTimeout(()=>a.abort(),n.timeout);d&&typeof d.unref=="function"&&d.unref()}o&&o.addEventListener("abort",()=>{a.abort()}),e.signal=u}return n&&n.extraBody!==null&&UA(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await ky(o),new Fd(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await ky(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var n;return hs(this,arguments,function*(){const o=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let u="";for(;;){const{done:d,value:p}=yield nt(o.read());if(d){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=a.decode(p,{stream:!0});try{const _=JSON.parse(f);if("error"in _){const x=JSON.parse(JSON.stringify(_.error)),w=x.status,T=x.code,C=`got status: ${w}. ${JSON.stringify(_)}`;if(T>=400&&T<600)throw new Gl({message:C,status:T})}}catch(_){if(_.name==="ApiError")throw _}u+=f;let g=u.match(Ay);for(;g;){const _=g[1];try{const x=new Response(_,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield nt(new Fd(x)),u=u.slice(g[0].length),g=u.match(Ay)}catch(x){throw new Error(`exception parsing stream chunk ${_}. ${x}`)}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=zA+" "+this.clientOptions.userAgentExtra;return e[RA]=n,e[Kd]=n,e[kA]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[o,a]of Object.entries(e.headers))r.append(o,a);e.timeout&&e.timeout>0&&r.append(NA,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const a=this.clientOptions.uploader,u=await a.stat(e);o.sizeBytes=String(u.size);const d=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:u.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=d;const p={file:o},f=this.getFileName(e),g=le("upload/v1beta/files",p._url),_=await this.fetchUploadUrl(g,o.sizeBytes,o.mimeType,f,p,n==null?void 0:n.httpOptions);return a.upload(e,_,this)}async uploadFileToFileSearchStore(e,n,r){var o;const a=this.clientOptions.uploader,u=await a.stat(n),d=String(u.size),p=(o=r==null?void 0:r.mimeType)!==null&&o!==void 0?o:u.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,g=this.getFileName(n),_={};r!=null&&r.customMetadata&&(_.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(_.chunkingConfig=r.chunkingConfig);const x=await this.fetchUploadUrl(f,d,p,g,_,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,x,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,o,a,u){var d;let p={};u?p=u:p={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},o?{"X-Goog-Upload-File-Name":o}:{})};const f=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:p});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(d=f==null?void 0:f.headers)===null||d===void 0?void 0:d["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function ky(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(r);throw n>=400&&n<600?new Gl({message:o,status:n}):new Error(o)}}function UA(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,u){const d=Object.assign({},a);for(const p in u)if(Object.prototype.hasOwnProperty.call(u,p)){const f=u[p],g=d[p];f&&typeof f=="object"&&!Array.isArray(f)&&g&&typeof g=="object"&&!Array.isArray(g)?d[p]=r(g,f):(g&&f&&typeof g!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof g}, New type: ${typeof f}. Overwriting.`),d[p]=f)}return d}const o=r(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OA="mcp_used/unknown";let LA=!1;function T_(t){for(const e of t)if(qA(e)||typeof e=="object"&&"inputSchema"in e)return!0;return LA}function C_(t){var e;const n=(e=t[Kd])!==null&&e!==void 0?e:"";t[Kd]=(n+` ${OA}`).trimStart()}function qA(t){return t!==null&&typeof t=="object"&&t instanceof Nf}function BA(t,e=100){return hs(this,arguments,function*(){let r,o=0;for(;o<e;){const a=yield nt(t.listTools({cursor:r}));for(const u of a.tools)yield yield nt(u),o++;if(!a.nextCursor)break;r=a.nextCursor}})}class Nf{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Nf(e,n)}async initialize(){var e,n,r,o;if(this.mcpTools.length>0)return;const a={},u=[];for(const g of this.mcpClients)try{for(var d=!0,p=(n=void 0,Ro(BA(g))),f;f=await p.next(),e=f.done,!e;d=!0){o=f.value,d=!1;const _=o;u.push(_);const x=_.name;if(a[x])throw new Error(`Duplicate function name ${x} found in MCP tools. Please ensure function names are unique.`);a[x]=g}}catch(_){n={error:_}}finally{try{!d&&!e&&(r=p.return)&&await r.call(p)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),zE(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const u=await o.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:u.isError?{error:u}:u}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function HA(t,e,n){const r=new EE;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(r,o),e(r)}class VA{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),u=$A(this.apiClient.getDefaultHeaders()),d=this.apiClient.getApiKey(),p=`${o}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${d}`;let f=()=>{};const g=new Promise(R=>{f=R}),_=e.callbacks,x=function(){f({})},w=this.apiClient,T={onopen:x,onmessage:R=>{HA(w,_.onmessage,R)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(R){},onclose:(r=_==null?void 0:_.onclose)!==null&&r!==void 0?r:function(R){}},C=this.webSocketFactory.create(p,FA(u),T);C.connect(),await g;const U={setup:{model:Be(this.apiClient,e.model)}};return C.send(JSON.stringify(U)),new GA(C,this.apiClient)}}class GA{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=N1(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=k1(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ds.PLAY)}pause(){this.sendPlaybackControl(ds.PAUSE)}stop(){this.sendPlaybackControl(ds.STOP)}resetContext(){this.sendPlaybackControl(ds.RESET_CONTEXT)}close(){this.conn.close()}}function FA(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function $A(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jA="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function JA(t,e,n){const r=new SE;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const a=JSON.parse(o);if(t.isVertexAI()){const u=z1(a);Object.assign(r,u)}else Object.assign(r,a);e(r)}class YA{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new VA(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,o,a,u,d;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let g;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&T_(e.config.tools)&&C_(_);const x=WA(_);if(this.apiClient.isVertexAI())g=`${p}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(x,g);else{const te=this.apiClient.getApiKey();let ue="BidiGenerateContent",se="key";te!=null&&te.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ue="BidiGenerateContentConstrained",se="access_token"),g=`${p}/ws/google.ai.generativelanguage.${f}.GenerativeService.${ue}?${se}=${te}`}let w=()=>{};const T=new Promise(te=>{w=te}),C=e.callbacks,k=function(){var te;(te=C==null?void 0:C.onopen)===null||te===void 0||te.call(C),w({})},N=this.apiClient,U={onopen:k,onmessage:te=>{JA(N,C.onmessage,te)},onerror:(n=C==null?void 0:C.onerror)!==null&&n!==void 0?n:function(te){},onclose:(r=C==null?void 0:C.onclose)!==null&&r!==void 0?r:function(te){}},R=this.webSocketFactory.create(g,QA(x),U);R.connect(),await T;let V=Be(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&V.startsWith("publishers/")){const te=this.apiClient.getProject(),ue=this.apiClient.getLocation();V=`projects/${te}/locations/${ue}/`+V}let W={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Nl.AUDIO]}:e.config.responseModalities=[Nl.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const P=(d=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&d!==void 0?d:[],F=[];for(const te of P)if(this.isCallableTool(te)){const ue=te;F.push(await ue.tool())}else F.push(te);F.length>0&&(e.config.tools=F);const ie={model:V,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?W=A1(this.apiClient,ie):W=C1(this.apiClient,ie),delete W.config,R.send(JSON.stringify(W)),new XA(R,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const KA={turnComplete:!0};class XA{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=_n(n.turns),e.isVertexAI()||(r=r.map(o=>Fl(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(jA)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},KA),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:I1(e)}:n={realtimeInput:R1(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function QA(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function WA(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ny=10;function Ry(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const u of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(ps(u)){o=!0;break}if(!o)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function ps(t){return"callTool"in t&&typeof t.callTool=="function"}function ZA(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>ps(o)))!==null&&r!==void 0?r:!1}function Iy(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,o)=>{if(ps(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(o)}),n}function zy(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ek extends ii{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,o,a,u,d;const p=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!ZA(n)||Ry(n.config))return await this.generateContentInternal(p);const f=Iy(n);if(f.length>0){const C=f.map(k=>`tools[${k}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${C}.`)}let g,_;const x=_n(p.contents),w=(a=(o=(r=p.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&a!==void 0?a:Ny;let T=0;for(;T<w&&(g=await this.generateContentInternal(p),!(!g.functionCalls||g.functionCalls.length===0));){const C=g.candidates[0].content,k=[];for(const N of(d=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&d!==void 0?d:[])if(ps(N)){const R=await N.callTool(g.functionCalls);k.push(...R)}T++,_={role:"user",parts:k},p.contents=_n(p.contents),p.contents.push(C),p.contents.push(_),zy(p.config)&&(x.push(C),x.push(_))}return zy(p.config)&&(g.automaticFunctionCallingHistory=x),g},this.generateContentStream=async n=>{var r,o,a,u,d;if(this.maybeMoveToResponseJsonSchem(n),Ry(n.config)){const _=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(_)}const p=Iy(n);if(p.length>0){const _=p.map(x=>`tools[${x}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(a=(o=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,g=(d=(u=n==null?void 0:n.config)===null||u===void 0?void 0:u.automaticFunctionCalling)===null||d===void 0?void 0:d.disable;if(f&&!g)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var o;let a;const u=[];if(r!=null&&r.generatedImages)for(const p of r.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((o=p==null?void 0:p.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?a=p==null?void 0:p.safetyAttributes:u.push(p);let d;return a?d={generatedImages:u,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:d={generatedImages:u,sdkHttpResponse:r.sdkHttpResponse},d}),this.list=async n=>{var r;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((r=u.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new dr(ni.PAGED_ITEM_MODELS,d=>this.listInternal(d),await this.listInternal(u),u)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var r,o,a,u,d,p;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((u=(a=n.source)===null||a===void 0?void 0:a.video)===null||u===void 0)&&u.uri&&(!((p=(d=n.source)===null||d===void 0?void 0:d.video)===null||p===void 0)&&p.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,o;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const u=await Promise.all(a.map(async p=>ps(p)?await p.tool():p)),d={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(d.config.tools=u,e.config&&e.config.tools&&T_(e.config.tools)){const p=(o=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&o!==void 0?o:{};let f=Object.assign({},p);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),C_(f),d.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return d}async initAfcToolsMap(e){var n,r,o;const a=new Map;for(const u of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(ps(u)){const d=u,p=await d.tool();for(const f of(o=p.functionDeclarations)!==null&&o!==void 0?o:[]){if(!f.name)throw new Error("Function declaration name is required.");if(a.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);a.set(f.name,d)}}return a}async processAfcStream(e){var n,r,o;const a=(o=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&o!==void 0?o:Ny;let u=!1,d=0;const p=await this.initAfcToolsMap(e);return(function(f,g,_){var x,w;return hs(this,arguments,function*(){for(var T,C,k,N;d<a;){u&&(d++,u=!1);const W=yield nt(f.processParamsMaybeAddMcpUsage(_)),P=yield nt(f.generateContentStreamInternal(W)),F=[],ie=[];try{for(var U=!0,R=(C=void 0,Ro(P)),V;V=yield nt(R.next()),T=V.done,!T;U=!0){N=V.value,U=!1;const te=N;if(yield yield nt(te),te.candidates&&(!((x=te.candidates[0])===null||x===void 0)&&x.content)){ie.push(te.candidates[0].content);for(const ue of(w=te.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(d<a&&ue.functionCall){if(!ue.functionCall.name)throw new Error("Function call name was not returned by the model.");if(g.has(ue.functionCall.name)){const se=yield nt(g.get(ue.functionCall.name).callTool([ue.functionCall]));F.push(...se)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${g.keys()}, mising tool: ${ue.functionCall.name}`)}}}}catch(te){C={error:te}}finally{try{!U&&!T&&(k=R.return)&&(yield nt(k.call(R)))}finally{if(C)throw C.error}}if(F.length>0){u=!0;const te=new Eo;te.candidates=[{content:{role:"user",parts:F}}],yield yield nt(te);const ue=[];ue.push(...ie),ue.push({role:"user",parts:F});const se=_n(_.contents).concat(ue);_.contents=se}else break}})})(this,p,e)}async generateContentInternal(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=Ey(this.apiClient,e);return d=le("{model}:generateContent",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const _=Cy(g),x=new Eo;return Object.assign(x,_),x})}else{const f=Sy(this.apiClient,e);return d=le("{model}:generateContent",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const _=Ty(g),x=new Eo;return Object.assign(x,_),x})}}async generateContentStreamInternal(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=Ey(this.apiClient,e);return d=le("{model}:streamGenerateContent?alt=sse",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.requestStream({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),u.then(function(_){return hs(this,arguments,function*(){var x,w,T,C;try{for(var k=!0,N=Ro(_),U;U=yield nt(N.next()),x=U.done,!x;k=!0){C=U.value,k=!1;const R=C,V=Cy(yield nt(R.json()));V.sdkHttpResponse={headers:R.headers};const W=new Eo;Object.assign(W,V),yield yield nt(W)}}catch(R){w={error:R}}finally{try{!k&&!x&&(T=N.return)&&(yield nt(T.call(N)))}finally{if(w)throw w.error}}})})}else{const f=Sy(this.apiClient,e);return d=le("{model}:streamGenerateContent?alt=sse",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.requestStream({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),u.then(function(_){return hs(this,arguments,function*(){var x,w,T,C;try{for(var k=!0,N=Ro(_),U;U=yield nt(N.next()),x=U.done,!x;k=!0){C=U.value,k=!1;const R=C,V=Ty(yield nt(R.json()));V.sdkHttpResponse={headers:R.headers};const W=new Eo;Object.assign(W,V),yield yield nt(W)}}catch(R){w={error:R}}finally{try{!k&&!x&&(T=N.return)&&(yield nt(T.call(N)))}finally{if(w)throw w.error}}})})}}async embedContent(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=lC(this.apiClient,e);return d=le("{model}:predict",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const _=cC(g),x=new ay;return Object.assign(x,_),x})}else{const f=aC(this.apiClient,e);return d=le("{model}:batchEmbedContents",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const _=uC(g),x=new ay;return Object.assign(x,_),x})}}async generateImagesInternal(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=bC(this.apiClient,e);return d=le("{model}:predict",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const _=SC(g),x=new ly;return Object.assign(x,_),x})}else{const f=xC(this.apiClient,e);return d=le("{model}:predict",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const _=wC(g),x=new ly;return Object.assign(x,_),x})}}async editImageInternal(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI()){const d=iC(this.apiClient,e);return a=le("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const f=rC(p),g=new fE;return Object.assign(g,f),g})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI()){const d=bA(this.apiClient,e);return a=le("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const f=wA(p),g=new hE;return Object.assign(g,f),g})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI()){const d=nA(this.apiClient,e);return a=le("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>{const f=iA(p),g=new pE;return Object.assign(g,f),g})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI()){const d=uA(this.apiClient,e);return a=le("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>{const f=cA(p),g=new mE;return Object.assign(g,f),g})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=BC(this.apiClient,e);return d=le("{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>Yd(g))}else{const f=qC(this.apiClient,e);return d=le("{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u.then(g=>Jd(g))}}async listInternal(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=KC(this.apiClient,e);return d=le("{models_url}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const _=QC(g),x=new uy;return Object.assign(x,_),x})}else{const f=YC(this.apiClient,e);return d=le("{models_url}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const _=XC(g),x=new uy;return Object.assign(x,_),x})}}async update(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=_A(this.apiClient,e);return d=le("{model}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>Yd(g))}else{const f=vA(this.apiClient,e);return d=le("{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u.then(g=>Jd(g))}}async delete(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=Z1(this.apiClient,e);return d=le("{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const _=tC(g),x=new cy;return Object.assign(x,_),x})}else{const f=W1(this.apiClient,e);return d=le("{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const _=eC(g),x=new cy;return Object.assign(x,_),x})}}async countTokens(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=K1(this.apiClient,e);return d=le("{model}:countTokens",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const _=Q1(g),x=new dy;return Object.assign(x,_),x})}else{const f=Y1(this.apiClient,e);return d=le("{model}:countTokens",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const _=X1(g),x=new dy;return Object.assign(x,_),x})}}async computeTokens(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI()){const d=H1(this.apiClient,e);return a=le("{model}:computeTokens",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const f=V1(p),g=new gE;return Object.assign(g,f),g})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=NC(this.apiClient,e);return d=le("{model}:predictLongRunning",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>{const _=AC(g),x=new Rl;return Object.assign(x,_),x})}else{const f=kC(this.apiClient,e);return d=le("{model}:predictLongRunning",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u.then(g=>{const _=CC(g),x=new Rl;return Object.assign(x,_),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tk extends ii{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=oE(e);return d=le("{operationName}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u}else{const f=sE(e);return d=le("{operationName}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u}}async fetchPredictVideosOperationInternal(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI()){const d=WS(e);return a=le("{resourceName}:fetchPredictOperation",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nk(t){const e={},n=h(t,["data"]);if(n!=null&&m(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function ik(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>fk(a))),m(e,["parts"],o)}const r=h(t,["role"]);return r!=null&&m(e,["role"],r),e}function rk(t,e,n){const r={},o=h(e,["expireTime"]);n!==void 0&&o!=null&&m(n,["expireTime"],o);const a=h(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&m(n,["newSessionExpireTime"],a);const u=h(e,["uses"]);n!==void 0&&u!=null&&m(n,["uses"],u);const d=h(e,["liveConnectConstraints"]);n!==void 0&&d!=null&&m(n,["bidiGenerateContentSetup"],dk(t,d));const p=h(e,["lockAdditionalFields"]);return n!==void 0&&p!=null&&m(n,["fieldMask"],p),r}function sk(t,e){const n={},r=h(e,["config"]);return r!=null&&m(n,["config"],rk(t,r,n)),n}function ok(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function ak(t){const e={},n=h(t,["id"]);n!=null&&m(e,["id"],n);const r=h(t,["args"]);r!=null&&m(e,["args"],r);const o=h(t,["name"]);if(o!=null&&m(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function lk(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function uk(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function ck(t,e){const n={},r=h(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const o=h(t,["responseModalities"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","responseModalities"],o);const a=h(t,["temperature"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","temperature"],a);const u=h(t,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const d=h(t,["topK"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","topK"],d);const p=h(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const f=h(t,["mediaResolution"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","mediaResolution"],f);const g=h(t,["seed"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","seed"],g);const _=h(t,["speechConfig"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","speechConfig"],kf(_));const x=h(t,["thinkingConfig"]);e!==void 0&&x!=null&&m(e,["setup","generationConfig","thinkingConfig"],x);const w=h(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],w);const T=h(t,["systemInstruction"]);e!==void 0&&T!=null&&m(e,["setup","systemInstruction"],ik(Rt(T)));const C=h(t,["tools"]);if(e!==void 0&&C!=null){let P=ws(C);Array.isArray(P)&&(P=P.map(F=>pk(bs(F)))),m(e,["setup","tools"],P)}const k=h(t,["sessionResumption"]);e!==void 0&&k!=null&&m(e,["setup","sessionResumption"],hk(k));const N=h(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&m(e,["setup","inputAudioTranscription"],N);const U=h(t,["outputAudioTranscription"]);e!==void 0&&U!=null&&m(e,["setup","outputAudioTranscription"],U);const R=h(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&m(e,["setup","realtimeInputConfig"],R);const V=h(t,["contextWindowCompression"]);e!==void 0&&V!=null&&m(e,["setup","contextWindowCompression"],V);const W=h(t,["proactivity"]);return e!==void 0&&W!=null&&m(e,["setup","proactivity"],W),n}function dk(t,e){const n={},r=h(e,["model"]);r!=null&&m(n,["setup","model"],Be(t,r));const o=h(e,["config"]);return o!=null&&m(n,["config"],ck(o,n)),n}function fk(t){const e={},n=h(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=h(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const o=h(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const a=h(t,["fileData"]);a!=null&&m(e,["fileData"],ok(a));const u=h(t,["functionCall"]);u!=null&&m(e,["functionCall"],ak(u));const d=h(t,["functionResponse"]);d!=null&&m(e,["functionResponse"],d);const p=h(t,["inlineData"]);p!=null&&m(e,["inlineData"],nk(p));const f=h(t,["text"]);f!=null&&m(e,["text"],f);const g=h(t,["thought"]);g!=null&&m(e,["thought"],g);const _=h(t,["thoughtSignature"]);_!=null&&m(e,["thoughtSignature"],_);const x=h(t,["videoMetadata"]);return x!=null&&m(e,["videoMetadata"],x),e}function hk(t){const e={},n=h(t,["handle"]);if(n!=null&&m(e,["handle"],n),h(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function pk(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(_=>_)),m(e,["functionDeclarations"],g)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=h(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const o=h(t,["computerUse"]);o!=null&&m(e,["computerUse"],o);const a=h(t,["fileSearch"]);a!=null&&m(e,["fileSearch"],a);const u=h(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=h(t,["googleMaps"]);d!=null&&m(e,["googleMaps"],lk(d));const p=h(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],uk(p));const f=h(t,["urlContext"]);return f!=null&&m(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mk(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const o=Object.keys(r).map(a=>`${n}.${a}`);e.push(...o)}else e.push(n)}return e.join(",")}function gk(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const a=mk(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let d=[];o.length>0&&(d=o.map(f=>u.includes(f)?`generationConfig.${f}`:f));const p=[];a&&p.push(a),d.length>0&&p.push(...d),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class yk extends ii{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const d=sk(this.apiClient,e);a=le("auth_tokens",d._url),u=d._query,delete d.config,delete d._url,delete d._query;const p=gk(d,e.config);return o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vk(t,e){const n={},r=h(t,["displayName"]);return e!==void 0&&r!=null&&m(e,["displayName"],r),n}function _k(t){const e={},n=h(t,["config"]);return n!=null&&vk(n,e),e}function xk(t,e){const n={},r=h(t,["force"]);return e!==void 0&&r!=null&&m(e,["_query","force"],r),n}function bk(t){const e={},n=h(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=h(t,["config"]);return r!=null&&xk(r,e),e}function wk(t){const e={},n=h(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function Sk(t,e){const n={},r=h(t,["customMetadata"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["customMetadata"],a)}const o=h(t,["chunkingConfig"]);return e!==void 0&&o!=null&&m(e,["chunkingConfig"],o),n}function Ek(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const r=h(t,["metadata"]);r!=null&&m(e,["metadata"],r);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const a=h(t,["error"]);a!=null&&m(e,["error"],a);const u=h(t,["response"]);return u!=null&&m(e,["response"],Ck(u)),e}function Tk(t){const e={},n=h(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const r=h(t,["fileName"]);r!=null&&m(e,["fileName"],r);const o=h(t,["config"]);return o!=null&&Sk(o,e),e}function Ck(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["parent"]);r!=null&&m(e,["parent"],r);const o=h(t,["documentName"]);return o!=null&&m(e,["documentName"],o),e}function Ak(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function kk(t){const e={},n=h(t,["config"]);return n!=null&&Ak(n,e),e}function Nk(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const o=h(t,["fileSearchStores"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["fileSearchStores"],a)}return e}function Rk(t,e){const n={},r=h(t,["mimeType"]);e!==void 0&&r!=null&&m(e,["mimeType"],r);const o=h(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const a=h(t,["customMetadata"]);if(e!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),m(e,["customMetadata"],d)}const u=h(t,["chunkingConfig"]);return e!==void 0&&u!=null&&m(e,["chunkingConfig"],u),n}function Ik(t){const e={},n=h(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const r=h(t,["config"]);return r!=null&&Rk(r,e),e}function zk(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mk(t,e){const n={},r=h(t,["force"]);return e!==void 0&&r!=null&&m(e,["_query","force"],r),n}function Dk(t){const e={},n=h(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=h(t,["config"]);return r!=null&&Mk(r,e),e}function Pk(t){const e={},n=h(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function Uk(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function Ok(t){const e={},n=h(t,["parent"]);n!=null&&m(e,["_url","parent"],n);const r=h(t,["config"]);return r!=null&&Uk(r,e),e}function Lk(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const o=h(t,["documents"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),m(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qk extends ii{constructor(e){super(),this.apiClient=e,this.list=async n=>new dr(ni.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Pk(e);return a=le("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(e){var n,r;let o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Dk(e);o=le("{name}",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Ok(e);return a=le("{parent}/documents",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>{const f=Lk(p),g=new yE;return Object.assign(g,f),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bk extends ii{constructor(e,n=new qk(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new dr(ni.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=_k(e);return a=le("fileSearchStores",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async get(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=wk(e);return a=le("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(e){var n,r;let o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=bk(e);o=le("{name}",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=kk(e);return a=le("fileSearchStores",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>{const f=Nk(p),g=new vE;return Object.assign(g,f),g})}}async uploadToFileSearchStoreInternal(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Ik(e);return a=le("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>{const f=zk(p),g=new _E;return Object.assign(g,f),g})}}async importFile(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Tk(e);return a=le("{file_search_store_name}:importFile",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>{const f=Ek(p),g=new Sf;return Object.assign(g,f),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hk(t,e){const n={},r=h(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function Vk(t,e){const n={},r=h(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function Gk(t,e,n){const r={};if(h(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=h(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&m(e,["displayName"],o),h(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=h(t,["epochCount"]);e!==void 0&&a!=null&&m(e,["tuningTask","hyperparameters","epochCount"],a);const u=h(t,["learningRateMultiplier"]);if(u!=null&&m(r,["tuningTask","hyperparameters","learningRateMultiplier"],u),h(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(h(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(h(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const d=h(t,["batchSize"]);e!==void 0&&d!=null&&m(e,["tuningTask","hyperparameters","batchSize"],d);const p=h(t,["learningRate"]);if(e!==void 0&&p!=null&&m(e,["tuningTask","hyperparameters","learningRate"],p),h(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(h(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Fk(t,e,n){const r={};let o=h(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const w=h(t,["validationDataset"]);e!==void 0&&w!=null&&m(e,["supervisedTuningSpec"],My(w))}else if(o==="PREFERENCE_TUNING"){const w=h(t,["validationDataset"]);e!==void 0&&w!=null&&m(e,["preferenceOptimizationSpec"],My(w))}const a=h(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&m(e,["tunedModelDisplayName"],a);const u=h(t,["description"]);e!==void 0&&u!=null&&m(e,["description"],u);let d=h(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const w=h(t,["epochCount"]);e!==void 0&&w!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],w)}else if(d==="PREFERENCE_TUNING"){const w=h(t,["epochCount"]);e!==void 0&&w!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],w)}let p=h(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const w=h(t,["learningRateMultiplier"]);e!==void 0&&w!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],w)}else if(p==="PREFERENCE_TUNING"){const w=h(t,["learningRateMultiplier"]);e!==void 0&&w!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],w)}let f=h(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const w=h(t,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],w)}else if(f==="PREFERENCE_TUNING"){const w=h(t,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&m(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],w)}let g=h(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const w=h(t,["adapterSize"]);e!==void 0&&w!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],w)}else if(g==="PREFERENCE_TUNING"){const w=h(t,["adapterSize"]);e!==void 0&&w!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],w)}if(h(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(h(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const _=h(t,["labels"]);e!==void 0&&_!=null&&m(e,["labels"],_);const x=h(t,["beta"]);return e!==void 0&&x!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","beta"],x),r}function $k(t,e){const n={},r=h(t,["baseModel"]);r!=null&&m(n,["baseModel"],r);const o=h(t,["preTunedModel"]);o!=null&&m(n,["preTunedModel"],o);const a=h(t,["trainingDataset"]);a!=null&&nN(a);const u=h(t,["config"]);return u!=null&&Gk(u,n),n}function jk(t,e){const n={},r=h(t,["baseModel"]);r!=null&&m(n,["baseModel"],r);const o=h(t,["preTunedModel"]);o!=null&&m(n,["preTunedModel"],o);const a=h(t,["trainingDataset"]);a!=null&&iN(a,n,e);const u=h(t,["config"]);return u!=null&&Fk(u,n,e),n}function Jk(t,e){const n={},r=h(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function Yk(t,e){const n={},r=h(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function Kk(t,e,n){const r={},o=h(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const a=h(t,["pageToken"]);e!==void 0&&a!=null&&m(e,["_query","pageToken"],a);const u=h(t,["filter"]);return e!==void 0&&u!=null&&m(e,["_query","filter"],u),r}function Xk(t,e,n){const r={},o=h(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const a=h(t,["pageToken"]);e!==void 0&&a!=null&&m(e,["_query","pageToken"],a);const u=h(t,["filter"]);return e!==void 0&&u!=null&&m(e,["_query","filter"],u),r}function Qk(t,e){const n={},r=h(t,["config"]);return r!=null&&Kk(r,n),n}function Wk(t,e){const n={},r=h(t,["config"]);return r!=null&&Xk(r,n),n}function Zk(t,e){const n={},r=h(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const o=h(t,["nextPageToken"]);o!=null&&m(n,["nextPageToken"],o);const a=h(t,["tunedModels"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>A_(d))),m(n,["tuningJobs"],u)}return n}function eN(t,e){const n={},r=h(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const o=h(t,["nextPageToken"]);o!=null&&m(n,["nextPageToken"],o);const a=h(t,["tuningJobs"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>Xd(d))),m(n,["tuningJobs"],u)}return n}function tN(t,e){const n={},r=h(t,["name"]);r!=null&&m(n,["model"],r);const o=h(t,["name"]);return o!=null&&m(n,["endpoint"],o),n}function nN(t,e){const n={};if(h(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=h(t,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),m(n,["examples","examples"],o)}return n}function iN(t,e,n){const r={};let o=h(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const u=h(t,["gcsUri"]);e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(o==="PREFERENCE_TUNING"){const u=h(t,["gcsUri"]);e!==void 0&&u!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}let a=h(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const u=h(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(a==="PREFERENCE_TUNING"){const u=h(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}if(h(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function A_(t,e){const n={},r=h(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const o=h(t,["name"]);o!=null&&m(n,["name"],o);const a=h(t,["state"]);a!=null&&m(n,["state"],l_(a));const u=h(t,["createTime"]);u!=null&&m(n,["createTime"],u);const d=h(t,["tuningTask","startTime"]);d!=null&&m(n,["startTime"],d);const p=h(t,["tuningTask","completeTime"]);p!=null&&m(n,["endTime"],p);const f=h(t,["updateTime"]);f!=null&&m(n,["updateTime"],f);const g=h(t,["description"]);g!=null&&m(n,["description"],g);const _=h(t,["baseModel"]);_!=null&&m(n,["baseModel"],_);const x=h(t,["_self"]);return x!=null&&m(n,["tunedModel"],tN(x)),n}function Xd(t,e){const n={},r=h(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const o=h(t,["name"]);o!=null&&m(n,["name"],o);const a=h(t,["state"]);a!=null&&m(n,["state"],l_(a));const u=h(t,["createTime"]);u!=null&&m(n,["createTime"],u);const d=h(t,["startTime"]);d!=null&&m(n,["startTime"],d);const p=h(t,["endTime"]);p!=null&&m(n,["endTime"],p);const f=h(t,["updateTime"]);f!=null&&m(n,["updateTime"],f);const g=h(t,["error"]);g!=null&&m(n,["error"],g);const _=h(t,["description"]);_!=null&&m(n,["description"],_);const x=h(t,["baseModel"]);x!=null&&m(n,["baseModel"],x);const w=h(t,["tunedModel"]);w!=null&&m(n,["tunedModel"],w);const T=h(t,["preTunedModel"]);T!=null&&m(n,["preTunedModel"],T);const C=h(t,["supervisedTuningSpec"]);C!=null&&m(n,["supervisedTuningSpec"],C);const k=h(t,["preferenceOptimizationSpec"]);k!=null&&m(n,["preferenceOptimizationSpec"],k);const N=h(t,["tuningDataStats"]);N!=null&&m(n,["tuningDataStats"],N);const U=h(t,["encryptionSpec"]);U!=null&&m(n,["encryptionSpec"],U);const R=h(t,["partnerModelTuningSpec"]);R!=null&&m(n,["partnerModelTuningSpec"],R);const V=h(t,["customBaseModel"]);V!=null&&m(n,["customBaseModel"],V);const W=h(t,["experiment"]);W!=null&&m(n,["experiment"],W);const P=h(t,["labels"]);P!=null&&m(n,["labels"],P);const F=h(t,["outputUri"]);F!=null&&m(n,["outputUri"],F);const ie=h(t,["pipelineJob"]);ie!=null&&m(n,["pipelineJob"],ie);const te=h(t,["serviceAccount"]);te!=null&&m(n,["serviceAccount"],te);const ue=h(t,["tunedModelDisplayName"]);ue!=null&&m(n,["tunedModelDisplayName"],ue);const se=h(t,["veoTuningSpec"]);return se!=null&&m(n,["veoTuningSpec"],se),n}function rN(t,e){const n={},r=h(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const o=h(t,["name"]);o!=null&&m(n,["name"],o);const a=h(t,["metadata"]);a!=null&&m(n,["metadata"],a);const u=h(t,["done"]);u!=null&&m(n,["done"],u);const d=h(t,["error"]);return d!=null&&m(n,["error"],d),n}function My(t,e){const n={},r=h(t,["gcsUri"]);r!=null&&m(n,["validationDatasetUri"],r);const o=h(t,["vertexDatasetResource"]);return o!=null&&m(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sN extends ii{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new dr(ni.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:o});return a.baseModel=void 0,await this.tuneInternal(a)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),a=await this.tuneMldevInternal(o);let u="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?u=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(u=a.name.split("/operations/")[0]),{name:u,state:Gd.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=Yk(e);return d=le("{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>Xd(g))}else{const f=Jk(e);return d=le("{name}",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>A_(g))}}async listInternal(e){var n,r,o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const f=Wk(e);return d=le("tuningJobs",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const _=eN(g),x=new fy;return Object.assign(x,_),x})}else{const f=Qk(e);return d=le("tunedModels",f._url),p=f._query,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(_=>{const x=_;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const _=Zk(g),x=new fy;return Object.assign(x,_),x})}}async cancel(e){var n,r,o,a;let u="",d={};if(this.apiClient.isVertexAI()){const p=Vk(e);u=le("{name}:cancel",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const p=Hk(e);u=le("{name}:cancel",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async tuneInternal(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI()){const d=jk(e,e);return a=le("tuningJobs",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>Xd(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let o,a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=$k(e);return a=le("tunedModels",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(f=>{const g=f;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>rN(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oN{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const aN=1024*1024*8,lN=3,uN=1e3,cN=2,zl="x-goog-upload-status";async function dN(t,e,n){var r;const o=await k_(t,e,n),a=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[zl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function fN(t,e,n){var r;const o=await k_(t,e,n),a=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[zl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const u=n_(a),d=new Ef;return Object.assign(d,u),d}async function k_(t,e,n){var r,o;let a=0,u=0,d=new Fd(new Response),p="upload";for(a=t.size;u<a;){const f=Math.min(aN,a-u),g=t.slice(u,u+f);u+f>=a&&(p+=", finalize");let _=0,x=uN;for(;_<lN&&(d=await n.request({path:"",body:g,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(u),"Content-Length":String(f)}}}),!(!((r=d==null?void 0:d.headers)===null||r===void 0)&&r[zl]));)_++,await pN(x),x=x*cN;if(u+=f,((o=d==null?void 0:d.headers)===null||o===void 0?void 0:o[zl])!=="active")break;if(a<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return d}async function hN(t){return{size:t.size,type:t.type}}function pN(t){return new Promise(e=>setTimeout(e,t))}class mN{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await dN(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await fN(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await hN(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gN{create(e,n,r){return new yN(e,n,r)}}class yN{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dy="x-goog-api-key";class vN{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Dy)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Dy,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _N="gl-node/";class xN{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=XS(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const o=new vN(this.apiKey);this.apiClient=new PA({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:_N+"web",uploader:new mN,downloader:new oN}),this.models=new ek(this.apiClient),this.live=new YA(this.apiClient,o,new gN),this.batches=new TT(this.apiClient),this.chats=new o1(this.models,this.apiClient),this.caches=new i1(this.apiClient),this.files=new g1(this.apiClient),this.operations=new tk(this.apiClient),this.authTokens=new yk(this.apiClient),this.tunings=new sN(this.apiClient),this.fileSearchStores=new Bk(this.apiClient)}}const Rf=t=>{const e=t||void 0;if(!e)throw console.warn("API Key is missing. Please configure it in Settings or via environment variables."),new Error("API Key missing");return new xN({apiKey:e})},Py=async(t,e,n,r="gemini-2.5-flash")=>{try{const o=Rf(n),a=`
      You are an expert Product Manager at a top-tier tech company. 
      Your task is to write the specific section: "${t}" for a Product Requirements Document (PRD).
      
      Product Context:
      - Product Name: ${e.productName}
      - Brief Description: ${e.shortDescription}
      
      Existing Content Context (if any):
      ${JSON.stringify(e.existingSections)}
      
      Instructions:
      - Write only the content for the "${t}" section.
      - Be professional, concise, and structured.
      - Use bullet points where appropriate.
      - Do not include the section title in the output, just the content.
      - Format using Markdown.
    `;return(await o.models.generateContent({model:r,contents:a})).text||""}catch(o){throw console.error("Error generating PRD content:",o),new Error("Failed to generate content. Check your API Key or Network.")}},bN=async(t,e,n="gemini-2.5-flash")=>{try{const r=Rf(e),o=`
      Write a concise, compelling 2-3 sentence product description for a product named "${t}". 
      Focus on what it might do and who it is for.
    `;return(await r.models.generateContent({model:n,contents:o})).text||""}catch(r){throw console.error("Error generating description:",r),new Error("Failed to generate description")}},wN=async(t,e,n,r="gemini-2.5-flash")=>{try{const o=Rf(n),a=`
      You are an expert editor. 
      Instruction: ${e}
      Original Text:
      "${t}"
      
      Output the improved text only. Keep the same format (Markdown).
    `;return(await o.models.generateContent({model:r,contents:a})).text||t}catch(o){return console.error("Error enhancing text:",o),t}};async function N_(t,e){const n=new AbortController,r=setTimeout(()=>n.abort(),1e4);try{const o=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),signal:n.signal});return clearTimeout(r),o.ok}catch{clearTimeout(r);try{const a=new AbortController,u=setTimeout(()=>a.abort(),1e4);return await fetch(t,{method:"POST",mode:"no-cors",body:JSON.stringify(e),signal:a.signal}),clearTimeout(u),!0}catch(a){return console.warn(`[Webhook] Failed to send to ${t}`,a),!1}}}const SN=async(t,e,n,r,o,a,u)=>{const d={event:"prd_approval_status_changed",prdId:t,title:n,status:e,approver:{name:a||"Anonymous",email:u||"Not provided"},comment:o||"",timestamp:new Date().toISOString()};return console.log("[Webhook] Triggering approval event...",d),r&&r.startsWith("http")?(await N_(r,d),console.log("[Webhook] Event sent.")):(console.log("[Webhook] No valid Webhook URL configured."),await new Promise(p=>setTimeout(p,1e3))),!0},EN=async t=>{if(!t||!t.startsWith("http"))return!1;const e={event:"prd_approval_status_changed",prdId:"test_prd_id_12345",title:"Test Product Requirements Document",status:"approved",approver:{name:"Test Approver",email:"approver@example.com"},comment:"This is a test event to verify webhook payload structure and connectivity.",timestamp:new Date().toISOString(),isTest:!0};return await N_(t,e)};var Qd=function(t,e){return Qd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Qd(t,e)};function R_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Qd(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Ml=function(){return Ml=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ml.apply(this,arguments)};function Es(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function I_(t,e,n,r){var o=arguments.length,a=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var d=t.length-1;d>=0;d--)(u=t[d])&&(a=(o<3?u(a):o>3?u(e,n,a):u(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function z_(t,e){return function(n,r){e(n,r,t)}}function M_(t,e,n,r,o,a){function u(N){if(N!==void 0&&typeof N!="function")throw new TypeError("Function expected");return N}for(var d=r.kind,p=d==="getter"?"get":d==="setter"?"set":"value",f=!e&&t?r.static?t:t.prototype:null,g=e||(f?Object.getOwnPropertyDescriptor(f,r.name):{}),_,x=!1,w=n.length-1;w>=0;w--){var T={};for(var C in r)T[C]=C==="access"?{}:r[C];for(var C in r.access)T.access[C]=r.access[C];T.addInitializer=function(N){if(x)throw new TypeError("Cannot add initializers after decoration has completed");a.push(u(N||null))};var k=(0,n[w])(d==="accessor"?{get:g.get,set:g.set}:g[p],T);if(d==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(_=u(k.get))&&(g.get=_),(_=u(k.set))&&(g.set=_),(_=u(k.init))&&o.unshift(_)}else(_=u(k))&&(d==="field"?o.unshift(_):g[p]=_)}f&&Object.defineProperty(f,r.name,g),x=!0}function D_(t,e,n){for(var r=arguments.length>2,o=0;o<e.length;o++)n=r?e[o].call(t,n):e[o].call(t);return r?n:void 0}function P_(t){return typeof t=="symbol"?t:"".concat(t)}function U_(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function O_(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function he(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function d(g){try{f(r.next(g))}catch(_){u(_)}}function p(g){try{f(r.throw(g))}catch(_){u(_)}}function f(g){g.done?a(g.value):o(g.value).then(d,p)}f((r=r.apply(t,e||[])).next())})}function L_(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=d(0),u.throw=d(1),u.return=d(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(f){return function(g){return p([f,g])}}function p(f){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,f[0]&&(n=0)),n;)try{if(r=1,o&&(a=f[0]&2?o.return:f[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,f[1])).done)return a;switch(o=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,o=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(g){f=[6,g],o=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var Jl=Object.create?(function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}):(function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]});function q_(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Jl(e,t,n)}function Dl(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function If(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,a=[],u;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(d){u={error:d}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return a}function B_(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(If(arguments[e]));return t}function H_(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;e<n;e++)for(var a=arguments[e],u=0,d=a.length;u<d;u++,o++)r[o]=a[u];return r}function V_(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,a;r<o;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function xs(t){return this instanceof xs?(this.v=t,this):new xs(t)}function G_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,a=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(w){return function(T){return Promise.resolve(T).then(w,_)}}function d(w,T){r[w]&&(o[w]=function(C){return new Promise(function(k,N){a.push([w,C,k,N])>1||p(w,C)})},T&&(o[w]=T(o[w])))}function p(w,T){try{f(r[w](T))}catch(C){x(a[0][3],C)}}function f(w){w.value instanceof xs?Promise.resolve(w.value.v).then(g,_):x(a[0][2],w)}function g(w){p("next",w)}function _(w){p("throw",w)}function x(w,T){w(T),a.shift(),a.length&&p(a[0][0],a[0][1])}}function F_(t){var e,n;return e={},r("next"),r("throw",function(o){throw o}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(o,a){e[o]=t[o]?function(u){return(n=!n)?{value:xs(t[o](u)),done:!1}:a?a(u):u}:a}}function $_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Dl=="function"?Dl(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(u){return new Promise(function(d,p){u=t[a](u),o(d,p,u.done,u.value)})}}function o(a,u,d,p){Promise.resolve(p).then(function(f){a({value:f,done:d})},u)}}function j_(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var TN=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Wd=function(t){return Wd=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},Wd(t)};function J_(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Wd(t),r=0;r<n.length;r++)n[r]!=="default"&&Jl(e,t,n[r]);return TN(e,t),e}function Y_(t){return t&&t.__esModule?t:{default:t}}function K_(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function X_(t,e,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(t,n):o?o.value=n:e.set(t,n),n}function Q_(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function W_(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(o=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var CN=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function Z_(t){function e(a){t.error=t.hasError?new CN(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var n,r=0;function o(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(o);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(o,function(u){return e(u),o()})}else r|=1}catch(u){e(u)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function ex(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,o,a,u){return r?e?".jsx":".js":o&&(!a||!u)?n:o+a+"."+u.toLowerCase()+"js"}):t}const AN={__extends:R_,__assign:Ml,__rest:Es,__decorate:I_,__param:z_,__esDecorate:M_,__runInitializers:D_,__propKey:P_,__setFunctionName:U_,__metadata:O_,__awaiter:he,__generator:L_,__createBinding:Jl,__exportStar:q_,__values:Dl,__read:If,__spread:B_,__spreadArrays:H_,__spreadArray:V_,__await:xs,__asyncGenerator:G_,__asyncDelegator:F_,__asyncValues:$_,__makeTemplateObject:j_,__importStar:J_,__importDefault:Y_,__classPrivateFieldGet:K_,__classPrivateFieldSet:X_,__classPrivateFieldIn:Q_,__addDisposableResource:W_,__disposeResources:Z_,__rewriteRelativeImportExtension:ex},kN=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:W_,get __assign(){return Ml},__asyncDelegator:F_,__asyncGenerator:G_,__asyncValues:$_,__await:xs,__awaiter:he,__classPrivateFieldGet:K_,__classPrivateFieldIn:Q_,__classPrivateFieldSet:X_,__createBinding:Jl,__decorate:I_,__disposeResources:Z_,__esDecorate:M_,__exportStar:q_,__extends:R_,__generator:L_,__importDefault:Y_,__importStar:J_,__makeTemplateObject:j_,__metadata:O_,__param:z_,__propKey:P_,__read:If,__rest:Es,__rewriteRelativeImportExtension:ex,__runInitializers:D_,__setFunctionName:U_,__spread:B_,__spreadArray:V_,__spreadArrays:H_,__values:Dl,default:AN},Symbol.toStringTag,{value:"Module"})),NN=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class zf extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class RN extends zf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Uy extends zf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Oy extends zf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Zd;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Zd||(Zd={}));class IN{constructor(e,{headers:n={},customFetch:r,region:o=Zd.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=NN(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return he(this,arguments,void 0,function*(n,r={}){var o;let a,u;try{const{headers:d,method:p,body:f,signal:g,timeout:_}=r;let x={},{region:w}=r;w||(w=this.region);const T=new URL(`${this.url}/${n}`);w&&w!=="any"&&(x["x-region"]=w,T.searchParams.set("forceFunctionRegion",w));let C;f&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",C=f):typeof f=="string"?(x["Content-Type"]="text/plain",C=f):typeof FormData<"u"&&f instanceof FormData?C=f:(x["Content-Type"]="application/json",C=JSON.stringify(f)):C=f;let k=g;_&&(u=new AbortController,a=setTimeout(()=>u.abort(),_),g?(k=u.signal,g.addEventListener("abort",()=>u.abort())):k=u.signal);const N=yield this.fetch(T.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),d),body:C,signal:k}).catch(W=>{throw new RN(W)}),U=N.headers.get("x-relay-error");if(U&&U==="true")throw new Uy(N);if(!N.ok)throw new Oy(N);let R=((o=N.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),V;return R==="application/json"?V=yield N.json():R==="application/octet-stream"||R==="application/pdf"?V=yield N.blob():R==="text/event-stream"?V=N:R==="multipart/form-data"?V=yield N.formData():V=yield N.text(),{data:V,error:null,response:N}}catch(d){return{data:null,error:d,response:d instanceof Oy||d instanceof Uy?d.context:void 0}}finally{a&&clearTimeout(a)}})}}var Nt={};const Ts=US(kN);var dl={},fl={},hl={},pl={},ml={},gl={},Ly;function tx(){if(Ly)return gl;Ly=1,Object.defineProperty(gl,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return gl.default=t,gl}var qy;function nx(){if(qy)return ml;qy=1,Object.defineProperty(ml,"__esModule",{value:!0});const e=Ts.__importDefault(tx());class n{constructor(o){var a,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(a=o.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,a){return this.headers=new Headers(this.headers),this.headers.set(o,a),this}then(o,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var f,g,_,x;let w=null,T=null,C=null,k=p.status,N=p.statusText;if(p.ok){if(this.method!=="HEAD"){const W=await p.text();W===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?T=W:T=JSON.parse(W))}const R=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),V=(_=p.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");R&&V&&V.length>1&&(C=parseInt(V[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(T)&&(T.length>1?(w={code:"PGRST116",details:`Results contain ${T.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},T=null,C=null,k=406,N="Not Acceptable"):T.length===1?T=T[0]:T=null)}else{const R=await p.text();try{w=JSON.parse(R),Array.isArray(w)&&p.status===404&&(T=[],w=null,k=200,N="OK")}catch{p.status===404&&R===""?(k=204,N="No Content"):w={message:R}}if(w&&this.isMaybeSingle&&(!((x=w==null?void 0:w.details)===null||x===void 0)&&x.includes("0 rows"))&&(w=null,k=200,N="OK"),w&&this.shouldThrowOnError)throw new e.default(w)}return{error:w,data:T,count:C,status:k,statusText:N}});return this.shouldThrowOnError||(d=d.catch(p=>{var f,g,_,x,w,T;let C="";const k=p==null?void 0:p.cause;if(k){const N=(f=k==null?void 0:k.message)!==null&&f!==void 0?f:"",U=(g=k==null?void 0:k.code)!==null&&g!==void 0?g:"";C=`${(_=p==null?void 0:p.name)!==null&&_!==void 0?_:"FetchError"}: ${p==null?void 0:p.message}`,C+=`

Caused by: ${(x=k==null?void 0:k.name)!==null&&x!==void 0?x:"Error"}: ${N}`,U&&(C+=` (${U})`),k!=null&&k.stack&&(C+=`
${k.stack}`)}else C=(w=p==null?void 0:p.stack)!==null&&w!==void 0?w:"";return{error:{message:`${(T=p==null?void 0:p.name)!==null&&T!==void 0?T:"FetchError"}: ${p==null?void 0:p.message}`,details:C,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(o,a)}returns(){return this}overrideTypes(){return this}}return ml.default=n,ml}var By;function ix(){if(By)return pl;By=1,Object.defineProperty(pl,"__esModule",{value:!0});const e=Ts.__importDefault(nx());class n extends e.default{select(o){let a=!1;const u=(o??"*").split("").map(d=>/\s/.test(d)&&!a?"":(d==='"'&&(a=!a),d)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:a=!0,nullsFirst:u,foreignTable:d,referencedTable:p=d}={}){const f=p?`${p}.order`:"order",g=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${g?`${g},`:""}${o}.${a?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:a,referencedTable:u=a}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${o}`),this}range(o,a,{foreignTable:u,referencedTable:d=u}={}){const p=typeof d>"u"?"offset":`${d}.offset`,f=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(p,`${o}`),this.url.searchParams.set(f,`${a-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:a=!1,settings:u=!1,buffers:d=!1,wal:p=!1,format:f="text"}={}){var g;const _=[o?"analyze":null,a?"verbose":null,u?"settings":null,d?"buffers":null,p?"wal":null].filter(Boolean).join("|"),x=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${x}"; options=${_};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return pl.default=n,pl}var Hy;function Mf(){if(Hy)return hl;Hy=1,Object.defineProperty(hl,"__esModule",{value:!0});const e=Ts.__importDefault(ix()),n=new RegExp("[,()]");class r extends e.default{eq(a,u){return this.url.searchParams.append(a,`eq.${u}`),this}neq(a,u){return this.url.searchParams.append(a,`neq.${u}`),this}gt(a,u){return this.url.searchParams.append(a,`gt.${u}`),this}gte(a,u){return this.url.searchParams.append(a,`gte.${u}`),this}lt(a,u){return this.url.searchParams.append(a,`lt.${u}`),this}lte(a,u){return this.url.searchParams.append(a,`lte.${u}`),this}like(a,u){return this.url.searchParams.append(a,`like.${u}`),this}likeAllOf(a,u){return this.url.searchParams.append(a,`like(all).{${u.join(",")}}`),this}likeAnyOf(a,u){return this.url.searchParams.append(a,`like(any).{${u.join(",")}}`),this}ilike(a,u){return this.url.searchParams.append(a,`ilike.${u}`),this}ilikeAllOf(a,u){return this.url.searchParams.append(a,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(a,u){return this.url.searchParams.append(a,`ilike(any).{${u.join(",")}}`),this}regexMatch(a,u){return this.url.searchParams.append(a,`match.${u}`),this}regexIMatch(a,u){return this.url.searchParams.append(a,`imatch.${u}`),this}is(a,u){return this.url.searchParams.append(a,`is.${u}`),this}isDistinct(a,u){return this.url.searchParams.append(a,`isdistinct.${u}`),this}in(a,u){const d=Array.from(new Set(u)).map(p=>typeof p=="string"&&n.test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(a,`in.(${d})`),this}contains(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cs.{${u.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(u)}`),this}containedBy(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cd.{${u.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(u)}`),this}rangeGt(a,u){return this.url.searchParams.append(a,`sr.${u}`),this}rangeGte(a,u){return this.url.searchParams.append(a,`nxl.${u}`),this}rangeLt(a,u){return this.url.searchParams.append(a,`sl.${u}`),this}rangeLte(a,u){return this.url.searchParams.append(a,`nxr.${u}`),this}rangeAdjacent(a,u){return this.url.searchParams.append(a,`adj.${u}`),this}overlaps(a,u){return typeof u=="string"?this.url.searchParams.append(a,`ov.${u}`):this.url.searchParams.append(a,`ov.{${u.join(",")}}`),this}textSearch(a,u,{config:d,type:p}={}){let f="";p==="plain"?f="pl":p==="phrase"?f="ph":p==="websearch"&&(f="w");const g=d===void 0?"":`(${d})`;return this.url.searchParams.append(a,`${f}fts${g}.${u}`),this}match(a){return Object.entries(a).forEach(([u,d])=>{this.url.searchParams.append(u,`eq.${d}`)}),this}not(a,u,d){return this.url.searchParams.append(a,`not.${u}.${d}`),this}or(a,{foreignTable:u,referencedTable:d=u}={}){const p=d?`${d}.or`:"or";return this.url.searchParams.append(p,`(${a})`),this}filter(a,u,d){return this.url.searchParams.append(a,`${u}.${d}`),this}}return hl.default=r,hl}var Vy;function rx(){if(Vy)return fl;Vy=1,Object.defineProperty(fl,"__esModule",{value:!0});const e=Ts.__importDefault(Mf());class n{constructor(o,{headers:a={},schema:u,fetch:d}){this.url=o,this.headers=new Headers(a),this.schema=u,this.fetch=d}select(o,a){const{head:u=!1,count:d}=a??{},p=u?"HEAD":"GET";let f=!1;const g=(o??"*").split("").map(_=>/\s/.test(_)&&!f?"":(_==='"'&&(f=!f),_)).join("");return this.url.searchParams.set("select",g),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:a,defaultToNull:u=!0}={}){var d;const p="POST";if(a&&this.headers.append("Prefer",`count=${a}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const f=o.reduce((g,_)=>g.concat(Object.keys(_)),[]);if(f.length>0){const g=[...new Set(f)].map(_=>`"${_}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(o,{onConflict:a,ignoreDuplicates:u=!1,count:d,defaultToNull:p=!0}={}){var f;const g="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),d&&this.headers.append("Prefer",`count=${d}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const _=o.reduce((x,w)=>x.concat(Object.keys(w)),[]);if(_.length>0){const x=[...new Set(_)].map(w=>`"${w}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(o,{count:a}={}){var u;const d="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:o}={}){var a;const u="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return fl.default=n,fl}var Gy;function zN(){if(Gy)return dl;Gy=1,Object.defineProperty(dl,"__esModule",{value:!0});const t=Ts,e=t.__importDefault(rx()),n=t.__importDefault(Mf());class r{constructor(a,{headers:u={},schema:d,fetch:p}={}){this.url=a,this.headers=new Headers(u),this.schemaName=d,this.fetch=p}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const u=new URL(`${this.url}/${a}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,u={},{head:d=!1,get:p=!1,count:f}={}){var g;let _;const x=new URL(`${this.url}/rpc/${a}`);let w;d||p?(_=d?"HEAD":"GET",Object.entries(u).filter(([C,k])=>k!==void 0).map(([C,k])=>[C,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([C,k])=>{x.searchParams.append(C,k)})):(_="POST",w=u);const T=new Headers(this.headers);return f&&T.set("Prefer",`count=${f}`),new n.default({method:_,url:x,headers:T,schema:this.schemaName,body:w,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return dl.default=r,dl}var Fy;function MN(){if(Fy)return Nt;Fy=1,Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.PostgrestError=Nt.PostgrestBuilder=Nt.PostgrestTransformBuilder=Nt.PostgrestFilterBuilder=Nt.PostgrestQueryBuilder=Nt.PostgrestClient=void 0;const t=Ts,e=t.__importDefault(zN());Nt.PostgrestClient=e.default;const n=t.__importDefault(rx());Nt.PostgrestQueryBuilder=n.default;const r=t.__importDefault(Mf());Nt.PostgrestFilterBuilder=r.default;const o=t.__importDefault(ix());Nt.PostgrestTransformBuilder=o.default;const a=t.__importDefault(nx());Nt.PostgrestBuilder=a.default;const u=t.__importDefault(tx());return Nt.PostgrestError=u.default,Nt.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:a.default,PostgrestError:u.default},Nt}var sx=MN();const ox=Vo(sx),DN=PS({__proto__:null,default:ox},[sx]),{PostgrestClient:PN,PostgrestQueryBuilder:DO,PostgrestFilterBuilder:PO,PostgrestTransformBuilder:UO,PostgrestBuilder:OO,PostgrestError:LO}=ox||DN;class UN{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const ON="2.86.0",LN=`realtime-js/${ON}`,ax="1.0.0",qN="2.0.0",$y=ax,ef=1e4,BN=1e3,HN=100;var ar;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ar||(ar={}));var _t;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(_t||(_t={}));var Cn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Cn||(Cn={}));var tf;(function(t){t.websocket="websocket"})(tf||(tf={}));var lr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(lr||(lr={}));class VN{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const o=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var n,r;const o=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,n,r){var o,a;const u=e.topic,d=(o=e.ref)!==null&&o!==void 0?o:"",p=(a=e.join_ref)!==null&&a!==void 0?a:"",f=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},_=Object.keys(g).length===0?"":JSON.stringify(g);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+d.length+u.length+f.length+_.length,w=new ArrayBuffer(this.HEADER_LENGTH+x);let T=new DataView(w),C=0;T.setUint8(C++,this.KINDS.userBroadcastPush),T.setUint8(C++,p.length),T.setUint8(C++,d.length),T.setUint8(C++,u.length),T.setUint8(C++,f.length),T.setUint8(C++,_.length),T.setUint8(C++,n),Array.from(p,N=>T.setUint8(C++,N.charCodeAt(0))),Array.from(d,N=>T.setUint8(C++,N.charCodeAt(0))),Array.from(u,N=>T.setUint8(C++,N.charCodeAt(0))),Array.from(f,N=>T.setUint8(C++,N.charCodeAt(0))),Array.from(_,N=>T.setUint8(C++,N.charCodeAt(0)));var k=new Uint8Array(w.byteLength+r.byteLength);return k.set(new Uint8Array(w),0),k.set(new Uint8Array(r),w.byteLength),k.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[o,a,u,d,p]=r;return n({join_ref:o,ref:a,topic:u,event:d,payload:p})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),o=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,o)}}_decodeUserBroadcast(e,n,r){const o=n.getUint8(1),a=n.getUint8(2),u=n.getUint8(3),d=n.getUint8(4);let p=this.HEADER_LENGTH+4;const f=r.decode(e.slice(p,p+o));p=p+o;const g=r.decode(e.slice(p,p+a));p=p+a;const _=r.decode(e.slice(p,p+u));p=p+u;const x=e.slice(p,e.byteLength),w=d===this.JSON_ENCODING?JSON.parse(r.decode(x)):x,T={type:this.BROADCAST_EVENT,event:g,payload:w};return u>0&&(T.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:T}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class lx{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Qe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Qe||(Qe={}));const jy=(t,e,n={})=>{var r;const o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((a,u)=>(a[u]=GN(u,t,e,o),a),{}):{}},GN=(t,e,n,r)=>{const o=e.find(d=>d.name===t),a=o==null?void 0:o.type,u=n[t];return a&&!r.includes(a)?ux(a,u):nf(u)},ux=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return JN(e,n)}switch(t){case Qe.bool:return FN(e);case Qe.float4:case Qe.float8:case Qe.int2:case Qe.int4:case Qe.int8:case Qe.numeric:case Qe.oid:return $N(e);case Qe.json:case Qe.jsonb:return jN(e);case Qe.timestamp:return YN(e);case Qe.abstime:case Qe.date:case Qe.daterange:case Qe.int4range:case Qe.int8range:case Qe.money:case Qe.reltime:case Qe.text:case Qe.time:case Qe.timestamptz:case Qe.timetz:case Qe.tsrange:case Qe.tstzrange:return nf(e);default:return nf(e)}},nf=t=>t,FN=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},$N=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},jN=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},JN=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const u=t.slice(1,n);try{a=JSON.parse("["+u+"]")}catch{a=u?u.split(","):[]}return a.map(d=>ux(e,d))}return t},YN=t=>typeof t=="string"?t.replace(" ","T"):t,cx=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class xd{constructor(e,n,r={},o=ef){this.channel=e,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Jy;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Jy||(Jy={}));class Io{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:a,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Io.syncState(this.state,o,a,u),this.pendingDiffs.forEach(p=>{this.state=Io.syncDiff(this.state,p,a,u)}),this.pendingDiffs=[],d()}),this.channel._on(r.diff,{},o=>{const{onJoin:a,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Io.syncDiff(this.state,o,a,u),d())}),this.onJoin((o,a,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:u})}),this.onLeave((o,a,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,o){const a=this.cloneDeep(e),u=this.transformState(n),d={},p={};return this.map(a,(f,g)=>{u[f]||(p[f]=g)}),this.map(u,(f,g)=>{const _=a[f];if(_){const x=g.map(k=>k.presence_ref),w=_.map(k=>k.presence_ref),T=g.filter(k=>w.indexOf(k.presence_ref)<0),C=_.filter(k=>x.indexOf(k.presence_ref)<0);T.length>0&&(d[f]=T),C.length>0&&(p[f]=C)}else d[f]=g}),this.syncDiff(a,{joins:d,leaves:p},r,o)}static syncDiff(e,n,r,o){const{joins:a,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(a,(d,p)=>{var f;const g=(f=e[d])!==null&&f!==void 0?f:[];if(e[d]=this.cloneDeep(p),g.length>0){const _=e[d].map(w=>w.presence_ref),x=g.filter(w=>_.indexOf(w.presence_ref)<0);e[d].unshift(...x)}r(d,g,p)}),this.map(u,(d,p)=>{let f=e[d];if(!f)return;const g=p.map(_=>_.presence_ref);f=f.filter(_=>g.indexOf(_.presence_ref)<0),e[d]=f,o(d,f,p),f.length===0&&delete e[d]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const o=e[r];return"metas"in o?n[r]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Yy;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Yy||(Yy={}));var zo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(zo||(zo={}));var ti;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ti||(ti={}));class Df{constructor(e,n={config:{}},r){var o,a;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=_t.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new xd(this,Cn.join,this.params,this.timeout),this.rejoinTimer=new lx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_t.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_t.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Cn.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new Io(this),this.broadcastEndpointURL=cx(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==_t.closed){const{config:{broadcast:u,presence:d,private:p}}=this.params,f=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(w=>w.filter))!==null&&o!==void 0?o:[],g=!!this.bindings[zo.PRESENCE]&&this.bindings[zo.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,_={},x={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:g}),postgres_changes:f,private:p};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(w=>e==null?void 0:e(ti.CHANNEL_ERROR,w)),this._onClose(()=>e==null?void 0:e(ti.CLOSED)),this.updateJoinPayload(Object.assign({config:x},_)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:w})=>{var T;if(this.socket.setAuth(),w===void 0){e==null||e(ti.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,k=(T=C==null?void 0:C.length)!==null&&T!==void 0?T:0,N=[];for(let U=0;U<k;U++){const R=C[U],{filter:{event:V,schema:W,table:P,filter:F}}=R,ie=w&&w[U];if(ie&&ie.event===V&&ie.schema===W&&ie.table===P&&ie.filter===F)N.push(Object.assign(Object.assign({},R),{id:ie.id}));else{this.unsubscribe(),this.state=_t.errored,e==null||e(ti.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,e&&e(ti.SUBSCRIBED);return}}).receive("error",w=>{this.state=_t.errored,e==null||e(ti.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ti.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===_t.joined&&e===zo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var o;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let p=d.statusText;try{const f=await d.json();p=f.error||f.message||p}catch{}return Promise.reject(new Error(p))}async send(e,n={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:u}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:u,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=f.body)===null||o===void 0?void 0:o.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var u,d,p;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||p===void 0)&&p.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=_t.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Cn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new xd(this,Cn.leave,{},e),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_t.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const o=new AbortController,a=setTimeout(()=>o.abort(),r),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(a),u}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new xd(this,e,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>HN){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var o,a;const u=e.toLocaleLowerCase(),{close:d,error:p,leave:f,join:g}=Cn;if(r&&[d,p,f,g].indexOf(u)>=0&&r!==this._joinRef())return;let x=this._onMessage(u,n,r);if(n&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var T,C,k;return((T=w.filter)===null||T===void 0?void 0:T.event)==="*"||((k=(C=w.filter)===null||C===void 0?void 0:C.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===u}).map(w=>w.callback(x,r)):(a=this.bindings[u])===null||a===void 0||a.filter(w=>{var T,C,k,N,U,R;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in w){const V=w.id,W=(T=w.filter)===null||T===void 0?void 0:T.event;return V&&((C=n.ids)===null||C===void 0?void 0:C.includes(V))&&(W==="*"||(W==null?void 0:W.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const V=(U=(N=w==null?void 0:w.filter)===null||N===void 0?void 0:N.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return V==="*"||V===((R=n==null?void 0:n.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===u}).map(w=>{if(typeof x=="object"&&"ids"in x){const T=x.data,{schema:C,table:k,commit_timestamp:N,type:U,errors:R}=T;x=Object.assign(Object.assign({},{schema:C,table:k,commit_timestamp:N,eventType:U,new:{},old:{},errors:R}),this._getPayloadRecords(T))}w.callback(x,r)})}_isClosed(){return this.state===_t.closed}_isJoined(){return this.state===_t.joined}_isJoining(){return this.state===_t.joining}_isLeaving(){return this.state===_t.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const o=e.toLocaleLowerCase(),a={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Df.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Cn.close,{},e)}_onError(e){this._on(Cn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_t.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=jy(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=jy(e.columns,e.old_record)),n}}const bd=()=>{},yl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},KN=[1e3,2e3,5e3,1e4],XN=1e4,QN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class WN{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ef,this.transport=null,this.heartbeatIntervalMs=yl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bd,this.ref=0,this.reconnectTimer=null,this.vsn=$y,this.logger=bd,this.conn=null,this.sendBuffer=[],this.serializer=new VN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...a)=>o(...a):(...a)=>fetch(...a),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${tf.websocket}`,this.httpEndpoint=cx(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=UN.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ar.connecting:return lr.Connecting;case ar.open:return lr.Open;case ar.closing:return lr.Closing;default:return lr.Closed}}isConnected(){return this.connectionState()===lr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===r);if(o)return o;{const a=new Df(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:o,ref:a}=e,u=()=>{this.encode(e,d=>{var p;(p=this.conn)===null||p===void 0||p.send(d)})};this.log("push",`${n} ${r} (${a})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(BN,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},yl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:a,ref:u}=n,d=u?`(${u})`:"",p=a.status||"";this.log("receive",`${p} ${r} ${o} ${d}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(o,a,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ar.open||this.conn.readyState===ar.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Cn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${r}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([QN],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const o={access_token:n,version:LN};n&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(Cn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new lx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},yl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,o,a,u,d,p,f,g,_,x,w;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:ef,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:yl.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e==null?void 0:e.heartbeatCallback)!==null&&d!==void 0?d:bd,this.vsn=(p=e==null?void 0:e.vsn)!==null&&p!==void 0?p:$y,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:(T=>KN[T-1]||XN),this.vsn){case ax:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:((T,C)=>C(JSON.stringify(T))),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:((T,C)=>C(JSON.parse(T)));break;case qN:this.encode=(x=e==null?void 0:e.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(w=e==null?void 0:e.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Yl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function st(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class ZN extends Yl{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class rf extends Yl{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const Pf=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),eR=()=>Response,sf=t=>{if(Array.isArray(t))return t.map(n=>sf(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=sf(r)}),e},tR=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},nR=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),wd=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},iR=(t,e,n)=>he(void 0,void 0,void 0,function*(){const r=yield eR();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(o=>{const a=t.status||500,u=(o==null?void 0:o.statusCode)||a+"";e(new ZN(wd(o),a,u))}).catch(o=>{e(new rf(wd(o),o))}):e(new rf(wd(t),t))}),rR=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?o:(tR(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,e!=null&&e.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),n))};function Go(t,e,n,r,o,a){return he(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(n,rR(e,r,o,a)).then(p=>{if(!p.ok)throw p;return r!=null&&r.noResolveJson?p:p.json()}).then(p=>u(p)).catch(p=>iR(p,d,r))})})}function Uo(t,e,n,r){return he(this,void 0,void 0,function*(){return Go(t,"GET",e,n,r)})}function Tn(t,e,n,r,o){return he(this,void 0,void 0,function*(){return Go(t,"POST",e,r,o,n)})}function of(t,e,n,r,o){return he(this,void 0,void 0,function*(){return Go(t,"PUT",e,r,o,n)})}function sR(t,e,n,r){return he(this,void 0,void 0,function*(){return Go(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Uf(t,e,n,r,o){return he(this,void 0,void 0,function*(){return Go(t,"DELETE",e,r,o,n)})}class oR{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return he(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(st(e))return{data:null,error:e};throw e}})}}var dx;class aR{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[dx]="BlobDownloadBuilder",this.promise=null}asStream(){return new oR(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return he(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(st(e))return{data:null,error:e};throw e}})}}dx=Symbol.toStringTag;const lR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ky={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class uR{constructor(e,n={},r,o){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Pf(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,o){return he(this,void 0,void 0,function*(){try{let a;const u=Object.assign(Object.assign({},Ky),o);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const p=u.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),p&&a.append("metadata",this.encodeMetadata(p)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",u.cacheControl),p&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(p))):(a=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,p&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(p))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!u.duplex&&(u.duplex="half")),o!=null&&o.headers&&(d=Object.assign(Object.assign({},d),o.headers));const f=this._removeEmptyFolders(n),g=this._getFinalPath(f),_=yield(e=="PUT"?of:Tn)(this.fetch,`${this.url}/object/${g}`,a,Object.assign({headers:d},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:f,id:_.Id,fullPath:_.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}upload(e,n,r){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,o){return he(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),u=this._getFinalPath(a),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",n);try{let p;const f=Object.assign({upsert:Ky.upsert},o),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(p=new FormData,p.append("cacheControl",f.cacheControl),p.append("",r)):typeof FormData<"u"&&r instanceof FormData?(p=r,p.append("cacheControl",f.cacheControl)):(p=r,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType);const _=yield of(this.fetch,d.toString(),p,{headers:g});return{data:{path:a,fullPath:_.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(st(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,n){return he(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const a=yield Tn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),u=new URL(this.url+a.url),d=u.searchParams.get("token");if(!d)throw new Yl("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:d},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}update(e,n,r){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return he(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}copy(e,n,r){return he(this,void 0,void 0,function*(){try{return{data:{path:(yield Tn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,r){return he(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),a=yield Tn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,r){return he(this,void 0,void 0,function*(){try{const o=yield Tn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${a}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}download(e,n){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),u=a?`?${a}`:"",d=this._getFinalPath(e),p=()=>Uo(this.fetch,`${this.url}/${o}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new aR(p,this.shouldThrowOnError)}info(e){return he(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Uo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:sf(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}exists(e){return he(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield sR(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r)&&r instanceof rf){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),o=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&o.push(a);const d=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});p!==""&&o.push(p);let f=o.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${r}${f}`)}}}remove(e){return he(this,void 0,void 0,function*(){try{return{data:yield Uf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}list(e,n,r){return he(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},lR),n),{prefix:e||""});return{data:yield Tn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}listV2(e,n){return he(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Tn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const fx="2.86.0",hx={"X-Client-Info":`storage-js/${fx}`};class cR{constructor(e,n={},r,o){this.shouldThrowOnError=!1;const a=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hx),n),this.fetch=Pf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return he(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield Uo(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}getBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield Uo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}createBucket(e){return he(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Tn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}updateBucket(e,n){return he(this,void 0,void 0,function*(){try{return{data:yield of(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}emptyBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}deleteBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield Uf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Oo=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function dR(t,e,n){const r=new URL(e,t);if(n)for(const[o,a]of Object.entries(n))a!==void 0&&r.searchParams.set(o,a);return r.toString()}async function fR(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function hR(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:o,body:a,headers:u}){const d=dR(t.baseUrl,r,o),p=await fR(t.auth),f=await e(d,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...p,...u},body:a?JSON.stringify(a):void 0}),g=await f.text(),_=(f.headers.get("content-type")||"").includes("application/json"),x=_&&g?JSON.parse(g):g;if(!f.ok){const w=_?x:void 0,T=w==null?void 0:w.error;throw new Oo((T==null?void 0:T.message)??`Request failed with status ${f.status}`,{status:f.status,icebergType:T==null?void 0:T.type,icebergCode:T==null?void 0:T.code,details:w})}return{status:f.status,headers:f.headers,data:x}}}}function vl(t){return t.join("")}var pR=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:vl(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vl(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vl(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vl(t.namespace)}`}),!0}catch(e){if(e instanceof Oo&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Oo&&n.status===409)return;throw n}}};function ts(t){return t.join("")}var mR=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ts(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ts(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ts(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ts(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ts(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ts(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Oo&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Oo&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},gR=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=hR({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new pR(this.client,e),this.tableOps=new mR(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class yR{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hx),n),this.fetch=Pf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}listBuckets(e){return he(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),o=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Uo(this.fetch,o,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}deleteBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield Uf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}from(e){if(!nR(e))throw new Yl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new gR({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>he(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Of={"X-Client-Info":`storage-js/${fx}`,"Content-Type":"application/json"};class px extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function sn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Sd extends px{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vR extends px{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var Xy;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Xy||(Xy={}));const Lf=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),_R=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Qy=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),xR=(t,e,n)=>he(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const o=t.status||500,a=t;if(typeof a.json=="function")a.json().then(u=>{const d=(u==null?void 0:u.statusCode)||(u==null?void 0:u.code)||o+"";e(new Sd(Qy(u),o,d))}).catch(()=>{const u=o+"",d=a.statusText||`HTTP ${o} error`;e(new Sd(d,o,u))});else{const u=o+"",d=a.statusText||`HTTP ${o} error`;e(new Sd(d,o,u))}}else e(new vR(Qy(t),t))}),bR=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(_R(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),n)):o};function wR(t,e,n,r,o,a){return he(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(n,bR(e,r,o,a)).then(p=>{if(!p.ok)throw p;if(r!=null&&r.noResolveJson)return p;const f=p.headers.get("content-type");return!f||!f.includes("application/json")?{}:p.json()}).then(p=>u(p)).catch(p=>xR(p,d,r))})})}function on(t,e,n,r,o){return he(this,void 0,void 0,function*(){return wR(t,"POST",e,r,o,n)})}class SR{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Of),n),this.fetch=Lf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return he(this,void 0,void 0,function*(){try{return{data:(yield on(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}getIndex(e,n){return he(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}listIndexes(e){return he(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return he(this,void 0,void 0,function*(){try{return{data:(yield on(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(sn(r))return{data:null,error:r};throw r}})}}class ER{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Of),n),this.fetch=Lf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return he(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield on(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}getVectors(e){return he(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}listVectors(e){return he(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield on(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}queryVectors(e){return he(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}deleteVectors(e){return he(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield on(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}}class TR{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Of),n),this.fetch=Lf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return he(this,void 0,void 0,function*(){try{return{data:(yield on(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}getBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}listBuckets(){return he(this,arguments,void 0,function*(e={}){try{return{data:yield on(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return he(this,void 0,void 0,function*(){try{return{data:(yield on(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(sn(n))return{data:null,error:n};throw n}})}}class CR extends TR{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new AR(this.url,this.headers,e,this.fetch)}createBucket(e){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return he(this,void 0,void 0,function*(){return n.createBucket.call(this,e)})}getBucket(e){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return he(this,void 0,void 0,function*(){return n.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return he(this,arguments,void 0,function*(n={}){return e.listBuckets.call(this,n)})}deleteBucket(e){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return he(this,void 0,void 0,function*(){return n.deleteBucket.call(this,e)})}}class AR extends SR{constructor(e,n,r,o){super(e,n,o),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return he(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return he(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return he(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return he(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new kR(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class kR extends ER{constructor(e,n,r,o,a){super(e,n,a),this.vectorBucketName=r,this.indexName=o}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return he(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return he(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return he(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return he(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return he(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class NR extends cR{constructor(e,n={},r,o){super(e,n,r,o)}from(e){return new uR(this.url,this.headers,e,this.fetch)}get vectors(){return new CR(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new yR(this.url+"/iceberg",this.headers,this.fetch)}}const RR="2.86.0";let No="";typeof Deno<"u"?No="deno":typeof document<"u"?No="web":typeof navigator<"u"&&navigator.product==="ReactNative"?No="react-native":No="node";const IR={"X-Client-Info":`supabase-js-${No}/${RR}`},zR={headers:IR},MR={schema:"public"},DR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},PR={},UR=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),OR=()=>Headers,LR=(t,e,n)=>{const r=UR(n),o=OR();return async(a,u)=>{var d;const p=(d=await e())!==null&&d!==void 0?d:t;let f=new o(u==null?void 0:u.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${p}`),r(a,Object.assign(Object.assign({},u),{headers:f}))}};function qR(t){return t.endsWith("/")?t:t+"/"}function BR(t,e){var n,r;const{db:o,auth:a,realtime:u,global:d}=t,{db:p,auth:f,realtime:g,global:_}=e,x={db:Object.assign(Object.assign({},p),o),auth:Object.assign(Object.assign({},f),a),realtime:Object.assign(Object.assign({},g),u),storage:{},global:Object.assign(Object.assign(Object.assign({},_),d),{headers:Object.assign(Object.assign({},(n=_==null?void 0:_.headers)!==null&&n!==void 0?n:{}),(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?x.accessToken=t.accessToken:delete x.accessToken,x}function HR(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(qR(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const mx="2.86.0",us=30*1e3,af=3,Ed=af*us,VR="http://localhost:9999",GR="supabase.auth.token",FR={"X-Client-Info":`gotrue-js/${mx}`},lf="X-Supabase-Api-Version",gx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$R=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jR=600*1e3;class Lo extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ye(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class JR extends Lo{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function YR(t){return ye(t)&&t.name==="AuthApiError"}class ur extends Lo{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Li extends Lo{constructor(e,n,r,o){super(e,r,o),this.name=n,this.status=r}}class nn extends Li{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function KR(t){return ye(t)&&t.name==="AuthSessionMissingError"}class ns extends Li{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _l extends Li{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class xl extends Li{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function XR(t){return ye(t)&&t.name==="AuthImplicitGrantRedirectError"}class Wy extends Li{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class uf extends Li{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Td(t){return ye(t)&&t.name==="AuthRetryableFetchError"}class Zy extends Li{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class cf extends Li{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ev=` 	
\r=`.split(""),QR=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ev.length;e+=1)t[ev[e].charCodeAt(0)]=-2;for(let e=0;e<Pl.length;e+=1)t[Pl[e].charCodeAt(0)]=e;return t})();function tv(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Pl[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Pl[r]),e.queuedBits-=6}}function yx(t,e,n){const r=QR[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function nv(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=u=>{e2(u,r,n)};for(let u=0;u<t.length;u+=1)yx(t.charCodeAt(u),o,a);return e.join("")}function WR(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function ZR(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}WR(r,e)}}function e2(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function ms(t){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)yx(t.charCodeAt(o),n,r);return new Uint8Array(e)}function t2(t){const e=[];return ZR(t,n=>e.push(n)),new Uint8Array(e)}function cr(t){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};return t.forEach(o=>tv(o,n,r)),tv(null,n,r),e.join("")}function n2(t){return Math.round(Date.now()/1e3)+t}function i2(){return Symbol("auth-callback")}const At=()=>typeof window<"u"&&typeof document<"u",rr={tested:!1,writable:!1},vx=()=>{if(!At())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(rr.tested)return rr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),rr.tested=!0,rr.writable=!0}catch{rr.tested=!0,rr.writable=!1}return rr.writable};function r2(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return n.searchParams.forEach((r,o)=>{e[o]=r}),e}const _x=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),s2=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",cs=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},sr=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},zi=async(t,e)=>{await t.removeItem(e)};class Kl{constructor(){this.promise=new Kl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Kl.promiseConstructor=Promise;function Cd(t){const e=t.split(".");if(e.length!==3)throw new cf("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!$R.test(e[r]))throw new cf("JWT not in base64url format");return{header:JSON.parse(nv(e[0])),payload:JSON.parse(nv(e[1])),signature:ms(e[2]),raw:{header:e[0],payload:e[1]}}}async function o2(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function a2(t,e){return new Promise((r,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const u=await t(a);if(!e(a,null,u)){r(u);return}}catch(u){if(!e(a,u)){o(u);return}}})()})}function l2(t){return("0"+t.toString(16)).substr(-2)}function u2(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let a=0;a<56;a++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,l2).join("")}async function c2(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function d2(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await c2(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function is(t,e,n=!1){const r=u2();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await cs(t,`${e}-code-verifier`,o);const a=await d2(r);return[a,r===a?"plain":"s256"]}const f2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function h2(t){const e=t.headers.get(lf);if(!e||!e.match(f2))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function p2(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function m2(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const g2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function rs(t){if(!g2.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ad(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function y2(t,e){return new Proxy(t,{get:(n,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,o)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,o)}})}function iv(t){return JSON.parse(JSON.stringify(t))}const or=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),v2=[502,503,504];async function rv(t){var e;if(!s2(t))throw new uf(or(t),0);if(v2.includes(t.status))throw new uf(or(t),t.status);let n;try{n=await t.json()}catch(a){throw new ur(or(a),a)}let r;const o=h2(t);if(o&&o.getTime()>=gx["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Zy(or(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new nn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,u)=>a&&typeof u=="string",!0))throw new Zy(or(n),t.status,n.weak_password.reasons);throw new JR(or(n),t.status||500,r)}const _2=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function we(t,e,n,r){var o;const a=Object.assign({},r==null?void 0:r.headers);a[lf]||(a[lf]=gx["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const u=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(u.redirect_to=r.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",p=await x2(t,e,n+d,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(p):{data:Object.assign({},p),error:null}}async function x2(t,e,n,r,o,a){const u=_2(e,r,o,a);let d;try{d=await t(n,Object.assign({},u))}catch(p){throw console.error(p),new uf(or(p),0)}if(d.ok||await rv(d),r!=null&&r.noResolveJson)return d;try{return await d.json()}catch(p){await rv(p)}}function En(t){var e;let n=null;S2(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=n2(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function sv(t){const e=En(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Pi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function b2(t){return{data:t,error:null}}function w2(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:a}=t,u=Es(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:a},p=Object.assign({},u);return{data:{properties:d,user:p},error:null}}function ov(t){return t}function S2(t){return t.access_token&&t.refresh_token&&t.expires_in}const kd=["global","local","others"];class E2{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=_x(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=kd[0]){if(kd.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${kd.join(", ")}`);try{return await we(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await we(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Pi})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Es(e,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await we(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:w2,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ye(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await we(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Pi})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,o,a,u,d,p;try{const f={nextPage:null,lastPage:0,total:0},g=await we(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:ov});if(g.error)throw g.error;const _=await g.json(),x=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(p=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&p!==void 0?p:[];return w.length>0&&(w.forEach(T=>{const C=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(T.split(";")[1].split("=")[1]);f[`${k}Page`]=C}),f.total=parseInt(x)),{data:Object.assign(Object.assign({},_),f),error:null}}catch(f){if(ye(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){rs(e);try{return await we(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Pi})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){rs(e);try{return await we(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Pi})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){rs(e);try{return await we(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Pi})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){rs(e.userId);try{const{data:n,error:r}=await we(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _deleteFactor(e){rs(e.userId),rs(e.id);try{return{data:await we(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,o,a,u,d,p;try{const f={nextPage:null,lastPage:0,total:0},g=await we(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:ov});if(g.error)throw g.error;const _=await g.json(),x=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(p=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&p!==void 0?p:[];return w.length>0&&(w.forEach(T=>{const C=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(T.split(";")[1].split("=")[1]);f[`${k}Page`]=C}),f.total=parseInt(x)),{data:Object.assign(Object.assign({},_),f),error:null}}catch(f){if(ye(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await we(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await we(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await we(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await we(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await we(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}}function av(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const ss={debug:!!(globalThis&&vx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xx extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class T2 extends xx{}async function C2(t,e,n){ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ss.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new T2(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ss.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function A2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function bx(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function k2(t){return parseInt(t,16)}function N2(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function R2(t){var e;const{chainId:n,domain:r,expirationTime:o,issuedAt:a=new Date,nonce:u,notBefore:d,requestId:p,resources:f,scheme:g,uri:_,version:x}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const w=bx(t.address),T=g?`${g}://${r}`:r,C=t.statement?`${t.statement}
`:"",k=`${T} wants you to sign in with your Ethereum account:
${w}

${C}`;let N=`URI: ${_}
Version: ${x}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${a.toISOString()}`;if(o&&(N+=`
Expiration Time: ${o.toISOString()}`),d&&(N+=`
Not Before: ${d.toISOString()}`),p&&(N+=`
Request ID: ${p}`),f){let U=`
Resources:`;for(const R of f){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);U+=`
- ${R}`}N+=U}return`${k}
${N}`}class mt extends Error{constructor({message:e,code:n,cause:r,name:o}){var a;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=o??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Ul extends mt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function I2({error:t,options:e}){var n,r,o;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=a.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new mt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(wx(u)){if(a.rp.id!==u)return new mt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function z2({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new mt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(wx(r)){if(n.rpId!==r)return new mt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class M2{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const D2=new M2;function P2(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,o=Es(t,["challenge","user","excludeCredentials"]),a=ms(e).buffer,u=Object.assign(Object.assign({},n),{id:ms(n.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:a,user:u});if(r&&r.length>0){d.excludeCredentials=new Array(r.length);for(let p=0;p<r.length;p++){const f=r[p];d.excludeCredentials[p]=Object.assign(Object.assign({},f),{id:ms(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return d}function U2(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Es(t,["challenge","allowCredentials"]),o=ms(e).buffer,a=Object.assign(Object.assign({},r),{challenge:o});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const d=n[u];a.allowCredentials[u]=Object.assign(Object.assign({},d),{id:ms(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return a}function O2(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:cr(new Uint8Array(t.response.attestationObject)),clientDataJSON:cr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function L2(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:cr(new Uint8Array(o.authenticatorData)),clientDataJSON:cr(new Uint8Array(o.clientDataJSON)),signature:cr(new Uint8Array(o.signature)),userHandle:o.userHandle?cr(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function wx(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function lv(){var t,e;return!!(At()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function q2(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ul("Browser returned unexpected credential type",e)}:{data:null,error:new Ul("Empty credential response",e)}}catch(e){return{data:null,error:I2({error:e,options:t})}}}async function B2(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ul("Browser returned unexpected credential type",e)}:{data:null,error:new Ul("Empty credential response",e)}}catch(e){return{data:null,error:z2({error:e,options:t})}}}const H2={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},V2={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ol(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(const o of t)if(o)for(const a in o){const u=o[a];if(u!==void 0)if(Array.isArray(u))r[a]=u;else if(n(u))r[a]=u;else if(e(u)){const d=r[a];e(d)?r[a]=Ol(d,u):r[a]=Ol(u)}else r[a]=u}return r}function G2(t,e){return Ol(H2,t,e||{})}function F2(t,e){return Ol(V2,t,e||{})}class $2{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:o},a){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:d};const p=o??D2.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:f}=u.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(u.webauthn.type){case"create":{const f=G2(u.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:g,error:_}=await q2({publicKey:f,signal:p});return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:_}}case"request":{const f=F2(u.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:g,error:_}=await B2(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:f,signal:p}));return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:_}}}}catch(u){return ye(u)?{data:null,error:u}:{data:null,error:new ur("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!n)return{data:null,error:new Lo("rpId is required for WebAuthn authentication")};try{if(!lv())return{data:null,error:new ur("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:o},{request:a});if(!u)return{data:null,error:d};const{webauthn:p}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:p.type,rpId:n,rpOrigins:r,credential_response:p.credential_response}})}catch(u){return ye(u)?{data:null,error:u}:{data:null,error:new ur("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!n)return{data:null,error:new Lo("rpId is required for WebAuthn registration")};try{if(!lv())return{data:null,error:new ur("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(g=>{var _;return(_=g.data)===null||_===void 0?void 0:_.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===e&&x.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g==null?void 0:g.id}):void 0),{data:null,error:d};const{data:p,error:f}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:o},{create:a});return p?this._verify({factorId:u.id,challengeId:p.challengeId,webauthn:{rpId:n,rpOrigins:r,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:f}}catch(u){return ye(u)?{data:null,error:u}:{data:null,error:new ur("Unexpected error in register",u)}}}}A2();const j2={url:VR,storageKey:GR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:FR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function uv(t,e,n){return await n()}const os={};class qo{get jwks(){var e,n;return(n=(e=os[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){os[this.storageKey]=Object.assign(Object.assign({},os[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=os[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){os[this.storageKey]=Object.assign(Object.assign({},os[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},j2),e);if(this.storageKey=a.storageKey,this.instanceID=(n=qo.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,qo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&At()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new E2({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=_x(a.fetch),this.lock=a.lock||uv,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:At()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=C2:this.lock=uv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new $2(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:vx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=av(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=av(this.memoryStorage)),At()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${mx}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(At()&&(n=r2(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),At()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),XR(a)){const p=(e=a.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:u,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ye(n)?this._returnResult({error:n}):this._returnResult({error:new ur("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,o;try{const a=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:En}),{data:u,error:d}=a;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const p=u.session,f=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:f,session:p},error:null})}catch(a){if(ye(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var n,r,o;try{let a;if("email"in e){const{email:g,password:_,options:x}=e;let w=null,T=null;this.flowType==="pkce"&&([w,T]=await is(this.storage,this.storageKey)),a=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:g,password:_,data:(n=x==null?void 0:x.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:w,code_challenge_method:T},xform:En})}else if("phone"in e){const{phone:g,password:_,options:x}=e;a=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:_,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},channel:(o=x==null?void 0:x.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:En})}else throw new _l("You must provide either an email or phone number and a password");const{data:u,error:d}=a;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const p=u.session,f=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:f,session:p},error:null})}catch(a){if(ye(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:u,options:d}=e;n=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:sv})}else if("phone"in e){const{phone:a,password:u,options:d}=e;n=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:sv})}else throw new _l("You must provide either an email or phone number and a password");const{data:r,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!r||!r.session||!r.user){const a=new ns;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(n){if(ye(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,o,a,u,d,p,f,g,_,x;let w,T;if("message"in e)w=e.message,T=e.signature;else{const{chain:C,wallet:k,statement:N,options:U}=e;let R;if(At())if(typeof k=="object")R=k;else{const te=window;if("ethereum"in te&&typeof te.ethereum=="object"&&"request"in te.ethereum&&typeof te.ethereum.request=="function")R=te.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(U!=null&&U.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=k}const V=new URL((n=U==null?void 0:U.url)!==null&&n!==void 0?n:window.location.href),W=await R.request({method:"eth_requestAccounts"}).then(te=>te).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!W||W.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=bx(W[0]);let F=(r=U==null?void 0:U.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!F){const te=await R.request({method:"eth_chainId"});F=k2(te)}const ie={domain:V.host,address:P,statement:N,uri:V.href,version:"1",chainId:F,nonce:(o=U==null?void 0:U.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(a=U==null?void 0:U.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=U==null?void 0:U.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(p=U==null?void 0:U.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(f=U==null?void 0:U.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(g=U==null?void 0:U.signInWithEthereum)===null||g===void 0?void 0:g.resources};w=R2(ie),T=await R.request({method:"personal_sign",params:[N2(w),P]})}try{const{data:C,error:k}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:T},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:En});if(k)throw k;if(!C||!C.session||!C.user){const N=new ns;return this._returnResult({data:{user:null,session:null},error:N})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:k})}catch(C){if(ye(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async signInWithSolana(e){var n,r,o,a,u,d,p,f,g,_,x,w;let T,C;if("message"in e)T=e.message,C=e.signature;else{const{chain:k,wallet:N,statement:U,options:R}=e;let V;if(At())if(typeof N=="object")V=N;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))V=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=N}const W=new URL((n=R==null?void 0:R.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in V&&V.signIn){const P=await V.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R==null?void 0:R.signInWithSolana),{version:"1",domain:W.host,uri:W.href}),U?{statement:U}:null));let F;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")F=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)F=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)T=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),C=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in V)||typeof V.signMessage!="function"||!("publicKey"in V)||typeof V!="object"||!V.publicKey||!("toBase58"in V.publicKey)||typeof V.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${W.host} wants you to sign in with your Solana account:`,V.publicKey.toBase58(),...U?["",U,""]:[""],"Version: 1",`URI: ${W.href}`,`Issued At: ${(o=(r=R==null?void 0:R.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=R==null?void 0:R.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((u=R==null?void 0:R.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((d=R==null?void 0:R.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((p=R==null?void 0:R.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((f=R==null?void 0:R.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((_=(g=R==null?void 0:R.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||_===void 0)&&_.length?["Resources",...R.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const P=await V.signMessage(new TextEncoder().encode(T),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=P}}try{const{data:k,error:N}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:cr(C)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:En});if(N)throw N;if(!k||!k.session||!k.user){const U=new ns;return this._returnResult({data:{user:null,session:null},error:U})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:N})}catch(k){if(ye(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(e){const n=await sr(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(n??"").split("/");try{const{data:a,error:u}=await we(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:En});if(await zi(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!a||!a.session||!a.user){const d=new ns;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:u})}catch(a){if(ye(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:o,access_token:a,nonce:u}=e,d=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:En}),{data:p,error:f}=d;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!p||!p.session||!p.user){const g=new ns;return this._returnResult({data:{user:null,session:null},error:g})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:f})}catch(n){if(ye(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,o,a,u;try{if("email"in e){const{email:d,options:p}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await is(this.storage,this.storageKey));const{error:_}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(r=p==null?void 0:p.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:f,code_challenge_method:g},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in e){const{phone:d,options:p}=e,{data:f,error:g}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=p==null?void 0:p.data)!==null&&o!==void 0?o:{},create_user:(a=p==null?void 0:p.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(u=p==null?void 0:p.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:g})}throw new _l("You must provide either an email or phone number.")}catch(d){if(ye(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var n,r;try{let o,a;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:d}=await we(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:En});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const p=u.session,f=u.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:f,session:p},error:null})}catch(o){if(ye(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var n,r,o,a,u;try{let d=null,p=null;this.flowType==="pkce"&&([d,p]=await is(this.storage,this.storageKey));const f=await we(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:p}),headers:this.headers,xform:b2});return!((a=f.data)===null||a===void 0)&&a.url&&At()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(d){if(ye(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new nn;const{error:o}=await we(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(ye(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:o,options:a}=e,{error:u}=await we(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:r,type:o,options:a}=e,{data:u,error:d}=await we(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new _l("You must provide either an email or phone number and a type")}catch(n){if(ye(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await sr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Ed:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const u=await sr(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=Ad()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=y2(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Pi}):await this._useSession(async n=>{var r,o,a;const{data:u,error:d}=n;if(d)throw d;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nn}:await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:Pi})})}catch(n){if(ye(n))return KR(n)&&(await this._removeSession(),await zi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:o,error:a}=r;if(a)throw a;if(!o.session)throw new nn;const u=o.session;let d=null,p=null;this.flowType==="pkce"&&e.email!=null&&([d,p]=await is(this.storage,this.storageKey));const{data:f,error:g}=await we(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:p}),jwt:u.access_token,xform:Pi});if(g)throw g;return u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(r){if(ye(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new nn;const n=Date.now()/1e3;let r=n,o=!0,a=null;const{payload:u}=Cd(e.access_token);if(u.exp&&(r=u.exp,o=r<=n),o){const{data:d,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!d)return{data:{user:null,session:null},error:null};a=d}else{const{data:d,error:p}=await this._getUser(e.access_token);if(p)throw p;a={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(ye(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:u,error:d}=n;if(d)throw d;e=(r=u.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new nn;const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ye(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!At())throw new xl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new xl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Wy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Wy("No code detected.");const{data:U,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const V=new URL(window.location.href);return V.searchParams.delete("code"),window.history.replaceState(window.history.state,"",V.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:a,refresh_token:u,expires_in:d,expires_at:p,token_type:f}=e;if(!a||!d||!u||!f)throw new xl("No session defined in URL");const g=Math.round(Date.now()/1e3),_=parseInt(d);let x=g+_;p&&(x=parseInt(p));const w=x-g;w*1e3<=us&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${_}s`);const T=x-_;g-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,x,g):g-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,x,g);const{data:C,error:k}=await this._getUser(a);if(k)throw k;const N={provider_token:r,provider_refresh_token:o,access_token:a,expires_in:_,expires_at:x,refresh_token:u,token_type:f,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:e.type},error:null})}catch(r){if(ye(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await sr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return this._returnResult({error:a});const u=(r=o.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(YR(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await zi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=i2(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,o;try{const{data:{session:a},error:u}=n;if(u)throw u;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await is(this.storage,this.storageKey,!0));try{return await we(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(ye(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(ye(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:o}=await this._useSession(async a=>{var u,d,p,f,g;const{data:_,error:x}=a;if(x)throw x;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await we(this.fetch,"GET",w,{headers:this.headers,jwt:(g=(f=_.session)===null||f===void 0?void 0:f.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return At()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ye(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:o,data:{session:a}}=n;if(o)throw o;const{options:u,provider:d,token:p,access_token:f,nonce:g}=e,_=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:d,id_token:p,access_token:f,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:En}),{data:x,error:w}=_;return w?this._returnResult({data:{user:null,session:null},error:w}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new ns}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:w}))}catch(o){if(ye(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,o;const{data:a,error:u}=n;if(u)throw u;return await we(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(ye(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await a2(async o=>(o>0&&await o2(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await we(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:En})),(o,a)=>{const u=200*Math.pow(2,o);return a&&Td(a)&&Date.now()+u-r<us})}catch(r){if(this._debug(n,"error",r),ye(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),At()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await sr(this.storage,this.storageKey);if(o&&this.userStorage){let u=await sr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await cs(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:Ad()}else if(o&&!o.user&&!o.user){const u=await sr(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(o.user=u.user,await zi(this.storage,this.storageKey+"-user"),await cs(this.storage,this.storageKey,o)):o.user=Ad()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const a=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ed;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Ed}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Td(u)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(o.access_token);!d&&(u!=null&&u.user)?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(r,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new nn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Kl;const{data:a,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!a.session)throw new nn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const d={data:a.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(a){if(this._debug(o,"error",a),ye(a)){const u={data:null,error:a};return Td(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,r=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,n)}catch(p){a.push(p)}});if(await Promise.all(u),a.length>0){for(let d=0;d<a.length;d+=1)console.error(a[d]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await cs(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const a=iv(o);await cs(this.storage,this.storageKey,a)}else{const o=iv(n);await cs(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await zi(this.storage,this.storageKey),await zi(this.storage,this.storageKey+"-code-verifier"),await zi(this.storage,this.storageKey+"-user"),this.userStorage&&await zi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&At()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),us);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-e)/us);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${us}ms, refresh threshold is ${af} ticks`),o<=af&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof xx)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!At()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const o=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,u]=await is(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(d.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);o.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;return a?this._returnResult({data:null,error:a}):await we(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ye(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,o;const{data:a,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:p,error:f}=await we(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&p.type==="totp"&&(!((o=p==null?void 0:p.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(n){if(ye(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?O2(e.webauthn.credential_response):L2(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:p}=await we(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:p}))})}catch(n){if(ye(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const u=await we(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:P2(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:U2(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ye(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const o={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])o.all.push(a),a.status==="verified"&&o[a.factor_type].push(a);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Cd(r.access_token);let u=null;a.aal&&(u=a.aal);let d=u;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const f=a.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:o}=n;return o?this._returnResult({data:null,error:o}):r?await we(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new nn})})}catch(n){if(ye(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:o},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new nn});const u=await we(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&At()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:o},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new nn});const u=await we(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&At()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await we(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new nn})})}catch(e){if(ye(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:o}=n;return o?this._returnResult({data:null,error:o}):r?(await we(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new nn})})}catch(n){if(ye(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(d=>d.kid===e);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(d=>d.kid===e),r&&this.jwks_cached_at+jR>o)return r;const{data:a,error:u}=await we(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,r=a.keys.find(d=>d.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:w,error:T}=await this.getSession();if(T||!w.session)return this._returnResult({data:null,error:T});r=w.session.access_token}const{header:o,payload:a,signature:u,raw:{header:d,payload:p}}=Cd(r);n!=null&&n.allowExpired||p2(a.exp);const f=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:w}=await this.getUser(r);if(w)throw w;return{data:{claims:a,header:o,signature:u},error:null}}const g=m2(o.alg),_=await crypto.subtle.importKey("jwk",f,g,!0,["verify"]);if(!await crypto.subtle.verify(g,_,u,t2(`${d}.${p}`)))throw new cf("Invalid JWT signature");return{data:{claims:a,header:o,signature:u},error:null}}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}}qo.nextInstanceID={};const J2=qo;class Y2 extends J2{constructor(e){super(e)}}class K2{constructor(e,n,r){var o,a,u;this.supabaseUrl=e,this.supabaseKey=n;const d=HR(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const p=`sb-${d.hostname.split(".")[0]}-auth-token`,f={db:MR,realtime:PR,auth:Object.assign(Object.assign({},DR),{storageKey:p}),global:zR},g=BR(r??{},f);this.storageKey=(o=g.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=g.global.headers)!==null&&a!==void 0?a:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(_,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=g.auth)!==null&&u!==void 0?u:{},this.headers,g.global.fetch),this.fetch=LR(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new PN(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new NR(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new IN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:a,storageKey:u,flowType:d,lock:p,debug:f,throwOnError:g},_,x){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Y2({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),_),storageKey:u,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:a,flowType:d,lock:p,debug:f,throwOnError:g,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(T=>T.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new WN(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const X2=(t,e,n)=>new K2(t,e,n);function Q2(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Q2()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const W2="https://cujdzulajfjzoalvxwoh.supabase.co",Z2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN1amR6dWxhamZqem9hbHZ4d29oIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ1MDM4MDEsImV4cCI6MjA4MDA3OTgwMX0.SJK14-kM_61r3igadVFZyBbZmvV8CTn8ZBgHpGmUu54",Mi=X2(W2,Z2),cv="propel_settings",dv={getItem:t=>{try{return typeof window<"u"&&window.localStorage?window.localStorage.getItem(t):null}catch(e){return console.warn("localStorage access denied or failed",e),null}},setItem:(t,e)=>{try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem(t,e)}catch(n){console.warn("localStorage write failed",n)}}},fv=t=>({id:t.id,author:t.author,avatar:t.avatar,text:t.text,date:new Date(t.created_at).toLocaleDateString()}),eI=t=>({id:t.id,title:t.title,product_name:t.productName,short_description:t.shortDescription,version:t.version,sections:t.sections,is_public:t.isPublic,public_settings:t.publicSettings,upvotes:t.upvotes,status:t.status,approval_status:t.approvalStatus,last_updated:t.lastUpdated,created_by:t.createdBy||"anonymous"}),tI=(t,e)=>({id:t.id,title:t.title,productName:t.product_name,shortDescription:t.short_description,version:t.version||"1.0",sections:t.sections,isPublic:t.is_public,publicSettings:t.public_settings,upvotes:t.upvotes,comments:e,lastUpdated:t.last_updated,status:t.status,approvalStatus:t.approval_status,createdAt:t.created_at,createdBy:t.created_by}),ei={fetchPRD:async t=>{try{const{data:e,error:n}=await Mi.from("prds").select("*").eq("id",t).maybeSingle();if(n)return console.error("Error fetching PRD:",n),null;if(!e)return null;const{data:r,error:o}=await Mi.from("comments").select("*").eq("prd_id",t).order("created_at",{ascending:!1});o&&console.error("Error fetching comments:",o);const a=(r||[]).map(fv);return tI(e,a)}catch(e){return console.error("Failed to fetch PRD:",e),null}},savePRD:async t=>{try{const e=eI(t),{error:n}=await Mi.from("prds").upsert(e,{onConflict:"id"});if(n)throw console.error("Error saving PRD:",n),n;return t}catch(e){throw console.error("Failed to save PRD:",e),e}},addComment:async(t,e)=>{try{const n={id:e.id,prd_id:t,author:e.author,avatar:e.avatar,text:e.text},{error:r}=await Mi.from("comments").insert(n);if(r)throw console.error("Error adding comment:",r),r;const{data:o,error:a}=await Mi.from("comments").select("*").eq("prd_id",t).order("created_at",{ascending:!1});if(a)throw console.error("Error fetching comments:",a),a;return(o||[]).map(fv)}catch(n){throw console.error("Failed to add comment:",n),n}},toggleUpvote:async(t,e)=>{try{const{data:n,error:r}=await Mi.from("prds").select("upvotes").eq("id",t).maybeSingle();if(r)throw console.error("Error fetching PRD for upvote:",r),r;if(!n)throw new Error("PRD not found");const o=e?(n.upvotes||0)+1:Math.max(0,(n.upvotes||0)-1),{error:a}=await Mi.from("prds").update({upvotes:o}).eq("id",t);if(a)throw console.error("Error updating upvotes:",a),a;return o}catch(n){throw console.error("Failed to toggle upvote:",n),n}},updateStatus:async(t,e,n,r)=>{try{const{error:o}=await Mi.from("prds").update({approval_status:e}).eq("id",t);if(o)throw console.error("Error updating status:",o),o;r&&await SN(t,e,r.title,n,r.comment,r.approverName,r.approverEmail)}catch(o){throw console.error("Failed to update status:",o),o}},getSettings:()=>{const t=dv.getItem(cv);return t?JSON.parse(t):{geminiModel:"gemini-2.5-flash",geminiApiKey:"",webhookUrl:"",email:""}},saveSettings:t=>{dv.setItem(cv,JSON.stringify(t))}},bl=()=>{try{if(typeof crypto<"u"&&"randomUUID"in crypto)return crypto.randomUUID()}catch{}return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},nI=()=>{try{if(typeof window<"u"&&window.localStorage)return window.localStorage.getItem("theme")}catch{return null}return null},hv=t=>{try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem("theme",t)}catch{}},iI=()=>{const[t,e]=me.useState("landing"),[n,r]=me.useState(!0),o=()=>({id:bl(),title:"New PRD",productName:"",shortDescription:"",version:"1.0",sections:JSON.parse(JSON.stringify(l0)),isPublic:!1,publicSettings:{...u0},upvotes:0,comments:[],lastUpdated:new Date().toISOString(),status:"draft",approvalStatus:"pending"}),[a,u]=me.useState(o()),[d,p]=me.useState({geminiModel:"gemini-2.5-flash",geminiApiKey:"",webhookUrl:"",email:""}),[f,g]=me.useState(!1),[_,x]=me.useState(!1),[w,T]=me.useState(!1),[C,k]=me.useState(!1),[N,U]=me.useState({}),[R,V]=me.useState(!1),[W,P]=me.useState(!1),F=me.useRef(null);me.useEffect(()=>{(async()=>{const ne=nI();(document.documentElement.classList.contains("dark")||ne==="dark")&&(x(!0),document.documentElement.classList.add("dark"));const ee=ei.getSettings();p(ee);const _e=()=>g(window.scrollY>20);window.addEventListener("scroll",_e);const Ue=new URLSearchParams(window.location.search),Me=Ue.get("id"),zt=Ue.get("view");if(Me)try{const rt=await ei.fetchPRD(Me);rt?(u(hr=>({...o(),...rt,publicSettings:{...u0,...rt.publicSettings||{}},sections:l0.map(si=>{const Jt=Array.isArray(rt.sections)?rt.sections.find(oi=>oi.id===si.id):null;return Jt?{...si,content:Jt.content,isEnabled:Jt.isEnabled}:si}),comments:Array.isArray(rt.comments)?rt.comments:[],upvotes:typeof rt.upvotes=="number"?rt.upvotes:0,approvalStatus:rt.approvalStatus||"pending"})),e(zt||(rt.isPublic?"public":"config"))):(console.warn(`PRD with ID ${Me} not found. Starting new.`),e("landing"))}catch(rt){console.error("Failed to fetch PRD from URL",rt)}return r(!1),()=>window.removeEventListener("scroll",_e)})()},[]),me.useEffect(()=>{if(n||t==="landing")return;if(F.current&&clearTimeout(F.current),F.current=setTimeout(()=>{(a.productName||a.sections.some(ee=>ee.content))&&ei.savePRD(a).catch(ee=>console.error("Auto-save failed",ee))},2e3),!new URLSearchParams(window.location.search).get("id")&&a.id){const ee=`${window.location.pathname}?id=${a.id}`;try{window.history.replaceState({},"",ee)}catch(_e){console.warn("History API update failed",_e)}}},[a,n,t]);const ie=()=>{const J=!_;x(J),J?(document.documentElement.classList.add("dark"),hv("dark")):(document.documentElement.classList.remove("dark"),hv("light"))},te=J=>{p(J),ei.saveSettings(J),k(!1)},ue=J=>{u(ne=>({...ne,sections:ne.sections.map(ee=>ee.id===J?{...ee,isEnabled:!ee.isEnabled}:ee)}))},se=(J,ne)=>{u(ee=>({...ee,lastUpdated:new Date().toISOString(),sections:ee.sections.map(_e=>_e.id===J?{..._e,content:ne}:_e)}))},X=(J,ne)=>{u(ee=>({...ee,[J]:ne}))},pe=async J=>{var _e;const ne=(((_e=a.comments)==null?void 0:_e.length)||0)+1,ee={id:bl(),author:`Reviewer ${ne}`,avatar:`https://ui-avatars.com/api/?name=R${ne}&background=71717a&color=ffffff&size=64&bold=true`,text:J,date:new Date().toLocaleDateString()};u(Ue=>({...Ue,comments:[ee,...Ue.comments||[]]}));try{await ei.addComment(a.id,ee)}catch(Ue){console.error("Failed to save comment",Ue)}},de=async()=>{u(J=>({...J,upvotes:(J.upvotes||0)+1}));try{await ei.toggleUpvote(a.id,!0)}catch(J){console.error("Failed to save upvote",J)}},oe=async(J,ne)=>{u(ee=>({...ee,approvalStatus:J}));try{await ei.updateStatus(a.id,J,d.webhookUrl,{title:a.productName,...ne})}catch(ee){console.error("Failed to update status",ee)}},L=J=>{const ne={...J,id:bl(),isPublic:!1,status:"draft",lastUpdated:new Date().toISOString()};u(ne),e("config")},Z=async J=>{try{const ne=await ei.fetchPRD(J);if(!ne)throw new Error("PRD not found");const ee={...ne,id:bl(),isPublic:!1,status:"draft",lastUpdated:new Date().toISOString()};u(ee),e("config")}catch(ne){throw new Error(ne.message||"Failed to import PRD")}},ce=()=>{const J={};return a.sections.forEach(ne=>{ne.isEnabled&&ne.content&&(J[ne.title]=ne.content)}),{productName:a.productName,shortDescription:a.shortDescription,existingSections:J}};return{view:t,setView:e,isLoading:n,prd:a,scrolled:f,isDark:_,toggleTheme:ie,settings:d,isSettingsOpen:C,setIsSettingsOpen:k,handleUpdateSettings:te,handleSectionToggle:ue,updateSectionContent:se,updateContext:X,getGenerationContext:ce,handleGenerateDescription:async()=>{if(!a.productName.trim()){alert("Please enter a product name first.");return}if(!d.geminiApiKey){k(!0);return}V(!0);try{const J=await bN(a.productName,d.geminiApiKey,d.geminiModel);u(ne=>({...ne,shortDescription:J}))}catch(J){console.error(J);const ne=(J==null?void 0:J.message)||"Unknown error occurred";ne.includes("API Key")?(alert("Invalid API Key. Please check your Gemini API key in Settings and try again."),k(!0)):alert(`Failed to generate description: ${ne}`)}finally{V(!1)}},handleGenerateSection:async(J,ne)=>{if(!a.productName.trim()){alert("Please enter a product name and description before generating sections.");return}if(!d.geminiApiKey){k(!0);return}U(ee=>({...ee,[J]:!0}));try{const ee=await Py(ne,ce(),d.geminiApiKey,d.geminiModel);se(J,ee)}catch(ee){console.error(`Failed to generate ${ne}`,ee);const _e=(ee==null?void 0:ee.message)||"Unknown error occurred";_e.includes("API Key")?(alert("Invalid API Key. Please check your Gemini API key in Settings and try again."),k(!0)):alert(`Failed to generate ${ne}: ${_e}`)}finally{U(ee=>({...ee,[J]:!1}))}},handleGenerateAll:async()=>{if(!a.productName.trim()){alert("Please enter a product name and description before generating content.");return}if(!d.geminiApiKey){k(!0);return}P(!0);const J=a.sections.filter(ne=>ne.isEnabled&&!ne.content);for(const ne of J){U(ee=>({...ee,[ne.id]:!0}));try{const ee=ce(),_e=await Py(ne.title,ee,d.geminiApiKey,d.geminiModel);u(Ue=>({...Ue,lastUpdated:new Date().toISOString(),sections:Ue.sections.map(Me=>Me.id===ne.id?{...Me,content:_e}:Me)}))}catch(ee){console.error(ee)}finally{U(ee=>({...ee,[ne.id]:!1}))}}P(!1)},initiatePublish:()=>{T(!0)},confirmPublish:async J=>{const ne={...a,isPublic:!0,status:"published",publicSettings:J};u(ne),await ei.savePRD(ne),T(!1),e("public");const ee=`${window.location.pathname}?id=${a.id}&view=public`;try{window.history.pushState({},"",ee)}catch(_e){console.warn("History API failed",_e)}},isPublishModalOpen:w,setIsPublishModalOpen:T,handlePublicComment:pe,handlePublicUpvote:de,handleStatusChange:oe,handleImportPRD:L,handleImportById:Z,loadingStates:{generatingSections:N,isGeneratingDescription:R,isGeneratingAll:W}}};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sI=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),pv=t=>{const e=sI(t);return e.charAt(0).toUpperCase()+e.slice(1)},Sx=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),oI=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=me.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:u,...d},p)=>me.createElement("svg",{ref:p,...aI,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Sx("lucide",o),...!a&&!oI(d)&&{"aria-hidden":"true"},...d},[...u.map(([f,g])=>me.createElement(f,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=(t,e)=>{const n=me.forwardRef(({className:r,...o},a)=>me.createElement(lI,{ref:a,iconNode:e,className:Sx(`lucide-${rI(pv(t))}`,`lucide-${t}`,r),...o}));return n.displayName=pv(t),n};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ex=ve("arrow-left",uI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],dI=ve("arrow-up",cI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],hI=ve("book-open",fI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],mI=ve("bot",pI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],yI=ve("brain",gI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],_I=ve("calendar",vI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],bI=ve("chart-no-axes-column",xI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gs=ve("check",wI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Tx=ve("chevron-down",SI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],qf=ve("chevron-right",EI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],CI=ve("chevron-up",TI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ll=ve("circle-alert",AI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Cx=ve("circle-check",kI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],RI=ve("command",NI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],zI=ve("cpu",II);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],DI=ve("database",MI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],UI=ve("download",PI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],LI=ve("eraser",OI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ql=ve("eye",qI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],HI=ve("file-braces",BI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],GI=ve("file-code",VI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Fo=ve("file-text",FI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M11 18h2",key:"12mj7e"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M9 13v-.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v.5",key:"qbrxap"}]],jI=ve("file-type",$I);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],YI=ve("file",JI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Ax=ve("key",KI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]],QI=ve("layout-template",XI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],ZI=ve("list-checks",WI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],tz=ve("list",ez);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Bf=ve("loader-circle",nz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],kx=ve("mail",iz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],sz=ve("maximize-2",rz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],az=ve("message-square",oz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],uz=ve("minimize-2",lz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Nx=ve("moon",cz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],fz=ve("palette",dz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],pz=ve("panels-top-left",hz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],gz=ve("pen-line",mz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Bl=ve("refresh-cw",yz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],_z=ve("rocket",vz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],bz=ve("save",xz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Hf=ve("settings-2",wz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Rx=ve("settings",Sz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Tz=ve("share-2",Ez);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Ix=ve("shield-alert",Cz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Bo=ve("shield-check",Az);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ys=ve("sparkles",kz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],zx=ve("sun",Nz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Iz=ve("target",Rz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],Mz=ve("terminal",zz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],Mx=ve("thumbs-up",Dz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Uz=ve("upload",Pz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"M2 21a8 8 0 0 1 11.873-7",key:"74fkxq"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"m17 17 5 5",key:"p7ous7"}],["path",{d:"m22 17-5 5",key:"gqnmv0"}]],Lz=ve("user-round-x",Oz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Bz=ve("user",qz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Vz=ve("users",Hz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],Dx=ve("wand-sparkles",Gz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]],Px=ve("webhook",Fz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Cs=ve("x",$z);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ux=ve("zap",jz),gt=({children:t,variant:e="primary",size:n="md",isLoading:r=!1,leftIcon:o,rightIcon:a,className:u="",disabled:d,...p})=>{const f="inline-flex items-center justify-center rounded-full font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-900 dark:focus-visible:ring-zinc-100 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed ring-offset-white dark:ring-offset-zinc-950 active:scale-[0.98]",g={primary:"bg-zinc-900 text-white hover:bg-zinc-800 shadow-lg shadow-zinc-900/20 border border-transparent dark:bg-zinc-50 dark:text-zinc-950 dark:hover:bg-zinc-200",secondary:"bg-white text-zinc-900 border border-zinc-200 hover:border-zinc-300 hover:bg-zinc-50 shadow-sm text-zinc-700 hover:text-zinc-900 dark:bg-zinc-800 dark:text-zinc-100 dark:border-zinc-700 dark:hover:bg-zinc-700 dark:hover:border-zinc-600",outline:"bg-transparent border border-zinc-300 text-zinc-700 hover:border-zinc-400 hover:bg-zinc-50 hover:text-zinc-900 dark:border-zinc-700 dark:text-zinc-300 dark:hover:bg-zinc-800 dark:hover:text-zinc-100",ghost:"hover:bg-zinc-100 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:bg-zinc-800 dark:hover:text-zinc-100"},_={sm:"h-9 px-4 text-xs tracking-wide",md:"h-11 px-6 text-sm font-medium",lg:"h-14 px-8 text-base font-semibold"};return b.jsxs("button",{className:`${f} ${g[e]} ${_[n]} ${u}`,disabled:r||d,...p,children:[r?b.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[b.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),b.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):o?b.jsx("span",{className:"mr-2 opacity-90",children:o}):null,t,a&&!r&&b.jsx("span",{className:"ml-2 opacity-90",children:a})]})},Jz=({scrolled:t,view:e,setView:n,isDark:r,toggleTheme:o,onPublish:a,onOpenSettings:u,hasApiKey:d})=>{const p=[{id:"config",label:"Structure",icon:b.jsx(Hf,{size:16})},{id:"edit",label:"Write",icon:b.jsx(Fo,{size:16})},{id:"preview",label:"Preview",icon:b.jsx(ql,{size:16})}];return e==="public"?null:b.jsx("header",{className:`
      sticky top-0 z-30 transition-all duration-300
      ${t?"bg-white/90 dark:bg-zinc-950/90 backdrop-blur-md shadow-sm border-b border-zinc-200 dark:border-zinc-800":"bg-transparent pt-6 pb-2"}
    `,children:b.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 h-20 flex items-center justify-between",children:[b.jsx("div",{className:"flex items-center gap-2.5",children:b.jsx("button",{onClick:()=>n("landing"),className:"text-xl font-bold text-zinc-900 dark:text-white tracking-tight hover:opacity-70 transition-opacity",children:"GZPRD"})}),b.jsx("div",{className:"hidden md:flex items-center p-1.5 bg-zinc-200/50 dark:bg-zinc-800/50 rounded-full border border-zinc-200/60 dark:border-zinc-800 backdrop-blur-sm",children:p.map(f=>{const g=e===f.id;return b.jsxs("button",{onClick:()=>n(f.id),className:`
                          flex items-center gap-2.5 px-8 py-2.5 rounded-full text-sm font-semibold transition-all duration-200
                          ${g?"bg-white dark:bg-zinc-950 text-zinc-900 dark:text-white shadow-sm ring-1 ring-zinc-900/5 dark:ring-zinc-100/10":"text-zinc-500 dark:text-zinc-400 hover:text-zinc-700 dark:hover:text-zinc-200 hover:bg-zinc-200/50 dark:hover:bg-zinc-700/50"}
                      `,children:[f.icon,f.label]},f.id)})}),b.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[b.jsx("button",{onClick:o,className:"w-10 h-10 rounded-full flex items-center justify-center text-zinc-500 dark:text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-800 transition-colors",children:r?b.jsx(zx,{size:20}):b.jsx(Nx,{size:20})}),b.jsxs("button",{onClick:u,className:"relative w-10 h-10 rounded-full flex items-center justify-center text-zinc-500 dark:text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-800 transition-colors",title:d?"Settings":"Configure API Key",children:[b.jsx(Rx,{size:20}),!d&&b.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-amber-500 rounded-full border-2 border-white dark:border-zinc-950 animate-pulse"})]}),e==="preview"?b.jsx(gt,{onClick:a,variant:"primary",size:"md",rightIcon:b.jsx(qf,{size:18}),children:"Publish"}):b.jsx(gt,{onClick:()=>n("preview"),variant:"secondary",size:"md",className:"hidden sm:inline-flex",children:"Preview"})]})]})})},Yz=({onDismiss:t,onOpenSettings:e})=>b.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-950/30 dark:to-orange-950/30 border-b border-amber-200 dark:border-amber-800/50 animate-enter",children:b.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:b.jsxs("div",{className:"flex items-start gap-4",children:[b.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-amber-100 dark:bg-amber-900/50 flex items-center justify-center",children:b.jsx(Ll,{size:20,className:"text-amber-600 dark:text-amber-400"})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("h3",{className:"text-sm font-bold text-amber-900 dark:text-amber-100 mb-1",children:"API Key Required for AI Features"}),b.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300 leading-relaxed mb-3",children:"To use AI-powered content generation, you need to configure your Gemini API key. Get a free API key from Google AI Studio and add it in Settings."}),b.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[b.jsx(gt,{size:"sm",variant:"secondary",onClick:e,leftIcon:b.jsx(Rx,{size:14}),className:"bg-amber-600 dark:bg-amber-700 text-white border-amber-600 dark:border-amber-700 hover:bg-amber-700 dark:hover:bg-amber-600",children:"Configure API Key"}),b.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-xs font-semibold text-amber-700 dark:text-amber-300 hover:text-amber-900 dark:hover:text-amber-100 underline",children:"Get Free API Key "})]})]}),b.jsx("button",{onClick:t,className:"flex-shrink-0 p-1.5 text-amber-600 dark:text-amber-400 hover:text-amber-900 dark:hover:text-amber-100 hover:bg-amber-100 dark:hover:bg-amber-900/50 rounded-lg transition-colors","aria-label":"Dismiss banner",children:b.jsx(Cs,{size:18})})]})})}),mv=t=>{switch(t){case"executive_summary":return b.jsx(QI,{size:20});case"problem_statement":return b.jsx(Ll,{size:20});case"goals_objectives":return b.jsx(Iz,{size:20});case"target_audience":return b.jsx(Vz,{size:20});case"user_stories":return b.jsx(hI,{size:20});case"features_requirements":return b.jsx(ZI,{size:20});case"technical_requirements":return b.jsx(DI,{size:20});case"design_requirements":return b.jsx(fz,{size:20});case"timeline_milestones":return b.jsx(_I,{size:20});case"success_metrics":return b.jsx(bI,{size:20});case"risks":return b.jsx(Ix,{size:20});default:return b.jsx(Fo,{size:20})}},Kz=({sections:t,onToggle:e})=>b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5 auto-rows-fr",children:t.map(n=>(mv(n.id),b.jsxs("div",{onClick:()=>e(n.id),className:`
              group relative p-6 rounded-2xl cursor-pointer transition-all duration-300 ease-out
              flex flex-col min-h-[180px]
              ${n.isEnabled?"bg-white dark:bg-zinc-900 ring-2 ring-zinc-900 dark:ring-zinc-100 shadow-xl shadow-zinc-200/50 dark:shadow-black/50 transform -translate-y-1":"bg-white dark:bg-zinc-800/40 border border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-800 hover:shadow-md"}
            `,children:[b.jsxs("div",{className:"flex items-start justify-between mb-5",children:[b.jsx("div",{className:`
                p-3 rounded-xl transition-colors duration-300
                ${n.isEnabled?"bg-zinc-900 text-white dark:bg-zinc-50 dark:text-zinc-900":"bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 text-zinc-500 dark:text-zinc-500 group-hover:text-zinc-700 dark:group-hover:text-zinc-300 group-hover:border-zinc-300"}
              `,children:mv(n.id)}),b.jsx("div",{className:`
                w-6 h-6 rounded-full flex items-center justify-center transition-all duration-300
                ${n.isEnabled?"bg-zinc-900 text-white dark:bg-zinc-50 dark:text-zinc-900 scale-100":"border-2 border-zinc-200 dark:border-zinc-700 text-transparent scale-90 group-hover:border-zinc-300"}
              `,children:b.jsx(gs,{size:14,strokeWidth:3})})]}),b.jsxs("div",{className:"flex-1 flex flex-col",children:[b.jsx("h3",{className:`font-bold text-lg mb-2 transition-colors ${n.isEnabled?"text-zinc-900 dark:text-zinc-50":"text-zinc-700 dark:text-zinc-400"}`,children:n.title}),b.jsx("p",{className:`text-sm leading-relaxed transition-colors ${n.isEnabled?"text-zinc-600 dark:text-zinc-300":"text-zinc-500 dark:text-zinc-500"}`,children:n.description})]})]},n.id)))}),Xz=({prd:t,onSectionToggle:e,onNext:n})=>b.jsxs("div",{className:"animate-enter space-y-10 md:space-y-16 max-w-4xl mx-auto",children:[b.jsxs("div",{className:"text-center space-y-4 mb-10 md:mb-16",children:[b.jsx("h1",{className:"text-3xl md:text-5xl font-extrabold text-zinc-900 dark:text-white tracking-tight leading-tight",children:"What's in your PRD?"}),b.jsx("p",{className:"text-base md:text-xl text-zinc-500 dark:text-zinc-400 max-w-lg mx-auto leading-relaxed font-light",children:"Select the sections you need. GZPRD will help you fill them out with intelligent suggestions."})]}),b.jsx(Kz,{sections:t.sections,onToggle:e}),b.jsx("div",{className:"flex justify-center pt-10",children:b.jsx(gt,{size:"lg",rightIcon:b.jsx(qf,{size:18}),onClick:n,className:"shadow-xl shadow-zinc-200/50 dark:shadow-zinc-900/50",children:"Start Writing"})})]});var Qz=t_();function Wz(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Zz=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,eM=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,tM={};function gv(t,e){return(tM.jsx?eM:Zz).test(t)}const nM=/[ \t\n\f\r]/g;function iM(t){return typeof t=="object"?t.type==="text"?yv(t.value):!1:yv(t)}function yv(t){return t.replace(nM,"")===""}class $o{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}$o.prototype.normal={};$o.prototype.property={};$o.prototype.space=void 0;function Ox(t,e){const n={},r={};for(const o of t)Object.assign(n,o.property),Object.assign(r,o.normal);return new $o(n,r,e)}function df(t){return t.toLowerCase()}class jt{constructor(e,n){this.attribute=n,this.property=e}}jt.prototype.attribute="";jt.prototype.booleanish=!1;jt.prototype.boolean=!1;jt.prototype.commaOrSpaceSeparated=!1;jt.prototype.commaSeparated=!1;jt.prototype.defined=!1;jt.prototype.mustUseProperty=!1;jt.prototype.number=!1;jt.prototype.overloadedBoolean=!1;jt.prototype.property="";jt.prototype.spaceSeparated=!1;jt.prototype.space=void 0;let rM=0;const ke=fr(),pt=fr(),ff=fr(),re=fr(),We=fr(),vs=fr(),rn=fr();function fr(){return 2**++rM}const hf=Object.freeze(Object.defineProperty({__proto__:null,boolean:ke,booleanish:pt,commaOrSpaceSeparated:rn,commaSeparated:vs,number:re,overloadedBoolean:ff,spaceSeparated:We},Symbol.toStringTag,{value:"Module"})),Nd=Object.keys(hf);class Vf extends jt{constructor(e,n,r,o){let a=-1;if(super(e,n),vv(this,"space",o),typeof r=="number")for(;++a<Nd.length;){const u=Nd[a];vv(this,Nd[a],(r&hf[u])===hf[u])}}}Vf.prototype.defined=!0;function vv(t,e,n){n&&(t[e]=n)}function As(t){const e={},n={};for(const[r,o]of Object.entries(t.properties)){const a=new Vf(r,t.transform(t.attributes||{},r),o,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[df(r)]=r,n[df(a.attribute)]=r}return new $o(e,n,t.space)}const Lx=As({properties:{ariaActiveDescendant:null,ariaAtomic:pt,ariaAutoComplete:null,ariaBusy:pt,ariaChecked:pt,ariaColCount:re,ariaColIndex:re,ariaColSpan:re,ariaControls:We,ariaCurrent:null,ariaDescribedBy:We,ariaDetails:null,ariaDisabled:pt,ariaDropEffect:We,ariaErrorMessage:null,ariaExpanded:pt,ariaFlowTo:We,ariaGrabbed:pt,ariaHasPopup:null,ariaHidden:pt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:We,ariaLevel:re,ariaLive:null,ariaModal:pt,ariaMultiLine:pt,ariaMultiSelectable:pt,ariaOrientation:null,ariaOwns:We,ariaPlaceholder:null,ariaPosInSet:re,ariaPressed:pt,ariaReadOnly:pt,ariaRelevant:null,ariaRequired:pt,ariaRoleDescription:We,ariaRowCount:re,ariaRowIndex:re,ariaRowSpan:re,ariaSelected:pt,ariaSetSize:re,ariaSort:null,ariaValueMax:re,ariaValueMin:re,ariaValueNow:re,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function qx(t,e){return e in t?t[e]:e}function Bx(t,e){return qx(t,e.toLowerCase())}const sM=As({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:vs,acceptCharset:We,accessKey:We,action:null,allow:null,allowFullScreen:ke,allowPaymentRequest:ke,allowUserMedia:ke,alt:null,as:null,async:ke,autoCapitalize:null,autoComplete:We,autoFocus:ke,autoPlay:ke,blocking:We,capture:null,charSet:null,checked:ke,cite:null,className:We,cols:re,colSpan:null,content:null,contentEditable:pt,controls:ke,controlsList:We,coords:re|vs,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ke,defer:ke,dir:null,dirName:null,disabled:ke,download:ff,draggable:pt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ke,formTarget:null,headers:We,height:re,hidden:ff,high:re,href:null,hrefLang:null,htmlFor:We,httpEquiv:We,id:null,imageSizes:null,imageSrcSet:null,inert:ke,inputMode:null,integrity:null,is:null,isMap:ke,itemId:null,itemProp:We,itemRef:We,itemScope:ke,itemType:We,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ke,low:re,manifest:null,max:null,maxLength:re,media:null,method:null,min:null,minLength:re,multiple:ke,muted:ke,name:null,nonce:null,noModule:ke,noValidate:ke,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ke,optimum:re,pattern:null,ping:We,placeholder:null,playsInline:ke,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ke,referrerPolicy:null,rel:We,required:ke,reversed:ke,rows:re,rowSpan:re,sandbox:We,scope:null,scoped:ke,seamless:ke,selected:ke,shadowRootClonable:ke,shadowRootDelegatesFocus:ke,shadowRootMode:null,shape:null,size:re,sizes:null,slot:null,span:re,spellCheck:pt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:re,step:null,style:null,tabIndex:re,target:null,title:null,translate:null,type:null,typeMustMatch:ke,useMap:null,value:pt,width:re,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:We,axis:null,background:null,bgColor:null,border:re,borderColor:null,bottomMargin:re,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ke,declare:ke,event:null,face:null,frame:null,frameBorder:null,hSpace:re,leftMargin:re,link:null,longDesc:null,lowSrc:null,marginHeight:re,marginWidth:re,noResize:ke,noHref:ke,noShade:ke,noWrap:ke,object:null,profile:null,prompt:null,rev:null,rightMargin:re,rules:null,scheme:null,scrolling:pt,standby:null,summary:null,text:null,topMargin:re,valueType:null,version:null,vAlign:null,vLink:null,vSpace:re,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ke,disableRemotePlayback:ke,prefix:null,property:null,results:re,security:null,unselectable:null},space:"html",transform:Bx}),oM=As({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:rn,accentHeight:re,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:re,amplitude:re,arabicForm:null,ascent:re,attributeName:null,attributeType:null,azimuth:re,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:re,by:null,calcMode:null,capHeight:re,className:We,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:re,diffuseConstant:re,direction:null,display:null,dur:null,divisor:re,dominantBaseline:null,download:ke,dx:null,dy:null,edgeMode:null,editable:null,elevation:re,enableBackground:null,end:null,event:null,exponent:re,externalResourcesRequired:null,fill:null,fillOpacity:re,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:vs,g2:vs,glyphName:vs,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:re,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:re,horizOriginX:re,horizOriginY:re,id:null,ideographic:re,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:re,k:re,k1:re,k2:re,k3:re,k4:re,kernelMatrix:rn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:re,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:re,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:re,overlineThickness:re,paintOrder:null,panose1:null,path:null,pathLength:re,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:We,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:re,pointsAtY:re,pointsAtZ:re,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:rn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:rn,rev:rn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:rn,requiredFeatures:rn,requiredFonts:rn,requiredFormats:rn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:re,specularExponent:re,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:re,strikethroughThickness:re,string:null,stroke:null,strokeDashArray:rn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:re,strokeOpacity:re,strokeWidth:null,style:null,surfaceScale:re,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:rn,tabIndex:re,tableValues:null,target:null,targetX:re,targetY:re,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:rn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:re,underlineThickness:re,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:re,values:null,vAlphabetic:re,vMathematical:re,vectorEffect:null,vHanging:re,vIdeographic:re,version:null,vertAdvY:re,vertOriginX:re,vertOriginY:re,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:re,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:qx}),Hx=As({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),Vx=As({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Bx}),Gx=As({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),aM={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},lM=/[A-Z]/g,_v=/-[a-z]/g,uM=/^data[-\w.:]+$/i;function cM(t,e){const n=df(e);let r=e,o=jt;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&uM.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(_v,fM);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!_v.test(a)){let u=a.replace(lM,dM);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}o=Vf}return new o(r,e)}function dM(t){return"-"+t.toLowerCase()}function fM(t){return t.charAt(1).toUpperCase()}const hM=Ox([Lx,sM,Hx,Vx,Gx],"html"),Gf=Ox([Lx,oM,Hx,Vx,Gx],"svg");function pM(t){return t.join(" ").trim()}var as={},Rd,xv;function mM(){if(xv)return Rd;xv=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,d=/^\s+|\s+$/g,p=`
`,f="/",g="*",_="",x="comment",w="declaration";function T(k,N){if(typeof k!="string")throw new TypeError("First argument must be a string");if(!k)return[];N=N||{};var U=1,R=1;function V(de){var oe=de.match(e);oe&&(U+=oe.length);var L=de.lastIndexOf(p);R=~L?de.length-L:R+de.length}function W(){var de={line:U,column:R};return function(oe){return oe.position=new P(de),te(),oe}}function P(de){this.start=de,this.end={line:U,column:R},this.source=N.source}P.prototype.content=k;function F(de){var oe=new Error(N.source+":"+U+":"+R+": "+de);if(oe.reason=de,oe.filename=N.source,oe.line=U,oe.column=R,oe.source=k,!N.silent)throw oe}function ie(de){var oe=de.exec(k);if(oe){var L=oe[0];return V(L),k=k.slice(L.length),oe}}function te(){ie(n)}function ue(de){var oe;for(de=de||[];oe=se();)oe!==!1&&de.push(oe);return de}function se(){var de=W();if(!(f!=k.charAt(0)||g!=k.charAt(1))){for(var oe=2;_!=k.charAt(oe)&&(g!=k.charAt(oe)||f!=k.charAt(oe+1));)++oe;if(oe+=2,_===k.charAt(oe-1))return F("End of comment missing");var L=k.slice(2,oe-2);return R+=2,V(L),k=k.slice(oe),R+=2,de({type:x,comment:L})}}function X(){var de=W(),oe=ie(r);if(oe){if(se(),!ie(o))return F("property missing ':'");var L=ie(a),Z=de({type:w,property:C(oe[0].replace(t,_)),value:L?C(L[0].replace(t,_)):_});return ie(u),Z}}function pe(){var de=[];ue(de);for(var oe;oe=X();)oe!==!1&&(de.push(oe),ue(de));return de}return te(),pe()}function C(k){return k?k.replace(d,_):_}return Rd=T,Rd}var bv;function gM(){if(bv)return as;bv=1;var t=as&&as.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(as,"__esModule",{value:!0}),as.default=n;const e=t(mM());function n(r,o){let a=null;if(!r||typeof r!="string")return a;const u=(0,e.default)(r),d=typeof o=="function";return u.forEach(p=>{if(p.type!=="declaration")return;const{property:f,value:g}=p;d?o(f,g,p):g&&(a=a||{},a[f]=g)}),a}return as}var To={},wv;function yM(){if(wv)return To;wv=1,Object.defineProperty(To,"__esModule",{value:!0}),To.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,a=function(f){return!f||n.test(f)||t.test(f)},u=function(f,g){return g.toUpperCase()},d=function(f,g){return"".concat(g,"-")},p=function(f,g){return g===void 0&&(g={}),a(f)?f:(f=f.toLowerCase(),g.reactCompat?f=f.replace(o,d):f=f.replace(r,d),f.replace(e,u))};return To.camelCase=p,To}var Co,Sv;function vM(){if(Sv)return Co;Sv=1;var t=Co&&Co.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},e=t(gM()),n=yM();function r(o,a){var u={};return!o||typeof o!="string"||(0,e.default)(o,function(d,p){d&&p&&(u[(0,n.camelCase)(d,a)]=p)}),u}return r.default=r,Co=r,Co}var _M=vM();const xM=Vo(_M),Fx=$x("end"),Ff=$x("start");function $x(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function bM(t){const e=Ff(t),n=Fx(t);if(e&&n)return{start:e,end:n}}function Mo(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Ev(t.position):"start"in t||"end"in t?Ev(t):"line"in t||"column"in t?pf(t):""}function pf(t){return Tv(t&&t.line)+":"+Tv(t&&t.column)}function Ev(t){return pf(t&&t.start)+"-"+pf(t&&t.end)}function Tv(t){return t&&typeof t=="number"?t:1}class It extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let o="",a={},u=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?o=e:!a.cause&&e&&(u=!0,o=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const p=r.indexOf(":");p===-1?a.ruleId=r:(a.source=r.slice(0,p),a.ruleId=r.slice(p+1))}if(!a.place&&a.ancestors&&a.ancestors){const p=a.ancestors[a.ancestors.length-1];p&&(a.place=p.position)}const d=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=d?d.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=d?d.line:void 0,this.name=Mo(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=u&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}It.prototype.file="";It.prototype.name="";It.prototype.reason="";It.prototype.message="";It.prototype.stack="";It.prototype.column=void 0;It.prototype.line=void 0;It.prototype.ancestors=void 0;It.prototype.cause=void 0;It.prototype.fatal=void 0;It.prototype.place=void 0;It.prototype.ruleId=void 0;It.prototype.source=void 0;const $f={}.hasOwnProperty,wM=new Map,SM=/[A-Z]/g,EM=new Set(["table","tbody","thead","tfoot","tr"]),TM=new Set(["td","th"]),jx="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function CM(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=DM(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=MM(n,e.jsx,e.jsxs)}const o={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Gf:hM,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=Jx(o,t,void 0);return a&&typeof a!="string"?a:o.create(t,o.Fragment,{children:a||void 0},void 0)}function Jx(t,e,n){if(e.type==="element")return AM(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return kM(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return RM(t,e,n);if(e.type==="mdxjsEsm")return NM(t,e);if(e.type==="root")return IM(t,e,n);if(e.type==="text")return zM(t,e)}function AM(t,e,n){const r=t.schema;let o=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(o=Gf,t.schema=o),t.ancestors.push(e);const a=Kx(t,e.tagName,!1),u=PM(t,e);let d=Jf(t,e);return EM.has(e.tagName)&&(d=d.filter(function(p){return typeof p=="string"?!iM(p):!0})),Yx(t,u,a,e),jf(u,d),t.ancestors.pop(),t.schema=r,t.create(e,a,u,n)}function kM(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Ho(t,e.position)}function NM(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Ho(t,e.position)}function RM(t,e,n){const r=t.schema;let o=r;e.name==="svg"&&r.space==="html"&&(o=Gf,t.schema=o),t.ancestors.push(e);const a=e.name===null?t.Fragment:Kx(t,e.name,!0),u=UM(t,e),d=Jf(t,e);return Yx(t,u,a,e),jf(u,d),t.ancestors.pop(),t.schema=r,t.create(e,a,u,n)}function IM(t,e,n){const r={};return jf(r,Jf(t,e)),t.create(e,t.Fragment,r,n)}function zM(t,e){return e.value}function Yx(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function jf(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function MM(t,e,n){return r;function r(o,a,u,d){const f=Array.isArray(u.children)?n:e;return d?f(a,u,d):f(a,u)}}function DM(t,e){return n;function n(r,o,a,u){const d=Array.isArray(a.children),p=Ff(r);return e(o,a,u,d,{columnNumber:p?p.column-1:void 0,fileName:t,lineNumber:p?p.line:void 0},void 0)}}function PM(t,e){const n={};let r,o;for(o in e.properties)if(o!=="children"&&$f.call(e.properties,o)){const a=OM(t,o,e.properties[o]);if(a){const[u,d]=a;t.tableCellAlignToStyle&&u==="align"&&typeof d=="string"&&TM.has(e.tagName)?r=d:n[u]=d}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function UM(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const u=a.expression;u.type;const d=u.properties[0];d.type,Object.assign(n,t.evaluater.evaluateExpression(d.argument))}else Ho(t,e.position);else{const o=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const d=r.value.data.estree.body[0];d.type,a=t.evaluater.evaluateExpression(d.expression)}else Ho(t,e.position);else a=r.value===null?!0:r.value;n[o]=a}return n}function Jf(t,e){const n=[];let r=-1;const o=t.passKeys?new Map:wM;for(;++r<e.children.length;){const a=e.children[r];let u;if(t.passKeys){const p=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(p){const f=o.get(p)||0;u=p+"-"+f,o.set(p,f+1)}}const d=Jx(t,a,u);d!==void 0&&n.push(d)}return n}function OM(t,e,n){const r=cM(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Wz(n):pM(n)),r.property==="style"){let o=typeof n=="object"?n:LM(t,String(n));return t.stylePropertyNameCase==="css"&&(o=qM(o)),["style",o]}return[t.elementAttributeNameCase==="react"&&r.space?aM[r.property]||r.property:r.attribute,n]}}function LM(t,e){try{return xM(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,o=new It("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=t.filePath||void 0,o.url=jx+"#cannot-parse-style-attribute",o}}function Kx(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const o=e.split(".");let a=-1,u;for(;++a<o.length;){const d=gv(o[a])?{type:"Identifier",name:o[a]}:{type:"Literal",value:o[a]};u=u?{type:"MemberExpression",object:u,property:d,computed:!!(a&&d.type==="Literal"),optional:!1}:d}r=u}else r=gv(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const o=r.value;return $f.call(t.components,o)?t.components[o]:o}if(t.evaluater)return t.evaluater.evaluateExpression(r);Ho(t)}function Ho(t,e){const n=new It("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=jx+"#cannot-handle-mdx-estrees-without-createevaluater",n}function qM(t){const e={};let n;for(n in t)$f.call(t,n)&&(e[BM(n)]=t[n]);return e}function BM(t){let e=t.replace(SM,HM);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function HM(t){return"-"+t.toLowerCase()}const Id={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},VM={};function GM(t,e){const n=VM,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Xx(t,r,o)}function Xx(t,e,n){if(FM(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Cv(t.children,e,n)}return Array.isArray(t)?Cv(t,e,n):""}function Cv(t,e,n){const r=[];let o=-1;for(;++o<t.length;)r[o]=Xx(t[o],e,n);return r.join("")}function FM(t){return!!(t&&typeof t=="object")}const Av=document.createElement("i");function Yf(t){const e="&"+t+";";Av.innerHTML=e;const n=Av.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Dn(t,e,n,r){const o=t.length;let a=0,u;if(e<0?e=-e>o?0:o+e:e=e>o?o:e,n=n>0?n:0,r.length<1e4)u=Array.from(r),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);a<r.length;)u=r.slice(a,a+1e4),u.unshift(e,0),t.splice(...u),a+=1e4,e+=1e4}function vn(t,e){return t.length>0?(Dn(t,t.length,0,e),t):e}const kv={}.hasOwnProperty;function $M(t){const e={};let n=-1;for(;++n<t.length;)jM(e,t[n]);return e}function jM(t,e){let n;for(n in e){const o=(kv.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let u;if(a)for(u in a){kv.call(o,u)||(o[u]=[]);const d=a[u];JM(o[u],Array.isArray(d)?d:d?[d]:[])}}}function JM(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Dn(t,0,0,r)}function Qx(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function _s(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Mn=qi(/[A-Za-z]/),an=qi(/[\dA-Za-z]/),YM=qi(/[#-'*+\--9=?A-Z^-~]/);function mf(t){return t!==null&&(t<32||t===127)}const gf=qi(/\d/),KM=qi(/[\dA-Fa-f]/),XM=qi(/[!-/:-@[-`{-~]/);function Ee(t){return t!==null&&t<-2}function $t(t){return t!==null&&(t<0||t===32)}function Ve(t){return t===-2||t===-1||t===32}const QM=qi(new RegExp("\\p{P}|\\p{S}","u")),WM=qi(/\s/);function qi(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function ks(t){const e=[];let n=-1,r=0,o=0;for(;++n<t.length;){const a=t.charCodeAt(n);let u="";if(a===37&&an(t.charCodeAt(n+1))&&an(t.charCodeAt(n+2)))o=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(u=String.fromCharCode(a));else if(a>55295&&a<57344){const d=t.charCodeAt(n+1);a<56320&&d>56319&&d<57344?(u=String.fromCharCode(a,d),o=1):u=""}else u=String.fromCharCode(a);u&&(e.push(t.slice(r,n),encodeURIComponent(u)),r=n+o+1,u=""),o&&(n+=o,o=0)}return e.join("")+t.slice(r)}function Ze(t,e,n,r){const o=r?r-1:Number.POSITIVE_INFINITY;let a=0;return u;function u(p){return Ve(p)?(t.enter(n),d(p)):e(p)}function d(p){return Ve(p)&&a++<o?(t.consume(p),d):(t.exit(n),e(p))}}const ZM={tokenize:eD};function eD(t){const e=t.attempt(this.parser.constructs.contentInitial,r,o);let n;return e;function r(d){if(d===null){t.consume(d);return}return t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),Ze(t,e,"linePrefix")}function o(d){return t.enter("paragraph"),a(d)}function a(d){const p=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=p),n=p,u(d)}function u(d){if(d===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(d);return}return Ee(d)?(t.consume(d),t.exit("chunkText"),a):(t.consume(d),u)}}const tD={tokenize:nD},Nv={tokenize:iD};function nD(t){const e=this,n=[];let r=0,o,a,u;return d;function d(R){if(r<n.length){const V=n[r];return e.containerState=V[1],t.attempt(V[0].continuation,p,f)(R)}return f(R)}function p(R){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,o&&U();const V=e.events.length;let W=V,P;for(;W--;)if(e.events[W][0]==="exit"&&e.events[W][1].type==="chunkFlow"){P=e.events[W][1].end;break}N(r);let F=V;for(;F<e.events.length;)e.events[F][1].end={...P},F++;return Dn(e.events,W+1,0,e.events.slice(V)),e.events.length=F,f(R)}return d(R)}function f(R){if(r===n.length){if(!o)return x(R);if(o.currentConstruct&&o.currentConstruct.concrete)return T(R);e.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Nv,g,_)(R)}function g(R){return o&&U(),N(r),x(R)}function _(R){return e.parser.lazy[e.now().line]=r!==n.length,u=e.now().offset,T(R)}function x(R){return e.containerState={},t.attempt(Nv,w,T)(R)}function w(R){return r++,n.push([e.currentConstruct,e.containerState]),x(R)}function T(R){if(R===null){o&&U(),N(0),t.consume(R);return}return o=o||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:a}),C(R)}function C(R){if(R===null){k(t.exit("chunkFlow"),!0),N(0),t.consume(R);return}return Ee(R)?(t.consume(R),k(t.exit("chunkFlow")),r=0,e.interrupt=void 0,d):(t.consume(R),C)}function k(R,V){const W=e.sliceStream(R);if(V&&W.push(null),R.previous=a,a&&(a.next=R),a=R,o.defineSkip(R.start),o.write(W),e.parser.lazy[R.start.line]){let P=o.events.length;for(;P--;)if(o.events[P][1].start.offset<u&&(!o.events[P][1].end||o.events[P][1].end.offset>u))return;const F=e.events.length;let ie=F,te,ue;for(;ie--;)if(e.events[ie][0]==="exit"&&e.events[ie][1].type==="chunkFlow"){if(te){ue=e.events[ie][1].end;break}te=!0}for(N(r),P=F;P<e.events.length;)e.events[P][1].end={...ue},P++;Dn(e.events,ie+1,0,e.events.slice(F)),e.events.length=P}}function N(R){let V=n.length;for(;V-- >R;){const W=n[V];e.containerState=W[1],W[0].exit.call(e,t)}n.length=R}function U(){o.write([null]),a=void 0,o=void 0,e.containerState._closeFlow=void 0}}function iD(t,e,n){return Ze(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Rv(t){if(t===null||$t(t)||WM(t))return 1;if(QM(t))return 2}function Kf(t,e,n){const r=[];let o=-1;for(;++o<t.length;){const a=t[o].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const yf={name:"attention",resolveAll:rD,tokenize:sD};function rD(t,e){let n=-1,r,o,a,u,d,p,f,g;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;p=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const _={...t[r][1].end},x={...t[n][1].start};Iv(_,-p),Iv(x,p),u={type:p>1?"strongSequence":"emphasisSequence",start:_,end:{...t[r][1].end}},d={type:p>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:x},a={type:p>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},o={type:p>1?"strong":"emphasis",start:{...u.start},end:{...d.end}},t[r][1].end={...u.start},t[n][1].start={...d.end},f=[],t[r][1].end.offset-t[r][1].start.offset&&(f=vn(f,[["enter",t[r][1],e],["exit",t[r][1],e]])),f=vn(f,[["enter",o,e],["enter",u,e],["exit",u,e],["enter",a,e]]),f=vn(f,Kf(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),f=vn(f,[["exit",a,e],["enter",d,e],["exit",d,e],["exit",o,e]]),t[n][1].end.offset-t[n][1].start.offset?(g=2,f=vn(f,[["enter",t[n][1],e],["exit",t[n][1],e]])):g=0,Dn(t,r-1,n-r+3,f),n=r+f.length-g-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function sD(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=Rv(r);let a;return u;function u(p){return a=p,t.enter("attentionSequence"),d(p)}function d(p){if(p===a)return t.consume(p),d;const f=t.exit("attentionSequence"),g=Rv(p),_=!g||g===2&&o||n.includes(p),x=!o||o===2&&g||n.includes(r);return f._open=!!(a===42?_:_&&(o||!x)),f._close=!!(a===42?x:x&&(g||!_)),e(p)}}function Iv(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const oD={name:"autolink",tokenize:aD};function aD(t,e,n){let r=0;return o;function o(w){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(w){return Mn(w)?(t.consume(w),u):w===64?n(w):f(w)}function u(w){return w===43||w===45||w===46||an(w)?(r=1,d(w)):f(w)}function d(w){return w===58?(t.consume(w),r=0,p):(w===43||w===45||w===46||an(w))&&r++<32?(t.consume(w),d):(r=0,f(w))}function p(w){return w===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):w===null||w===32||w===60||mf(w)?n(w):(t.consume(w),p)}function f(w){return w===64?(t.consume(w),g):YM(w)?(t.consume(w),f):n(w)}function g(w){return an(w)?_(w):n(w)}function _(w){return w===46?(t.consume(w),r=0,g):w===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):x(w)}function x(w){if((w===45||an(w))&&r++<63){const T=w===45?x:_;return t.consume(w),T}return n(w)}}const Xl={partial:!0,tokenize:lD};function lD(t,e,n){return r;function r(a){return Ve(a)?Ze(t,o,"linePrefix")(a):o(a)}function o(a){return a===null||Ee(a)?e(a):n(a)}}const Wx={continuation:{tokenize:cD},exit:dD,name:"blockQuote",tokenize:uD};function uD(t,e,n){const r=this;return o;function o(u){if(u===62){const d=r.containerState;return d.open||(t.enter("blockQuote",{_container:!0}),d.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),a}return n(u)}function a(u){return Ve(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function cD(t,e,n){const r=this;return o;function o(u){return Ve(u)?Ze(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):a(u)}function a(u){return t.attempt(Wx,e,n)(u)}}function dD(t){t.exit("blockQuote")}const Zx={name:"characterEscape",tokenize:fD};function fD(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),o}function o(a){return XM(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const eb={name:"characterReference",tokenize:hD};function hD(t,e,n){const r=this;let o=0,a,u;return d;function d(_){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(_),t.exit("characterReferenceMarker"),p}function p(_){return _===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(_),t.exit("characterReferenceMarkerNumeric"),f):(t.enter("characterReferenceValue"),a=31,u=an,g(_))}function f(_){return _===88||_===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(_),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,u=KM,g):(t.enter("characterReferenceValue"),a=7,u=gf,g(_))}function g(_){if(_===59&&o){const x=t.exit("characterReferenceValue");return u===an&&!Yf(r.sliceSerialize(x))?n(_):(t.enter("characterReferenceMarker"),t.consume(_),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(_)&&o++<a?(t.consume(_),g):n(_)}}const zv={partial:!0,tokenize:mD},Mv={concrete:!0,name:"codeFenced",tokenize:pD};function pD(t,e,n){const r=this,o={partial:!0,tokenize:W};let a=0,u=0,d;return p;function p(P){return f(P)}function f(P){const F=r.events[r.events.length-1];return a=F&&F[1].type==="linePrefix"?F[2].sliceSerialize(F[1],!0).length:0,d=P,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),g(P)}function g(P){return P===d?(u++,t.consume(P),g):u<3?n(P):(t.exit("codeFencedFenceSequence"),Ve(P)?Ze(t,_,"whitespace")(P):_(P))}function _(P){return P===null||Ee(P)?(t.exit("codeFencedFence"),r.interrupt?e(P):t.check(zv,C,V)(P)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),x(P))}function x(P){return P===null||Ee(P)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),_(P)):Ve(P)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ze(t,w,"whitespace")(P)):P===96&&P===d?n(P):(t.consume(P),x)}function w(P){return P===null||Ee(P)?_(P):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),T(P))}function T(P){return P===null||Ee(P)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),_(P)):P===96&&P===d?n(P):(t.consume(P),T)}function C(P){return t.attempt(o,V,k)(P)}function k(P){return t.enter("lineEnding"),t.consume(P),t.exit("lineEnding"),N}function N(P){return a>0&&Ve(P)?Ze(t,U,"linePrefix",a+1)(P):U(P)}function U(P){return P===null||Ee(P)?t.check(zv,C,V)(P):(t.enter("codeFlowValue"),R(P))}function R(P){return P===null||Ee(P)?(t.exit("codeFlowValue"),U(P)):(t.consume(P),R)}function V(P){return t.exit("codeFenced"),e(P)}function W(P,F,ie){let te=0;return ue;function ue(oe){return P.enter("lineEnding"),P.consume(oe),P.exit("lineEnding"),se}function se(oe){return P.enter("codeFencedFence"),Ve(oe)?Ze(P,X,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(oe):X(oe)}function X(oe){return oe===d?(P.enter("codeFencedFenceSequence"),pe(oe)):ie(oe)}function pe(oe){return oe===d?(te++,P.consume(oe),pe):te>=u?(P.exit("codeFencedFenceSequence"),Ve(oe)?Ze(P,de,"whitespace")(oe):de(oe)):ie(oe)}function de(oe){return oe===null||Ee(oe)?(P.exit("codeFencedFence"),F(oe)):ie(oe)}}}function mD(t,e,n){const r=this;return o;function o(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),a)}function a(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}const zd={name:"codeIndented",tokenize:yD},gD={partial:!0,tokenize:vD};function yD(t,e,n){const r=this;return o;function o(f){return t.enter("codeIndented"),Ze(t,a,"linePrefix",5)(f)}function a(f){const g=r.events[r.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?u(f):n(f)}function u(f){return f===null?p(f):Ee(f)?t.attempt(gD,u,p)(f):(t.enter("codeFlowValue"),d(f))}function d(f){return f===null||Ee(f)?(t.exit("codeFlowValue"),u(f)):(t.consume(f),d)}function p(f){return t.exit("codeIndented"),e(f)}}function vD(t,e,n){const r=this;return o;function o(u){return r.parser.lazy[r.now().line]?n(u):Ee(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o):Ze(t,a,"linePrefix",5)(u)}function a(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?e(u):Ee(u)?o(u):n(u)}}const _D={name:"codeText",previous:bD,resolve:xD,tokenize:wD};function xD(t){let e=t.length-4,n=3,r,o;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)o===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(o=r):(r===e||t[r][1].type==="lineEnding")&&(t[o][1].type="codeTextData",r!==o+2&&(t[o][1].end=t[r-1][1].end,t.splice(o+2,r-o-2),e-=r-o-2,r=o+2),o=void 0);return t}function bD(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function wD(t,e,n){let r=0,o,a;return u;function u(_){return t.enter("codeText"),t.enter("codeTextSequence"),d(_)}function d(_){return _===96?(t.consume(_),r++,d):(t.exit("codeTextSequence"),p(_))}function p(_){return _===null?n(_):_===32?(t.enter("space"),t.consume(_),t.exit("space"),p):_===96?(a=t.enter("codeTextSequence"),o=0,g(_)):Ee(_)?(t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),p):(t.enter("codeTextData"),f(_))}function f(_){return _===null||_===32||_===96||Ee(_)?(t.exit("codeTextData"),p(_)):(t.consume(_),f)}function g(_){return _===96?(t.consume(_),o++,g):o===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(_)):(a.type="codeTextData",f(_))}}class SD{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const o=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return r&&Ao(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Ao(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Ao(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Ao(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Ao(this.left,n.reverse())}}}function Ao(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function tb(t){const e={};let n=-1,r,o,a,u,d,p,f;const g=new SD(t);for(;++n<g.length;){for(;n in e;)n=e[n];if(r=g.get(n),n&&r[1].type==="chunkFlow"&&g.get(n-1)[1].type==="listItemPrefix"&&(p=r[1]._tokenizer.events,a=0,a<p.length&&p[a][1].type==="lineEndingBlank"&&(a+=2),a<p.length&&p[a][1].type==="content"))for(;++a<p.length&&p[a][1].type!=="content";)p[a][1].type==="chunkText"&&(p[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,ED(g,n)),n=e[n],f=!0);else if(r[1]._container){for(a=n,o=void 0;a--;)if(u=g.get(a),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(o&&(g.get(o)[1].type="lineEndingBlank"),u[1].type="lineEnding",o=a);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;o&&(r[1].end={...g.get(o)[1].start},d=g.slice(o,n),d.unshift(r),g.splice(o,n-o+1,d))}}return Dn(t,0,Number.POSITIVE_INFINITY,g.slice(0)),!f}function ED(t,e){const n=t.get(e)[1],r=t.get(e)[2];let o=e-1;const a=[];let u=n._tokenizer;u||(u=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const d=u.events,p=[],f={};let g,_,x=-1,w=n,T=0,C=0;const k=[C];for(;w;){for(;t.get(++o)[1]!==w;);a.push(o),w._tokenizer||(g=r.sliceStream(w),w.next||g.push(null),_&&u.defineSkip(w.start),w._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(g),w._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),_=w,w=w.next}for(w=n;++x<d.length;)d[x][0]==="exit"&&d[x-1][0]==="enter"&&d[x][1].type===d[x-1][1].type&&d[x][1].start.line!==d[x][1].end.line&&(C=x+1,k.push(C),w._tokenizer=void 0,w.previous=void 0,w=w.next);for(u.events=[],w?(w._tokenizer=void 0,w.previous=void 0):k.pop(),x=k.length;x--;){const N=d.slice(k[x],k[x+1]),U=a.pop();p.push([U,U+N.length-1]),t.splice(U,2,N)}for(p.reverse(),x=-1;++x<p.length;)f[T+p[x][0]]=T+p[x][1],T+=p[x][1]-p[x][0]-1;return f}const TD={resolve:AD,tokenize:kD},CD={partial:!0,tokenize:ND};function AD(t){return tb(t),t}function kD(t,e){let n;return r;function r(d){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),o(d)}function o(d){return d===null?a(d):Ee(d)?t.check(CD,u,a)(d):(t.consume(d),o)}function a(d){return t.exit("chunkContent"),t.exit("content"),e(d)}function u(d){return t.consume(d),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function ND(t,e,n){const r=this;return o;function o(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),Ze(t,a,"linePrefix")}function a(u){if(u===null||Ee(u))return n(u);const d=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?e(u):t.interrupt(r.parser.constructs.flow,n,e)(u)}}function nb(t,e,n,r,o,a,u,d,p){const f=p||Number.POSITIVE_INFINITY;let g=0;return _;function _(N){return N===60?(t.enter(r),t.enter(o),t.enter(a),t.consume(N),t.exit(a),x):N===null||N===32||N===41||mf(N)?n(N):(t.enter(r),t.enter(u),t.enter(d),t.enter("chunkString",{contentType:"string"}),C(N))}function x(N){return N===62?(t.enter(a),t.consume(N),t.exit(a),t.exit(o),t.exit(r),e):(t.enter(d),t.enter("chunkString",{contentType:"string"}),w(N))}function w(N){return N===62?(t.exit("chunkString"),t.exit(d),x(N)):N===null||N===60||Ee(N)?n(N):(t.consume(N),N===92?T:w)}function T(N){return N===60||N===62||N===92?(t.consume(N),w):w(N)}function C(N){return!g&&(N===null||N===41||$t(N))?(t.exit("chunkString"),t.exit(d),t.exit(u),t.exit(r),e(N)):g<f&&N===40?(t.consume(N),g++,C):N===41?(t.consume(N),g--,C):N===null||N===32||N===40||mf(N)?n(N):(t.consume(N),N===92?k:C)}function k(N){return N===40||N===41||N===92?(t.consume(N),C):C(N)}}function ib(t,e,n,r,o,a){const u=this;let d=0,p;return f;function f(w){return t.enter(r),t.enter(o),t.consume(w),t.exit(o),t.enter(a),g}function g(w){return d>999||w===null||w===91||w===93&&!p||w===94&&!d&&"_hiddenFootnoteSupport"in u.parser.constructs?n(w):w===93?(t.exit(a),t.enter(o),t.consume(w),t.exit(o),t.exit(r),e):Ee(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),g):(t.enter("chunkString",{contentType:"string"}),_(w))}function _(w){return w===null||w===91||w===93||Ee(w)||d++>999?(t.exit("chunkString"),g(w)):(t.consume(w),p||(p=!Ve(w)),w===92?x:_)}function x(w){return w===91||w===92||w===93?(t.consume(w),d++,_):_(w)}}function rb(t,e,n,r,o,a){let u;return d;function d(x){return x===34||x===39||x===40?(t.enter(r),t.enter(o),t.consume(x),t.exit(o),u=x===40?41:x,p):n(x)}function p(x){return x===u?(t.enter(o),t.consume(x),t.exit(o),t.exit(r),e):(t.enter(a),f(x))}function f(x){return x===u?(t.exit(a),p(u)):x===null?n(x):Ee(x)?(t.enter("lineEnding"),t.consume(x),t.exit("lineEnding"),Ze(t,f,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),g(x))}function g(x){return x===u||x===null||Ee(x)?(t.exit("chunkString"),f(x)):(t.consume(x),x===92?_:g)}function _(x){return x===u||x===92?(t.consume(x),g):g(x)}}function Do(t,e){let n;return r;function r(o){return Ee(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),n=!0,r):Ve(o)?Ze(t,r,n?"linePrefix":"lineSuffix")(o):e(o)}}const RD={name:"definition",tokenize:zD},ID={partial:!0,tokenize:MD};function zD(t,e,n){const r=this;let o;return a;function a(w){return t.enter("definition"),u(w)}function u(w){return ib.call(r,t,d,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(w)}function d(w){return o=_s(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),w===58?(t.enter("definitionMarker"),t.consume(w),t.exit("definitionMarker"),p):n(w)}function p(w){return $t(w)?Do(t,f)(w):f(w)}function f(w){return nb(t,g,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(w)}function g(w){return t.attempt(ID,_,_)(w)}function _(w){return Ve(w)?Ze(t,x,"whitespace")(w):x(w)}function x(w){return w===null||Ee(w)?(t.exit("definition"),r.parser.defined.push(o),e(w)):n(w)}}function MD(t,e,n){return r;function r(d){return $t(d)?Do(t,o)(d):n(d)}function o(d){return rb(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(d)}function a(d){return Ve(d)?Ze(t,u,"whitespace")(d):u(d)}function u(d){return d===null||Ee(d)?e(d):n(d)}}const DD={name:"hardBreakEscape",tokenize:PD};function PD(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),o}function o(a){return Ee(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const UD={name:"headingAtx",resolve:OD,tokenize:LD};function OD(t,e){let n=t.length-2,r=3,o,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(o={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Dn(t,r,n-r+1,[["enter",o,e],["enter",a,e],["exit",a,e],["exit",o,e]])),t}function LD(t,e,n){let r=0;return o;function o(g){return t.enter("atxHeading"),a(g)}function a(g){return t.enter("atxHeadingSequence"),u(g)}function u(g){return g===35&&r++<6?(t.consume(g),u):g===null||$t(g)?(t.exit("atxHeadingSequence"),d(g)):n(g)}function d(g){return g===35?(t.enter("atxHeadingSequence"),p(g)):g===null||Ee(g)?(t.exit("atxHeading"),e(g)):Ve(g)?Ze(t,d,"whitespace")(g):(t.enter("atxHeadingText"),f(g))}function p(g){return g===35?(t.consume(g),p):(t.exit("atxHeadingSequence"),d(g))}function f(g){return g===null||g===35||$t(g)?(t.exit("atxHeadingText"),d(g)):(t.consume(g),f)}}const qD=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Dv=["pre","script","style","textarea"],BD={concrete:!0,name:"htmlFlow",resolveTo:GD,tokenize:FD},HD={partial:!0,tokenize:jD},VD={partial:!0,tokenize:$D};function GD(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function FD(t,e,n){const r=this;let o,a,u,d,p;return f;function f(A){return g(A)}function g(A){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(A),_}function _(A){return A===33?(t.consume(A),x):A===47?(t.consume(A),a=!0,C):A===63?(t.consume(A),o=3,r.interrupt?e:I):Mn(A)?(t.consume(A),u=String.fromCharCode(A),k):n(A)}function x(A){return A===45?(t.consume(A),o=2,w):A===91?(t.consume(A),o=5,d=0,T):Mn(A)?(t.consume(A),o=4,r.interrupt?e:I):n(A)}function w(A){return A===45?(t.consume(A),r.interrupt?e:I):n(A)}function T(A){const J="CDATA[";return A===J.charCodeAt(d++)?(t.consume(A),d===J.length?r.interrupt?e:X:T):n(A)}function C(A){return Mn(A)?(t.consume(A),u=String.fromCharCode(A),k):n(A)}function k(A){if(A===null||A===47||A===62||$t(A)){const J=A===47,ne=u.toLowerCase();return!J&&!a&&Dv.includes(ne)?(o=1,r.interrupt?e(A):X(A)):qD.includes(u.toLowerCase())?(o=6,J?(t.consume(A),N):r.interrupt?e(A):X(A)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(A):a?U(A):R(A))}return A===45||an(A)?(t.consume(A),u+=String.fromCharCode(A),k):n(A)}function N(A){return A===62?(t.consume(A),r.interrupt?e:X):n(A)}function U(A){return Ve(A)?(t.consume(A),U):ue(A)}function R(A){return A===47?(t.consume(A),ue):A===58||A===95||Mn(A)?(t.consume(A),V):Ve(A)?(t.consume(A),R):ue(A)}function V(A){return A===45||A===46||A===58||A===95||an(A)?(t.consume(A),V):W(A)}function W(A){return A===61?(t.consume(A),P):Ve(A)?(t.consume(A),W):R(A)}function P(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(t.consume(A),p=A,F):Ve(A)?(t.consume(A),P):ie(A)}function F(A){return A===p?(t.consume(A),p=null,te):A===null||Ee(A)?n(A):(t.consume(A),F)}function ie(A){return A===null||A===34||A===39||A===47||A===60||A===61||A===62||A===96||$t(A)?W(A):(t.consume(A),ie)}function te(A){return A===47||A===62||Ve(A)?R(A):n(A)}function ue(A){return A===62?(t.consume(A),se):n(A)}function se(A){return A===null||Ee(A)?X(A):Ve(A)?(t.consume(A),se):n(A)}function X(A){return A===45&&o===2?(t.consume(A),L):A===60&&o===1?(t.consume(A),Z):A===62&&o===4?(t.consume(A),M):A===63&&o===3?(t.consume(A),I):A===93&&o===5?(t.consume(A),Ne):Ee(A)&&(o===6||o===7)?(t.exit("htmlFlowData"),t.check(HD,j,pe)(A)):A===null||Ee(A)?(t.exit("htmlFlowData"),pe(A)):(t.consume(A),X)}function pe(A){return t.check(VD,de,j)(A)}function de(A){return t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),oe}function oe(A){return A===null||Ee(A)?pe(A):(t.enter("htmlFlowData"),X(A))}function L(A){return A===45?(t.consume(A),I):X(A)}function Z(A){return A===47?(t.consume(A),u="",ce):X(A)}function ce(A){if(A===62){const J=u.toLowerCase();return Dv.includes(J)?(t.consume(A),M):X(A)}return Mn(A)&&u.length<8?(t.consume(A),u+=String.fromCharCode(A),ce):X(A)}function Ne(A){return A===93?(t.consume(A),I):X(A)}function I(A){return A===62?(t.consume(A),M):A===45&&o===2?(t.consume(A),I):X(A)}function M(A){return A===null||Ee(A)?(t.exit("htmlFlowData"),j(A)):(t.consume(A),M)}function j(A){return t.exit("htmlFlow"),e(A)}}function $D(t,e,n){const r=this;return o;function o(u){return Ee(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),a):n(u)}function a(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}function jD(t,e,n){return r;function r(o){return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),t.attempt(Xl,e,n)}}const JD={name:"htmlText",tokenize:YD};function YD(t,e,n){const r=this;let o,a,u;return d;function d(I){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(I),p}function p(I){return I===33?(t.consume(I),f):I===47?(t.consume(I),W):I===63?(t.consume(I),R):Mn(I)?(t.consume(I),ie):n(I)}function f(I){return I===45?(t.consume(I),g):I===91?(t.consume(I),a=0,T):Mn(I)?(t.consume(I),U):n(I)}function g(I){return I===45?(t.consume(I),w):n(I)}function _(I){return I===null?n(I):I===45?(t.consume(I),x):Ee(I)?(u=_,Z(I)):(t.consume(I),_)}function x(I){return I===45?(t.consume(I),w):_(I)}function w(I){return I===62?L(I):I===45?x(I):_(I)}function T(I){const M="CDATA[";return I===M.charCodeAt(a++)?(t.consume(I),a===M.length?C:T):n(I)}function C(I){return I===null?n(I):I===93?(t.consume(I),k):Ee(I)?(u=C,Z(I)):(t.consume(I),C)}function k(I){return I===93?(t.consume(I),N):C(I)}function N(I){return I===62?L(I):I===93?(t.consume(I),N):C(I)}function U(I){return I===null||I===62?L(I):Ee(I)?(u=U,Z(I)):(t.consume(I),U)}function R(I){return I===null?n(I):I===63?(t.consume(I),V):Ee(I)?(u=R,Z(I)):(t.consume(I),R)}function V(I){return I===62?L(I):R(I)}function W(I){return Mn(I)?(t.consume(I),P):n(I)}function P(I){return I===45||an(I)?(t.consume(I),P):F(I)}function F(I){return Ee(I)?(u=F,Z(I)):Ve(I)?(t.consume(I),F):L(I)}function ie(I){return I===45||an(I)?(t.consume(I),ie):I===47||I===62||$t(I)?te(I):n(I)}function te(I){return I===47?(t.consume(I),L):I===58||I===95||Mn(I)?(t.consume(I),ue):Ee(I)?(u=te,Z(I)):Ve(I)?(t.consume(I),te):L(I)}function ue(I){return I===45||I===46||I===58||I===95||an(I)?(t.consume(I),ue):se(I)}function se(I){return I===61?(t.consume(I),X):Ee(I)?(u=se,Z(I)):Ve(I)?(t.consume(I),se):te(I)}function X(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(t.consume(I),o=I,pe):Ee(I)?(u=X,Z(I)):Ve(I)?(t.consume(I),X):(t.consume(I),de)}function pe(I){return I===o?(t.consume(I),o=void 0,oe):I===null?n(I):Ee(I)?(u=pe,Z(I)):(t.consume(I),pe)}function de(I){return I===null||I===34||I===39||I===60||I===61||I===96?n(I):I===47||I===62||$t(I)?te(I):(t.consume(I),de)}function oe(I){return I===47||I===62||$t(I)?te(I):n(I)}function L(I){return I===62?(t.consume(I),t.exit("htmlTextData"),t.exit("htmlText"),e):n(I)}function Z(I){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(I),t.exit("lineEnding"),ce}function ce(I){return Ve(I)?Ze(t,Ne,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):Ne(I)}function Ne(I){return t.enter("htmlTextData"),u(I)}}const Xf={name:"labelEnd",resolveAll:WD,resolveTo:ZD,tokenize:eP},KD={tokenize:tP},XD={tokenize:nP},QD={tokenize:iP};function WD(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const o=r.type==="labelImage"?4:2;r.type="data",e+=o}}return t.length!==n.length&&Dn(t,0,t.length,n),t}function ZD(t,e){let n=t.length,r=0,o,a,u,d;for(;n--;)if(o=t[n][1],a){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;t[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(a=n,o.type!=="labelLink")){r=2;break}}else o.type==="labelEnd"&&(u=n);const p={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},f={type:"label",start:{...t[a][1].start},end:{...t[u][1].end}},g={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[u-2][1].start}};return d=[["enter",p,e],["enter",f,e]],d=vn(d,t.slice(a+1,a+r+3)),d=vn(d,[["enter",g,e]]),d=vn(d,Kf(e.parser.constructs.insideSpan.null,t.slice(a+r+4,u-3),e)),d=vn(d,[["exit",g,e],t[u-2],t[u-1],["exit",f,e]]),d=vn(d,t.slice(u+1)),d=vn(d,[["exit",p,e]]),Dn(t,a,t.length,d),t}function eP(t,e,n){const r=this;let o=r.events.length,a,u;for(;o--;)if((r.events[o][1].type==="labelImage"||r.events[o][1].type==="labelLink")&&!r.events[o][1]._balanced){a=r.events[o][1];break}return d;function d(x){return a?a._inactive?_(x):(u=r.parser.defined.includes(_s(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(x),t.exit("labelMarker"),t.exit("labelEnd"),p):n(x)}function p(x){return x===40?t.attempt(KD,g,u?g:_)(x):x===91?t.attempt(XD,g,u?f:_)(x):u?g(x):_(x)}function f(x){return t.attempt(QD,g,_)(x)}function g(x){return e(x)}function _(x){return a._balanced=!0,n(x)}}function tP(t,e,n){return r;function r(_){return t.enter("resource"),t.enter("resourceMarker"),t.consume(_),t.exit("resourceMarker"),o}function o(_){return $t(_)?Do(t,a)(_):a(_)}function a(_){return _===41?g(_):nb(t,u,d,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(_)}function u(_){return $t(_)?Do(t,p)(_):g(_)}function d(_){return n(_)}function p(_){return _===34||_===39||_===40?rb(t,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(_):g(_)}function f(_){return $t(_)?Do(t,g)(_):g(_)}function g(_){return _===41?(t.enter("resourceMarker"),t.consume(_),t.exit("resourceMarker"),t.exit("resource"),e):n(_)}}function nP(t,e,n){const r=this;return o;function o(d){return ib.call(r,t,a,u,"reference","referenceMarker","referenceString")(d)}function a(d){return r.parser.defined.includes(_s(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(d):n(d)}function u(d){return n(d)}}function iP(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),o}function o(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const rP={name:"labelStartImage",resolveAll:Xf.resolveAll,tokenize:sP};function sP(t,e,n){const r=this;return o;function o(d){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(d),t.exit("labelImageMarker"),a}function a(d){return d===91?(t.enter("labelMarker"),t.consume(d),t.exit("labelMarker"),t.exit("labelImage"),u):n(d)}function u(d){return d===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(d):e(d)}}const oP={name:"labelStartLink",resolveAll:Xf.resolveAll,tokenize:aP};function aP(t,e,n){const r=this;return o;function o(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),a}function a(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}const Md={name:"lineEnding",tokenize:lP};function lP(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Ze(t,e,"linePrefix")}}const kl={name:"thematicBreak",tokenize:uP};function uP(t,e,n){let r=0,o;return a;function a(f){return t.enter("thematicBreak"),u(f)}function u(f){return o=f,d(f)}function d(f){return f===o?(t.enter("thematicBreakSequence"),p(f)):r>=3&&(f===null||Ee(f))?(t.exit("thematicBreak"),e(f)):n(f)}function p(f){return f===o?(t.consume(f),r++,p):(t.exit("thematicBreakSequence"),Ve(f)?Ze(t,d,"whitespace")(f):d(f))}}const Ft={continuation:{tokenize:hP},exit:mP,name:"list",tokenize:fP},cP={partial:!0,tokenize:gP},dP={partial:!0,tokenize:pP};function fP(t,e,n){const r=this,o=r.events[r.events.length-1];let a=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,u=0;return d;function d(w){const T=r.containerState.type||(w===42||w===43||w===45?"listUnordered":"listOrdered");if(T==="listUnordered"?!r.containerState.marker||w===r.containerState.marker:gf(w)){if(r.containerState.type||(r.containerState.type=T,t.enter(T,{_container:!0})),T==="listUnordered")return t.enter("listItemPrefix"),w===42||w===45?t.check(kl,n,f)(w):f(w);if(!r.interrupt||w===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),p(w)}return n(w)}function p(w){return gf(w)&&++u<10?(t.consume(w),p):(!r.interrupt||u<2)&&(r.containerState.marker?w===r.containerState.marker:w===41||w===46)?(t.exit("listItemValue"),f(w)):n(w)}function f(w){return t.enter("listItemMarker"),t.consume(w),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||w,t.check(Xl,r.interrupt?n:g,t.attempt(cP,x,_))}function g(w){return r.containerState.initialBlankLine=!0,a++,x(w)}function _(w){return Ve(w)?(t.enter("listItemPrefixWhitespace"),t.consume(w),t.exit("listItemPrefixWhitespace"),x):n(w)}function x(w){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(w)}}function hP(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Xl,o,a);function o(d){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ze(t,e,"listItemIndent",r.containerState.size+1)(d)}function a(d){return r.containerState.furtherBlankLines||!Ve(d)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,u(d)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(dP,e,u)(d))}function u(d){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ze(t,t.attempt(Ft,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d)}}function pP(t,e,n){const r=this;return Ze(t,o,"listItemIndent",r.containerState.size+1);function o(a){const u=r.events[r.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===r.containerState.size?e(a):n(a)}}function mP(t){t.exit(this.containerState.type)}function gP(t,e,n){const r=this;return Ze(t,o,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(a){const u=r.events[r.events.length-1];return!Ve(a)&&u&&u[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const Pv={name:"setextUnderline",resolveTo:yP,tokenize:vP};function yP(t,e){let n=t.length,r,o,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(o=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const u={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[o][1].type="setextHeadingText",a?(t.splice(o,0,["enter",u,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=u,t.push(["exit",u,e]),t}function vP(t,e,n){const r=this;let o;return a;function a(f){let g=r.events.length,_;for(;g--;)if(r.events[g][1].type!=="lineEnding"&&r.events[g][1].type!=="linePrefix"&&r.events[g][1].type!=="content"){_=r.events[g][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||_)?(t.enter("setextHeadingLine"),o=f,u(f)):n(f)}function u(f){return t.enter("setextHeadingLineSequence"),d(f)}function d(f){return f===o?(t.consume(f),d):(t.exit("setextHeadingLineSequence"),Ve(f)?Ze(t,p,"lineSuffix")(f):p(f))}function p(f){return f===null||Ee(f)?(t.exit("setextHeadingLine"),e(f)):n(f)}}const _P={tokenize:xP};function xP(t){const e=this,n=t.attempt(Xl,r,t.attempt(this.parser.constructs.flowInitial,o,Ze(t,t.attempt(this.parser.constructs.flow,o,t.attempt(TD,o)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function o(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const bP={resolveAll:ob()},wP=sb("string"),SP=sb("text");function sb(t){return{resolveAll:ob(t==="text"?EP:void 0),tokenize:e};function e(n){const r=this,o=this.parser.constructs[t],a=n.attempt(o,u,d);return u;function u(g){return f(g)?a(g):d(g)}function d(g){if(g===null){n.consume(g);return}return n.enter("data"),n.consume(g),p}function p(g){return f(g)?(n.exit("data"),a(g)):(n.consume(g),p)}function f(g){if(g===null)return!0;const _=o[g];let x=-1;if(_)for(;++x<_.length;){const w=_[x];if(!w.previous||w.previous.call(r,r.previous))return!0}return!1}}}function ob(t){return e;function e(n,r){let o=-1,a;for(;++o<=n.length;)a===void 0?n[o]&&n[o][1].type==="data"&&(a=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==a+2&&(n[a][1].end=n[o-1][1].end,n.splice(a+2,o-a-2),o=a+2),a=void 0);return t?t(n,r):n}}function EP(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],o=e.sliceStream(r);let a=o.length,u=-1,d=0,p;for(;a--;){const f=o[a];if(typeof f=="string"){for(u=f.length;f.charCodeAt(u-1)===32;)d++,u--;if(u)break;u=-1}else if(f===-2)p=!0,d++;else if(f!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(d=0),d){const f={type:n===t.length||p||d<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?u:r.start._bufferIndex+u,_index:r.start._index+a,line:r.end.line,column:r.end.column-d,offset:r.end.offset-d},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(t.splice(n,0,["enter",f,e],["exit",f,e]),n+=2)}n++}return t}const TP={42:Ft,43:Ft,45:Ft,48:Ft,49:Ft,50:Ft,51:Ft,52:Ft,53:Ft,54:Ft,55:Ft,56:Ft,57:Ft,62:Wx},CP={91:RD},AP={[-2]:zd,[-1]:zd,32:zd},kP={35:UD,42:kl,45:[Pv,kl],60:BD,61:Pv,95:kl,96:Mv,126:Mv},NP={38:eb,92:Zx},RP={[-5]:Md,[-4]:Md,[-3]:Md,33:rP,38:eb,42:yf,60:[oD,JD],91:oP,92:[DD,Zx],93:Xf,95:yf,96:_D},IP={null:[yf,bP]},zP={null:[42,95]},MP={null:[]},DP=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:zP,contentInitial:CP,disable:MP,document:TP,flow:kP,flowInitial:AP,insideSpan:IP,string:NP,text:RP},Symbol.toStringTag,{value:"Module"}));function PP(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},a=[];let u=[],d=[];const p={attempt:F(W),check:F(P),consume:U,enter:R,exit:V,interrupt:F(P,{interrupt:!0})},f={code:null,containerState:{},defineSkip:C,events:[],now:T,parser:t,previous:null,sliceSerialize:x,sliceStream:w,write:_};let g=e.tokenize.call(f,p);return e.resolveAll&&a.push(e),f;function _(se){return u=vn(u,se),k(),u[u.length-1]!==null?[]:(ie(e,0),f.events=Kf(a,f.events,f),f.events)}function x(se,X){return OP(w(se),X)}function w(se){return UP(u,se)}function T(){const{_bufferIndex:se,_index:X,line:pe,column:de,offset:oe}=r;return{_bufferIndex:se,_index:X,line:pe,column:de,offset:oe}}function C(se){o[se.line]=se.column,ue()}function k(){let se;for(;r._index<u.length;){const X=u[r._index];if(typeof X=="string")for(se=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===se&&r._bufferIndex<X.length;)N(X.charCodeAt(r._bufferIndex));else N(X)}}function N(se){g=g(se)}function U(se){Ee(se)?(r.line++,r.column=1,r.offset+=se===-3?2:1,ue()):se!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===u[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=se}function R(se,X){const pe=X||{};return pe.type=se,pe.start=T(),f.events.push(["enter",pe,f]),d.push(pe),pe}function V(se){const X=d.pop();return X.end=T(),f.events.push(["exit",X,f]),X}function W(se,X){ie(se,X.from)}function P(se,X){X.restore()}function F(se,X){return pe;function pe(de,oe,L){let Z,ce,Ne,I;return Array.isArray(de)?j(de):"tokenize"in de?j([de]):M(de);function M(ee){return _e;function _e(Ue){const Me=Ue!==null&&ee[Ue],zt=Ue!==null&&ee.null,rt=[...Array.isArray(Me)?Me:Me?[Me]:[],...Array.isArray(zt)?zt:zt?[zt]:[]];return j(rt)(Ue)}}function j(ee){return Z=ee,ce=0,ee.length===0?L:A(ee[ce])}function A(ee){return _e;function _e(Ue){return I=te(),Ne=ee,ee.partial||(f.currentConstruct=ee),ee.name&&f.parser.constructs.disable.null.includes(ee.name)?ne():ee.tokenize.call(X?Object.assign(Object.create(f),X):f,p,J,ne)(Ue)}}function J(ee){return se(Ne,I),oe}function ne(ee){return I.restore(),++ce<Z.length?A(Z[ce]):L}}}function ie(se,X){se.resolveAll&&!a.includes(se)&&a.push(se),se.resolve&&Dn(f.events,X,f.events.length-X,se.resolve(f.events.slice(X),f)),se.resolveTo&&(f.events=se.resolveTo(f.events,f))}function te(){const se=T(),X=f.previous,pe=f.currentConstruct,de=f.events.length,oe=Array.from(d);return{from:de,restore:L};function L(){r=se,f.previous=X,f.currentConstruct=pe,f.events.length=de,d=oe,ue()}}function ue(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}function UP(t,e){const n=e.start._index,r=e.start._bufferIndex,o=e.end._index,a=e.end._bufferIndex;let u;if(n===o)u=[t[n].slice(r,a)];else{if(u=t.slice(n,o),r>-1){const d=u[0];typeof d=="string"?u[0]=d.slice(r):u.shift()}a>0&&u.push(t[o].slice(0,a))}return u}function OP(t,e){let n=-1;const r=[];let o;for(;++n<t.length;){const a=t[n];let u;if(typeof a=="string")u=a;else switch(a){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&o)continue;u=" ";break}default:u=String.fromCharCode(a)}o=a===-2,r.push(u)}return r.join("")}function LP(t){const r={constructs:$M([DP,...(t||{}).extensions||[]]),content:o(ZM),defined:[],document:o(tD),flow:o(_P),lazy:{},string:o(wP),text:o(SP)};return r;function o(a){return u;function u(d){return PP(r,a,d)}}}function qP(t){for(;!tb(t););return t}const Uv=/[\0\t\n\r]/g;function BP(){let t=1,e="",n=!0,r;return o;function o(a,u,d){const p=[];let f,g,_,x,w;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(u||void 0).decode(a)),_=0,e="",n&&(a.charCodeAt(0)===65279&&_++,n=void 0);_<a.length;){if(Uv.lastIndex=_,f=Uv.exec(a),x=f&&f.index!==void 0?f.index:a.length,w=a.charCodeAt(x),!f){e=a.slice(_);break}if(w===10&&_===x&&r)p.push(-3),r=void 0;else switch(r&&(p.push(-5),r=void 0),_<x&&(p.push(a.slice(_,x)),t+=x-_),w){case 0:{p.push(65533),t++;break}case 9:{for(g=Math.ceil(t/4)*4,p.push(-2);t++<g;)p.push(-1);break}case 10:{p.push(-4),t=1;break}default:r=!0,t=1}_=x+1}return d&&(r&&p.push(-5),e&&p.push(e),p.push(null)),p}}const HP=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function VP(t){return t.replace(HP,GP)}function GP(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),a=o===120||o===88;return Qx(n.slice(a?2:1),a?16:10)}return Yf(n)||t}const ab={}.hasOwnProperty;function FP(t,e,n){return typeof e!="string"&&(n=e,e=void 0),$P(n)(qP(LP(n).document().write(BP()(t,e,!0))))}function $P(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(mr),autolinkProtocol:te,autolinkEmail:te,atxHeading:a(oi),blockQuote:a(zt),characterEscape:te,characterReference:te,codeFenced:a(rt),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:a(rt,u),codeText:a(hr,u),codeTextData:te,data:te,codeFlowValue:te,definition:a(si),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:a(Jt),hardBreakEscape:a(pr),hardBreakTrailing:a(pr),htmlFlow:a(Jo,u),htmlFlowData:te,htmlText:a(Jo,u),htmlTextData:te,image:a(Yo),label:u,link:a(mr),listItem:a(Ns),listItemValue:x,listOrdered:a(gr,_),listUnordered:a(gr),paragraph:a(Zl),reference:A,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:a(oi),strong:a(eu),thematicBreak:a(tu)},exit:{atxHeading:p(),atxHeadingSequence:W,autolink:p(),autolinkEmail:Me,autolinkProtocol:Ue,blockQuote:p(),characterEscapeValue:ue,characterReferenceMarkerHexadecimal:ne,characterReferenceMarkerNumeric:ne,characterReferenceValue:ee,characterReference:_e,codeFenced:p(k),codeFencedFence:C,codeFencedFenceInfo:w,codeFencedFenceMeta:T,codeFlowValue:ue,codeIndented:p(N),codeText:p(oe),codeTextData:ue,data:ue,definition:p(),definitionDestinationString:V,definitionLabelString:U,definitionTitleString:R,emphasis:p(),hardBreakEscape:p(X),hardBreakTrailing:p(X),htmlFlow:p(pe),htmlFlowData:ue,htmlText:p(de),htmlTextData:ue,image:p(Z),label:Ne,labelText:ce,lineEnding:se,link:p(L),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:J,resourceDestinationString:I,resourceTitleString:M,resource:j,setextHeading:p(ie),setextHeadingLineSequence:F,setextHeadingText:P,strong:p(),thematicBreak:p()}};lb(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(Y){let ae={type:"root",children:[]};const Se={stack:[ae],tokenStack:[],config:e,enter:d,exit:f,buffer:u,resume:g,data:n},Re=[];let Ge=-1;for(;++Ge<Y.length;)if(Y[Ge][1].type==="listOrdered"||Y[Ge][1].type==="listUnordered")if(Y[Ge][0]==="enter")Re.push(Ge);else{const Yt=Re.pop();Ge=o(Y,Yt,Ge)}for(Ge=-1;++Ge<Y.length;){const Yt=e[Y[Ge][0]];ab.call(Yt,Y[Ge][1].type)&&Yt[Y[Ge][1].type].call(Object.assign({sliceSerialize:Y[Ge][2].sliceSerialize},Se),Y[Ge][1])}if(Se.tokenStack.length>0){const Yt=Se.tokenStack[Se.tokenStack.length-1];(Yt[1]||Ov).call(Se,void 0,Yt[0])}for(ae.position={start:Di(Y.length>0?Y[0][1].start:{line:1,column:1,offset:0}),end:Di(Y.length>0?Y[Y.length-2][1].end:{line:1,column:1,offset:0})},Ge=-1;++Ge<e.transforms.length;)ae=e.transforms[Ge](ae)||ae;return ae}function o(Y,ae,Se){let Re=ae-1,Ge=-1,Yt=!1,Pn,Dt,yt,Ut;for(;++Re<=Se;){const Ke=Y[Re];switch(Ke[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ke[0]==="enter"?Ge++:Ge--,Ut=void 0;break}case"lineEndingBlank":{Ke[0]==="enter"&&(Pn&&!Ut&&!Ge&&!yt&&(yt=Re),Ut=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ut=void 0}if(!Ge&&Ke[0]==="enter"&&Ke[1].type==="listItemPrefix"||Ge===-1&&Ke[0]==="exit"&&(Ke[1].type==="listUnordered"||Ke[1].type==="listOrdered")){if(Pn){let ai=Re;for(Dt=void 0;ai--;){const xn=Y[ai];if(xn[1].type==="lineEnding"||xn[1].type==="lineEndingBlank"){if(xn[0]==="exit")continue;Dt&&(Y[Dt][1].type="lineEndingBlank",Yt=!0),xn[1].type="lineEnding",Dt=ai}else if(!(xn[1].type==="linePrefix"||xn[1].type==="blockQuotePrefix"||xn[1].type==="blockQuotePrefixWhitespace"||xn[1].type==="blockQuoteMarker"||xn[1].type==="listItemIndent"))break}yt&&(!Dt||yt<Dt)&&(Pn._spread=!0),Pn.end=Object.assign({},Dt?Y[Dt][1].start:Ke[1].end),Y.splice(Dt||Re,0,["exit",Pn,Ke[2]]),Re++,Se++}if(Ke[1].type==="listItemPrefix"){const ai={type:"listItem",_spread:!1,start:Object.assign({},Ke[1].start),end:void 0};Pn=ai,Y.splice(Re,0,["enter",ai,Ke[2]]),Re++,Se++,yt=void 0,Ut=!0}}}return Y[ae][1]._spread=Yt,Se}function a(Y,ae){return Se;function Se(Re){d.call(this,Y(Re),Re),ae&&ae.call(this,Re)}}function u(){this.stack.push({type:"fragment",children:[]})}function d(Y,ae,Se){this.stack[this.stack.length-1].children.push(Y),this.stack.push(Y),this.tokenStack.push([ae,Se||void 0]),Y.position={start:Di(ae.start),end:void 0}}function p(Y){return ae;function ae(Se){Y&&Y.call(this,Se),f.call(this,Se)}}function f(Y,ae){const Se=this.stack.pop(),Re=this.tokenStack.pop();if(Re)Re[0].type!==Y.type&&(ae?ae.call(this,Y,Re[0]):(Re[1]||Ov).call(this,Y,Re[0]));else throw new Error("Cannot close `"+Y.type+"` ("+Mo({start:Y.start,end:Y.end})+"): its not open");Se.position.end=Di(Y.end)}function g(){return GM(this.stack.pop())}function _(){this.data.expectingFirstListItemValue=!0}function x(Y){if(this.data.expectingFirstListItemValue){const ae=this.stack[this.stack.length-2];ae.start=Number.parseInt(this.sliceSerialize(Y),10),this.data.expectingFirstListItemValue=void 0}}function w(){const Y=this.resume(),ae=this.stack[this.stack.length-1];ae.lang=Y}function T(){const Y=this.resume(),ae=this.stack[this.stack.length-1];ae.meta=Y}function C(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function k(){const Y=this.resume(),ae=this.stack[this.stack.length-1];ae.value=Y.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function N(){const Y=this.resume(),ae=this.stack[this.stack.length-1];ae.value=Y.replace(/(\r?\n|\r)$/g,"")}function U(Y){const ae=this.resume(),Se=this.stack[this.stack.length-1];Se.label=ae,Se.identifier=_s(this.sliceSerialize(Y)).toLowerCase()}function R(){const Y=this.resume(),ae=this.stack[this.stack.length-1];ae.title=Y}function V(){const Y=this.resume(),ae=this.stack[this.stack.length-1];ae.url=Y}function W(Y){const ae=this.stack[this.stack.length-1];if(!ae.depth){const Se=this.sliceSerialize(Y).length;ae.depth=Se}}function P(){this.data.setextHeadingSlurpLineEnding=!0}function F(Y){const ae=this.stack[this.stack.length-1];ae.depth=this.sliceSerialize(Y).codePointAt(0)===61?1:2}function ie(){this.data.setextHeadingSlurpLineEnding=void 0}function te(Y){const Se=this.stack[this.stack.length-1].children;let Re=Se[Se.length-1];(!Re||Re.type!=="text")&&(Re=Mt(),Re.position={start:Di(Y.start),end:void 0},Se.push(Re)),this.stack.push(Re)}function ue(Y){const ae=this.stack.pop();ae.value+=this.sliceSerialize(Y),ae.position.end=Di(Y.end)}function se(Y){const ae=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Se=ae.children[ae.children.length-1];Se.position.end=Di(Y.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ae.type)&&(te.call(this,Y),ue.call(this,Y))}function X(){this.data.atHardBreak=!0}function pe(){const Y=this.resume(),ae=this.stack[this.stack.length-1];ae.value=Y}function de(){const Y=this.resume(),ae=this.stack[this.stack.length-1];ae.value=Y}function oe(){const Y=this.resume(),ae=this.stack[this.stack.length-1];ae.value=Y}function L(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const ae=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=ae,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function Z(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const ae=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=ae,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function ce(Y){const ae=this.sliceSerialize(Y),Se=this.stack[this.stack.length-2];Se.label=VP(ae),Se.identifier=_s(ae).toLowerCase()}function Ne(){const Y=this.stack[this.stack.length-1],ae=this.resume(),Se=this.stack[this.stack.length-1];if(this.data.inReference=!0,Se.type==="link"){const Re=Y.children;Se.children=Re}else Se.alt=ae}function I(){const Y=this.resume(),ae=this.stack[this.stack.length-1];ae.url=Y}function M(){const Y=this.resume(),ae=this.stack[this.stack.length-1];ae.title=Y}function j(){this.data.inReference=void 0}function A(){this.data.referenceType="collapsed"}function J(Y){const ae=this.resume(),Se=this.stack[this.stack.length-1];Se.label=ae,Se.identifier=_s(this.sliceSerialize(Y)).toLowerCase(),this.data.referenceType="full"}function ne(Y){this.data.characterReferenceType=Y.type}function ee(Y){const ae=this.sliceSerialize(Y),Se=this.data.characterReferenceType;let Re;Se?(Re=Qx(ae,Se==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Re=Yf(ae);const Ge=this.stack[this.stack.length-1];Ge.value+=Re}function _e(Y){const ae=this.stack.pop();ae.position.end=Di(Y.end)}function Ue(Y){ue.call(this,Y);const ae=this.stack[this.stack.length-1];ae.url=this.sliceSerialize(Y)}function Me(Y){ue.call(this,Y);const ae=this.stack[this.stack.length-1];ae.url="mailto:"+this.sliceSerialize(Y)}function zt(){return{type:"blockquote",children:[]}}function rt(){return{type:"code",lang:null,meta:null,value:""}}function hr(){return{type:"inlineCode",value:""}}function si(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Jt(){return{type:"emphasis",children:[]}}function oi(){return{type:"heading",depth:0,children:[]}}function pr(){return{type:"break"}}function Jo(){return{type:"html",value:""}}function Yo(){return{type:"image",title:null,url:"",alt:null}}function mr(){return{type:"link",title:null,url:"",children:[]}}function gr(Y){return{type:"list",ordered:Y.type==="listOrdered",start:null,spread:Y._spread,children:[]}}function Ns(Y){return{type:"listItem",spread:Y._spread,checked:null,children:[]}}function Zl(){return{type:"paragraph",children:[]}}function eu(){return{type:"strong",children:[]}}function Mt(){return{type:"text",value:""}}function tu(){return{type:"thematicBreak"}}}function Di(t){return{line:t.line,column:t.column,offset:t.offset}}function lb(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?lb(t,r):jP(t,r)}}function jP(t,e){let n;for(n in e)if(ab.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function Ov(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Mo({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Mo({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Mo({start:e.start,end:e.end})+") is still open")}function JP(t){const e=this;e.parser=n;function n(r){return FP(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function YP(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function KP(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function XP(t,e){const n=e.value?e.value+`
`:"",r={},o=e.lang?e.lang.split(/\s+/):[];o.length>0&&(r.className=["language-"+o[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(a.data={meta:e.meta}),t.patch(e,a),a=t.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(e,a),a}function QP(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function WP(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function ZP(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),o=ks(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let u,d=t.footnoteCounts.get(r);d===void 0?(d=0,t.footnoteOrder.push(r),u=t.footnoteOrder.length):u=a+1,d+=1,t.footnoteCounts.set(r,d);const p={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,p);const f={type:"element",tagName:"sup",properties:{},children:[p]};return t.patch(e,f),t.applyData(e,f)}function eU(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function tU(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function ub(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const o=t.all(e),a=o[0];a&&a.type==="text"?a.value="["+a.value:o.unshift({type:"text",value:"["});const u=o[o.length-1];return u&&u.type==="text"?u.value+=r:o.push({type:"text",value:r}),o}function nU(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return ub(t,e);const o={src:ks(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(o.title=r.title);const a={type:"element",tagName:"img",properties:o,children:[]};return t.patch(e,a),t.applyData(e,a)}function iU(t,e){const n={src:ks(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function rU(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function sU(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return ub(t,e);const o={href:ks(r.url||"")};r.title!==null&&r.title!==void 0&&(o.title=r.title);const a={type:"element",tagName:"a",properties:o,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function oU(t,e){const n={href:ks(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function aU(t,e,n){const r=t.all(e),o=n?lU(n):cb(e),a={},u=[];if(typeof e.checked=="boolean"){const g=r[0];let _;g&&g.type==="element"&&g.tagName==="p"?_=g:(_={type:"element",tagName:"p",properties:{},children:[]},r.unshift(_)),_.children.length>0&&_.children.unshift({type:"text",value:" "}),_.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let d=-1;for(;++d<r.length;){const g=r[d];(o||d!==0||g.type!=="element"||g.tagName!=="p")&&u.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!o?u.push(...g.children):u.push(g)}const p=r[r.length-1];p&&(o||p.type!=="element"||p.tagName!=="p")&&u.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:a,children:u};return t.patch(e,f),t.applyData(e,f)}function lU(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=cb(n[r])}return e}function cb(t){const e=t.spread;return e??t.children.length>1}function uU(t,e){const n={},r=t.all(e);let o=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++o<r.length;){const u=r[o];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function cU(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function dU(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function fU(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function hU(t,e){const n=t.all(e),r=n.shift(),o=[];if(r){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],u),o.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},d=Ff(e.children[1]),p=Fx(e.children[e.children.length-1]);d&&p&&(u.position={start:d,end:p}),o.push(u)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(o,!0)};return t.patch(e,a),t.applyData(e,a)}function pU(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,d=u?u.length:e.children.length;let p=-1;const f=[];for(;++p<d;){const _=e.children[p],x={},w=u?u[p]:void 0;w&&(x.align=w);let T={type:"element",tagName:a,properties:x,children:[]};_&&(T.children=t.all(_),t.patch(_,T),T=t.applyData(_,T)),f.push(T)}const g={type:"element",tagName:"tr",properties:{},children:t.wrap(f,!0)};return t.patch(e,g),t.applyData(e,g)}function mU(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const Lv=9,qv=32;function gU(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),o=0;const a=[];for(;r;)a.push(Bv(e.slice(o,r.index),o>0,!0),r[0]),o=r.index+r[0].length,r=n.exec(e);return a.push(Bv(e.slice(o),o>0,!1)),a.join("")}function Bv(t,e,n){let r=0,o=t.length;if(e){let a=t.codePointAt(r);for(;a===Lv||a===qv;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(o-1);for(;a===Lv||a===qv;)o--,a=t.codePointAt(o-1)}return o>r?t.slice(r,o):""}function yU(t,e){const n={type:"text",value:gU(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function vU(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const _U={blockquote:YP,break:KP,code:XP,delete:QP,emphasis:WP,footnoteReference:ZP,heading:eU,html:tU,imageReference:nU,image:iU,inlineCode:rU,linkReference:sU,link:oU,listItem:aU,list:uU,paragraph:cU,root:dU,strong:fU,table:hU,tableCell:mU,tableRow:pU,text:yU,thematicBreak:vU,toml:wl,yaml:wl,definition:wl,footnoteDefinition:wl};function wl(){}const db=-1,Ql=0,Po=1,Hl=2,Qf=3,Wf=4,Zf=5,eh=6,fb=7,hb=8,Hv=typeof self=="object"?self:globalThis,xU=(t,e)=>{const n=(o,a)=>(t.set(a,o),o),r=o=>{if(t.has(o))return t.get(o);const[a,u]=e[o];switch(a){case Ql:case db:return n(u,o);case Po:{const d=n([],o);for(const p of u)d.push(r(p));return d}case Hl:{const d=n({},o);for(const[p,f]of u)d[r(p)]=r(f);return d}case Qf:return n(new Date(u),o);case Wf:{const{source:d,flags:p}=u;return n(new RegExp(d,p),o)}case Zf:{const d=n(new Map,o);for(const[p,f]of u)d.set(r(p),r(f));return d}case eh:{const d=n(new Set,o);for(const p of u)d.add(r(p));return d}case fb:{const{name:d,message:p}=u;return n(new Hv[d](p),o)}case hb:return n(BigInt(u),o);case"BigInt":return n(Object(BigInt(u)),o);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:d}=new Uint8Array(u);return n(new DataView(d),u)}}return n(new Hv[a](u),o)};return r},Vv=t=>xU(new Map,t)(0),ls="",{toString:bU}={},{keys:wU}=Object,ko=t=>{const e=typeof t;if(e!=="object"||!t)return[Ql,e];const n=bU.call(t).slice(8,-1);switch(n){case"Array":return[Po,ls];case"Object":return[Hl,ls];case"Date":return[Qf,ls];case"RegExp":return[Wf,ls];case"Map":return[Zf,ls];case"Set":return[eh,ls];case"DataView":return[Po,n]}return n.includes("Array")?[Po,n]:n.includes("Error")?[fb,n]:[Hl,n]},Sl=([t,e])=>t===Ql&&(e==="function"||e==="symbol"),SU=(t,e,n,r)=>{const o=(u,d)=>{const p=r.push(u)-1;return n.set(d,p),p},a=u=>{if(n.has(u))return n.get(u);let[d,p]=ko(u);switch(d){case Ql:{let g=u;switch(p){case"bigint":d=hb,g=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+p);g=null;break;case"undefined":return o([db],u)}return o([d,g],u)}case Po:{if(p){let x=u;return p==="DataView"?x=new Uint8Array(u.buffer):p==="ArrayBuffer"&&(x=new Uint8Array(u)),o([p,[...x]],u)}const g=[],_=o([d,g],u);for(const x of u)g.push(a(x));return _}case Hl:{if(p)switch(p){case"BigInt":return o([p,u.toString()],u);case"Boolean":case"Number":case"String":return o([p,u.valueOf()],u)}if(e&&"toJSON"in u)return a(u.toJSON());const g=[],_=o([d,g],u);for(const x of wU(u))(t||!Sl(ko(u[x])))&&g.push([a(x),a(u[x])]);return _}case Qf:return o([d,u.toISOString()],u);case Wf:{const{source:g,flags:_}=u;return o([d,{source:g,flags:_}],u)}case Zf:{const g=[],_=o([d,g],u);for(const[x,w]of u)(t||!(Sl(ko(x))||Sl(ko(w))))&&g.push([a(x),a(w)]);return _}case eh:{const g=[],_=o([d,g],u);for(const x of u)(t||!Sl(ko(x)))&&g.push(a(x));return _}}const{message:f}=u;return o([d,{name:p,message:f}],u)};return a},Gv=(t,{json:e,lossy:n}={})=>{const r=[];return SU(!(e||n),!!e,new Map,r)(t),r},Vl=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?Vv(Gv(t,e)):structuredClone(t):(t,e)=>Vv(Gv(t,e));function EU(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function TU(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function CU(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||EU,r=t.options.footnoteBackLabel||TU,o=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},d=[];let p=-1;for(;++p<t.footnoteOrder.length;){const f=t.footnoteById.get(t.footnoteOrder[p]);if(!f)continue;const g=t.all(f),_=String(f.identifier).toUpperCase(),x=ks(_.toLowerCase());let w=0;const T=[],C=t.footnoteCounts.get(_);for(;C!==void 0&&++w<=C;){T.length>0&&T.push({type:"text",value:" "});let U=typeof n=="string"?n:n(p,w);typeof U=="string"&&(U={type:"text",value:U}),T.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+x+(w>1?"-"+w:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(p,w),className:["data-footnote-backref"]},children:Array.isArray(U)?U:[U]})}const k=g[g.length-1];if(k&&k.type==="element"&&k.tagName==="p"){const U=k.children[k.children.length-1];U&&U.type==="text"?U.value+=" ":k.children.push({type:"text",value:" "}),k.children.push(...T)}else g.push(...T);const N={type:"element",tagName:"li",properties:{id:e+"fn-"+x},children:t.wrap(g,!0)};t.patch(f,N),d.push(N)}if(d.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Vl(u),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(d,!0)},{type:"text",value:`
`}]}}const pb=(function(t){if(t==null)return RU;if(typeof t=="function")return Wl(t);if(typeof t=="object")return Array.isArray(t)?AU(t):kU(t);if(typeof t=="string")return NU(t);throw new Error("Expected function, string, or object as test")});function AU(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=pb(t[n]);return Wl(r);function r(...o){let a=-1;for(;++a<e.length;)if(e[a].apply(this,o))return!0;return!1}}function kU(t){const e=t;return Wl(n);function n(r){const o=r;let a;for(a in t)if(o[a]!==e[a])return!1;return!0}}function NU(t){return Wl(e);function e(n){return n&&n.type===t}}function Wl(t){return e;function e(n,r,o){return!!(IU(n)&&t.call(this,n,typeof r=="number"?r:void 0,o||void 0))}}function RU(){return!0}function IU(t){return t!==null&&typeof t=="object"&&"type"in t}const mb=[],zU=!0,Fv=!1,MU="skip";function DU(t,e,n,r){let o;typeof e=="function"&&typeof n!="function"?(r=n,n=e):o=e;const a=pb(o),u=r?-1:1;d(t,void 0,[])();function d(p,f,g){const _=p&&typeof p=="object"?p:{};if(typeof _.type=="string"){const w=typeof _.tagName=="string"?_.tagName:typeof _.name=="string"?_.name:void 0;Object.defineProperty(x,"name",{value:"node ("+(p.type+(w?"<"+w+">":""))+")"})}return x;function x(){let w=mb,T,C,k;if((!e||a(p,f,g[g.length-1]||void 0))&&(w=PU(n(p,g)),w[0]===Fv))return w;if("children"in p&&p.children){const N=p;if(N.children&&w[0]!==MU)for(C=(r?N.children.length:-1)+u,k=g.concat(N);C>-1&&C<N.children.length;){const U=N.children[C];if(T=d(U,C,k)(),T[0]===Fv)return T;C=typeof T[1]=="number"?T[1]:C+u}}return w}}}function PU(t){return Array.isArray(t)?t:typeof t=="number"?[zU,t]:t==null?mb:[t]}function gb(t,e,n,r){let o,a,u;typeof e=="function"&&typeof n!="function"?(a=void 0,u=e,o=n):(a=e,u=n,o=r),DU(t,a,d,o);function d(p,f){const g=f[f.length-1],_=g?g.children.indexOf(p):void 0;return u(p,_,g)}}const vf={}.hasOwnProperty,UU={};function OU(t,e){const n=e||UU,r=new Map,o=new Map,a=new Map,u={..._U,...n.handlers},d={all:f,applyData:qU,definitionById:r,footnoteById:o,footnoteCounts:a,footnoteOrder:[],handlers:u,one:p,options:n,patch:LU,wrap:HU};return gb(t,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const _=g.type==="definition"?r:o,x=String(g.identifier).toUpperCase();_.has(x)||_.set(x,g)}}),d;function p(g,_){const x=g.type,w=d.handlers[x];if(vf.call(d.handlers,x)&&w)return w(d,g,_);if(d.options.passThrough&&d.options.passThrough.includes(x)){if("children"in g){const{children:C,...k}=g,N=Vl(k);return N.children=d.all(g),N}return Vl(g)}return(d.options.unknownHandler||BU)(d,g,_)}function f(g){const _=[];if("children"in g){const x=g.children;let w=-1;for(;++w<x.length;){const T=d.one(x[w],g);if(T){if(w&&x[w-1].type==="break"&&(!Array.isArray(T)&&T.type==="text"&&(T.value=$v(T.value)),!Array.isArray(T)&&T.type==="element")){const C=T.children[0];C&&C.type==="text"&&(C.value=$v(C.value))}Array.isArray(T)?_.push(...T):_.push(T)}}}return _}}function LU(t,e){t.position&&(e.position=bM(t))}function qU(t,e){let n=e;if(t&&t.data){const r=t.data.hName,o=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const u="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:u}}n.type==="element"&&a&&Object.assign(n.properties,Vl(a)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function BU(t,e){const n=e.data||{},r="value"in e&&!(vf.call(n,"hProperties")||vf.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function HU(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function $v(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function jv(t,e){const n=OU(t,e),r=n.one(t,void 0),o=CU(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return o&&a.children.push({type:"text",value:`
`},o),a}function VU(t,e){return t&&"run"in t?async function(n,r){const o=jv(n,{file:r,...e});await t.run(o,r)}:function(n,r){return jv(n,{file:r,...t||e})}}function Jv(t){if(t)throw t}var Dd,Yv;function GU(){if(Yv)return Dd;Yv=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=function(f){return typeof Array.isArray=="function"?Array.isArray(f):e.call(f)==="[object Array]"},a=function(f){if(!f||e.call(f)!=="[object Object]")return!1;var g=t.call(f,"constructor"),_=f.constructor&&f.constructor.prototype&&t.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!g&&!_)return!1;var x;for(x in f);return typeof x>"u"||t.call(f,x)},u=function(f,g){n&&g.name==="__proto__"?n(f,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):f[g.name]=g.newValue},d=function(f,g){if(g==="__proto__")if(t.call(f,g)){if(r)return r(f,g).value}else return;return f[g]};return Dd=function p(){var f,g,_,x,w,T,C=arguments[0],k=1,N=arguments.length,U=!1;for(typeof C=="boolean"&&(U=C,C=arguments[1]||{},k=2),(C==null||typeof C!="object"&&typeof C!="function")&&(C={});k<N;++k)if(f=arguments[k],f!=null)for(g in f)_=d(C,g),x=d(f,g),C!==x&&(U&&x&&(a(x)||(w=o(x)))?(w?(w=!1,T=_&&o(_)?_:[]):T=_&&a(_)?_:{},u(C,{name:g,newValue:p(U,T,x)})):typeof x<"u"&&u(C,{name:g,newValue:x}));return C},Dd}var FU=GU();const Pd=Vo(FU);function _f(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function $U(){const t=[],e={run:n,use:r};return e;function n(...o){let a=-1;const u=o.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);d(null,...o);function d(p,...f){const g=t[++a];let _=-1;if(p){u(p);return}for(;++_<o.length;)(f[_]===null||f[_]===void 0)&&(f[_]=o[_]);o=f,g?jU(g,d)(...f):u(null,...f)}}function r(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return t.push(o),e}}function jU(t,e){let n;return r;function r(...u){const d=t.length>u.length;let p;d&&u.push(o);try{p=t.apply(this,u)}catch(f){const g=f;if(d&&n)throw g;return o(g)}d||(p&&p.then&&typeof p.then=="function"?p.then(a,o):p instanceof Error?o(p):a(p))}function o(u,...d){n||(n=!0,e(u,...d))}function a(u){o(null,u)}}const zn={basename:JU,dirname:YU,extname:KU,join:XU,sep:"/"};function JU(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');jo(t);let n=0,r=-1,o=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;o--;)if(t.codePointAt(o)===47){if(a){n=o+1;break}}else r<0&&(a=!0,r=o+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let u=-1,d=e.length-1;for(;o--;)if(t.codePointAt(o)===47){if(a){n=o+1;break}}else u<0&&(a=!0,u=o+1),d>-1&&(t.codePointAt(o)===e.codePointAt(d--)?d<0&&(r=o):(d=-1,r=u));return n===r?r=u:r<0&&(r=t.length),t.slice(n,r)}function YU(t){if(jo(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function KU(t){jo(t);let e=t.length,n=-1,r=0,o=-1,a=0,u;for(;e--;){const d=t.codePointAt(e);if(d===47){if(u){r=e+1;break}continue}n<0&&(u=!0,n=e+1),d===46?o<0?o=e:a!==1&&(a=1):o>-1&&(a=-1)}return o<0||n<0||a===0||a===1&&o===n-1&&o===r+1?"":t.slice(o,n)}function XU(...t){let e=-1,n;for(;++e<t.length;)jo(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":QU(n)}function QU(t){jo(t);const e=t.codePointAt(0)===47;let n=WU(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function WU(t,e){let n="",r=0,o=-1,a=0,u=-1,d,p;for(;++u<=t.length;){if(u<t.length)d=t.codePointAt(u);else{if(d===47)break;d=47}if(d===47){if(!(o===u-1||a===1))if(o!==u-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(p=n.lastIndexOf("/"),p!==n.length-1){p<0?(n="",r=0):(n=n.slice(0,p),r=n.length-1-n.lastIndexOf("/")),o=u,a=0;continue}}else if(n.length>0){n="",r=0,o=u,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(o+1,u):n=t.slice(o+1,u),r=u-o-1;o=u,a=0}else d===46&&a>-1?a++:a=-1}return n}function jo(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const ZU={cwd:eO};function eO(){return"/"}function xf(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function tO(t){if(typeof t=="string")t=new URL(t);else if(!xf(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return nO(t)}function nO(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(e)}const Ud=["history","path","basename","stem","extname","dirname"];class yb{constructor(e){let n;e?xf(e)?n={path:e}:typeof e=="string"||iO(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":ZU.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Ud.length;){const a=Ud[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let o;for(o in n)Ud.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?zn.basename(this.path):void 0}set basename(e){Ld(e,"basename"),Od(e,"basename"),this.path=zn.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?zn.dirname(this.path):void 0}set dirname(e){Kv(this.basename,"dirname"),this.path=zn.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?zn.extname(this.path):void 0}set extname(e){if(Od(e,"extname"),Kv(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=zn.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){xf(e)&&(e=tO(e)),Ld(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?zn.basename(this.path,this.extname):void 0}set stem(e){Ld(e,"stem"),Od(e,"stem"),this.path=zn.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const o=this.message(e,n,r);throw o.fatal=!0,o}info(e,n,r){const o=this.message(e,n,r);return o.fatal=void 0,o}message(e,n,r){const o=new It(e,n,r);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Od(t,e){if(t&&t.includes(zn.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+zn.sep+"`")}function Ld(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Kv(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function iO(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const rO=(function(t){const r=this.constructor.prototype,o=r[t],a=function(){return o.apply(a,arguments)};return Object.setPrototypeOf(a,r),a}),sO={}.hasOwnProperty;class th extends rO{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=$U()}copy(){const e=new th;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Pd(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Hd("data",this.frozen),this.namespace[e]=n,this):sO.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Hd("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const o=n.call(e,...r);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=El(e),r=this.parser||this.Parser;return qd("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),qd("process",this.parser||this.Parser),Bd("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(a,u){const d=El(e),p=r.parse(d);r.run(p,d,function(g,_,x){if(g||!_||!x)return f(g);const w=_,T=r.stringify(w,x);lO(T)?x.value=T:x.result=T,f(g,x)});function f(g,_){g||!_?u(g):a?a(_):n(void 0,_)}}}processSync(e){let n=!1,r;return this.freeze(),qd("processSync",this.parser||this.Parser),Bd("processSync",this.compiler||this.Compiler),this.process(e,o),Qv("processSync","process",n),r;function o(a,u){n=!0,Jv(a),r=u}}run(e,n,r){Xv(e),this.freeze();const o=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(u,d){const p=El(n);o.run(e,p,f);function f(g,_,x){const w=_||e;g?d(g):u?u(w):r(void 0,w,x)}}}runSync(e,n){let r=!1,o;return this.run(e,n,a),Qv("runSync","run",r),o;function a(u,d){Jv(u),o=d,r=!0}}stringify(e,n){this.freeze();const r=El(n),o=this.compiler||this.Compiler;return Bd("stringify",o),Xv(e),o(e,r)}use(e,...n){const r=this.attachers,o=this.namespace;if(Hd("use",this.frozen),e!=null)if(typeof e=="function")p(e,n);else if(typeof e=="object")Array.isArray(e)?d(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(f){if(typeof f=="function")p(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[g,..._]=f;p(g,_)}else u(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function u(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");d(f.plugins),f.settings&&(o.settings=Pd(!0,o.settings,f.settings))}function d(f){let g=-1;if(f!=null)if(Array.isArray(f))for(;++g<f.length;){const _=f[g];a(_)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function p(f,g){let _=-1,x=-1;for(;++_<r.length;)if(r[_][0]===f){x=_;break}if(x===-1)r.push([f,...g]);else if(g.length>0){let[w,...T]=g;const C=r[x][1];_f(C)&&_f(w)&&(w=Pd(!0,C,w)),r[x]=[f,w,...T]}}}}const oO=new th().freeze();function qd(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Bd(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Hd(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Xv(t){if(!_f(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Qv(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function El(t){return aO(t)?t:new yb(t)}function aO(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function lO(t){return typeof t=="string"||uO(t)}function uO(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const cO="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Wv=[],Zv={allowDangerousHtml:!0},dO=/^(https?|ircs?|mailto|xmpp)$/i,fO=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function vb(t){const e=hO(t),n=pO(t);return mO(e.runSync(e.parse(n),n),t)}function hO(t){const e=t.rehypePlugins||Wv,n=t.remarkPlugins||Wv,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Zv}:Zv;return oO().use(JP).use(n).use(VU,r).use(e)}function pO(t){const e=t.children||"",n=new yb;return typeof e=="string"&&(n.value=e),n}function mO(t,e){const n=e.allowedElements,r=e.allowElement,o=e.components,a=e.disallowedElements,u=e.skipHtml,d=e.unwrapDisallowed,p=e.urlTransform||gO;for(const g of fO)Object.hasOwn(e,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+cO+g.id,void 0);return gb(t,f),CM(t,{Fragment:b.Fragment,components:o,ignoreInvalidStyle:!0,jsx:b.jsx,jsxs:b.jsxs,passKeys:!0,passNode:!0});function f(g,_,x){if(g.type==="raw"&&x&&typeof _=="number")return u?x.children.splice(_,1):x.children[_]={type:"text",value:g.value},_;if(g.type==="element"){let w;for(w in Id)if(Object.hasOwn(Id,w)&&Object.hasOwn(g.properties,w)){const T=g.properties[w],C=Id[w];(C===null||C.includes(g.tagName))&&(g.properties[w]=p(String(T||""),w,g))}}if(g.type==="element"){let w=n?!n.includes(g.tagName):a?a.includes(g.tagName):!1;if(!w&&r&&typeof _=="number"&&(w=!r(g,_,x)),w&&x&&typeof _=="number")return d&&g.children?x.children.splice(_,1,...g.children):x.children.splice(_,1),_}}}function gO(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),o=t.indexOf("/");return e===-1||o!==-1&&e>o||n!==-1&&e>n||r!==-1&&e>r||dO.test(t.slice(0,e))?t:""}const yO=({label:t,sectionId:e,value:n,placeholder:r,context:o,onChange:a,description:u,isGenerating:d,onGenerate:p,isZoomed:f,onToggleZoom:g})=>{const[_,x]=me.useState(!1),[w,T]=me.useState(null),[C,k]=me.useState(!1),[N,U]=me.useState("write"),[R,V]=me.useState(!1),[W,P]=me.useState(""),F=me.useRef(null);me.useEffect(()=>{if(!f&&N==="write"&&F.current){F.current.style.height="auto";const X=Math.max(180,F.current.scrollHeight);F.current.style.height=`${X}px`}},[n,f,N]),me.useEffect(()=>(f?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[f]);const ie=async()=>{if(W.trim()){x(!0),T(null);try{const X=await wN(n,W);a(X),V(!1),P(""),U("write")}catch{T("Failed to enhance content.")}finally{x(!1)}}},te=X=>{X.key==="Enter"&&!X.shiftKey&&(X.preventDefault(),ie()),X.key==="Escape"&&(R?V(!1):f&&g())},ue=f?"fixed inset-0 m-4 sm:inset-6 md:inset-10 z-[60] flex flex-col shadow-2xl ring-1 ring-zinc-900/10 dark:ring-white/10 animate-in zoom-in-95 fade-in duration-200":`relative transition-all duration-300 ${C||R?"shadow-xl shadow-zinc-200/60 dark:shadow-black/50 ring-2 ring-zinc-900 dark:ring-zinc-100 border-transparent":"border border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700 shadow-sm"}`,se=b.jsxs("div",{className:`
        group bg-white dark:bg-zinc-900 rounded-2xl
        ${ue}
      `,onFocus:()=>k(!0),onBlur:()=>k(!1),children:[b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between px-6 py-5 gap-4 border-b border-zinc-100 dark:border-zinc-800/50 min-h-[72px] flex-shrink-0",children:[b.jsxs("div",{className:`flex flex-col gap-3 flex-1 min-w-0 ${R?"hidden sm:flex opacity-40":""}`,children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100 tracking-tight leading-none truncate pr-2",children:t}),u&&!f&&b.jsx("p",{className:"hidden sm:block text-sm text-zinc-500 dark:text-zinc-400 font-medium leading-relaxed truncate mt-1.5",children:u})]}),b.jsxs("div",{className:"flex items-center p-1 bg-zinc-100 dark:bg-zinc-800/50 rounded-full self-start w-auto border border-zinc-200 dark:border-zinc-800",children:[b.jsxs("button",{onClick:()=>U("write"),className:`
                        flex items-center gap-2 px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-wider transition-all
                        ${N==="write"?"bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 shadow-sm ring-1 ring-black/5":"text-zinc-500 dark:text-zinc-400 hover:text-zinc-700 dark:hover:text-zinc-300"}
                    `,children:[b.jsx(gz,{size:14}),"Write"]}),b.jsxs("button",{onClick:()=>U("preview"),className:`
                        flex items-center gap-2 px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-wider transition-all
                        ${N==="preview"?"bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 shadow-sm ring-1 ring-black/5":"text-zinc-500 dark:text-zinc-400 hover:text-zinc-700 dark:hover:text-zinc-300"}
                    `,children:[b.jsx(ql,{size:14}),"Preview"]})]})]}),b.jsx("div",{className:`flex-shrink-0 flex items-center justify-end gap-2 sm:gap-3 ${R?"w-full sm:w-auto":""} pt-1`,children:R?b.jsxs("div",{className:"flex items-center gap-2 w-full animate-enter",children:[b.jsx("div",{className:"relative flex-1 sm:w-80",children:b.jsx("input",{autoFocus:!0,type:"text",value:W,onChange:X=>P(X.target.value),onKeyDown:te,placeholder:"How should we improve this?",className:"w-full bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 rounded-full pl-5 pr-2 py-3 text-sm text-zinc-900 dark:text-zinc-100 focus:ring-2 focus:ring-zinc-900 dark:focus:ring-zinc-50 focus:border-transparent placeholder:text-zinc-400 shadow-sm"})}),b.jsx("button",{onClick:ie,disabled:_||!W.trim(),className:"p-3 bg-zinc-900 dark:bg-zinc-50 text-white dark:text-zinc-900 rounded-full hover:opacity-90 disabled:opacity-50 transition-all flex-shrink-0 shadow-sm",children:_?b.jsx(Bl,{size:14,className:"animate-spin"}):b.jsx(dI,{size:14})}),b.jsx("button",{onClick:()=>V(!1),className:"p-3 text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-200 flex-shrink-0",children:b.jsx(Cs,{size:16})})]}):b.jsxs("div",{className:"flex items-center gap-2 sm:gap-2.5",children:[n.length>0&&!d&&b.jsx("button",{onClick:()=>a(""),className:`${f?"flex":"hidden group-hover:flex"} p-3 text-zinc-300 hover:text-red-500 transition-colors rounded-full hover:bg-zinc-100 dark:hover:bg-zinc-800 items-center justify-center`,title:"Clear section",children:b.jsx(LI,{size:18,className:"sm:w-4 sm:h-4"})}),n.length>0&&b.jsxs("button",{onClick:()=>V(!0),disabled:d||_,className:"flex items-center gap-2 px-4 py-2.5 rounded-full text-xs font-bold uppercase tracking-wider bg-white dark:bg-zinc-800 text-zinc-700 dark:text-zinc-300 hover:bg-zinc-50 dark:hover:bg-zinc-700 transition-colors border border-zinc-200 dark:border-zinc-700 hover:border-zinc-300 dark:hover:border-zinc-600 shadow-sm",children:[b.jsx(Dx,{size:14,className:"sm:w-3.5 sm:h-3.5"}),b.jsx("span",{className:"hidden sm:inline",children:"Refine"})]}),b.jsxs("button",{onClick:()=>{U("write"),p()},disabled:d||_,className:`
                            flex items-center gap-2 px-5 py-2.5 rounded-full
                            text-xs font-bold uppercase tracking-wider transition-all
                            ${d?"bg-zinc-100 dark:bg-zinc-800 text-zinc-400 cursor-wait":"bg-zinc-900 dark:bg-zinc-50 text-white dark:text-zinc-900 hover:bg-zinc-800 dark:hover:bg-zinc-200 shadow-md"}
                        `,children:[d?b.jsx(Bl,{size:14,className:"animate-spin sm:w-3.5 sm:h-3.5"}):b.jsx(ys,{size:14,fill:"currentColor",className:"sm:w-3.5 sm:h-3.5"}),b.jsx("span",{className:d?"inline":"hidden sm:inline",children:d?"Generating":"Auto-Fill"})]}),b.jsx("div",{className:"w-px h-6 bg-zinc-200 dark:bg-zinc-800 mx-1"}),b.jsx("button",{onClick:g,className:"p-3 text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors rounded-full hover:bg-zinc-100 dark:hover:bg-zinc-800",title:f?"Minimize":"Focus Mode",children:f?b.jsx(uz,{size:18,className:"sm:w-4 sm:h-4"}):b.jsx(sz,{size:18,className:"sm:w-4 sm:h-4"})})]})})]}),b.jsx("div",{className:`p-2 relative ${f?"flex-1 flex flex-col min-h-0":""}`,children:N==="write"?b.jsx("textarea",{ref:F,value:n,onChange:X=>{a(X.target.value),w&&T(null)},placeholder:r,className:`
                block w-full rounded-b-xl bg-transparent px-6 sm:px-7 py-5 text-base leading-relaxed
                text-zinc-900 dark:text-zinc-100 font-mono sm:font-sans
                placeholder:text-zinc-400 dark:placeholder:text-zinc-600
                focus:outline-none 
                ${f?"flex-1 resize-none text-lg p-8 overflow-y-auto":"resize-none overflow-hidden min-h-[180px]"}
              `}):b.jsx("div",{className:`
                w-full px-6 sm:px-7 py-5 
                ${f?"flex-1 overflow-y-auto p-8":"min-h-[180px]"}
            `,children:n?b.jsx("div",{className:"prose prose-zinc dark:prose-invert prose-sm sm:prose-base max-w-none leading-relaxed",children:b.jsx(vb,{components:{h3:({node:X,...pe})=>b.jsx("h3",{className:"text-zinc-900 dark:text-zinc-100 font-semibold mt-4 mb-2 text-base",...pe}),ul:({node:X,...pe})=>b.jsx("ul",{className:"list-disc pl-5 space-y-1 my-2 marker:text-zinc-300 dark:marker:text-zinc-600",...pe}),li:({node:X,...pe})=>b.jsx("li",{className:"pl-1",...pe}),p:({node:X,...pe})=>b.jsx("p",{className:"mb-3 text-zinc-700 dark:text-zinc-300",...pe}),strong:({node:X,...pe})=>b.jsx("strong",{className:"font-semibold text-zinc-900 dark:text-zinc-100",...pe}),code:({node:X,...pe})=>b.jsx("code",{className:"bg-zinc-100 dark:bg-zinc-800 px-1 py-0.5 rounded text-sm text-zinc-800 dark:text-zinc-200",...pe})},children:n})}):b.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-zinc-400 dark:text-zinc-600 italic text-sm",children:[b.jsx(ql,{size:24,className:"mb-2 opacity-50"}),b.jsx("span",{children:"Nothing to preview yet."})]})})}),N==="write"&&n.length===0&&!C&&!d&&!R&&!f&&b.jsxs("div",{className:"absolute top-[65%] left-1/2 -translate-x-1/2 pointer-events-none opacity-40 flex flex-col items-center gap-2",children:[b.jsx(RI,{size:28,className:"text-zinc-200 dark:text-zinc-700"}),b.jsx("span",{className:"text-xs font-medium text-zinc-300 dark:text-zinc-700 whitespace-nowrap",children:"Write or Auto-Fill..."})]}),w&&b.jsx("div",{className:"px-6 pb-5",children:b.jsxs("p",{className:"text-xs text-red-500 font-medium flex items-center gap-1",children:[b.jsx("span",{children:""})," ",w]})})]});return f?Qz.createPortal(se,document.body):se},vO=({prd:t,context:e,onUpdateContext:n,onUpdateSection:r,onGenerateDescription:o,onGenerateSection:a,onGenerateAll:u,onBack:d,onPreview:p,loadingStates:f})=>{const[g,_]=me.useState(null);return b.jsxs("div",{className:"animate-enter flex flex-col gap-10 max-w-4xl mx-auto",children:[g&&b.jsx("div",{className:"fixed inset-0 bg-white/80 dark:bg-zinc-950/80 backdrop-blur-sm z-40 animate-in fade-in duration-300",onClick:()=>_(null)}),b.jsx("div",{className:`transition-opacity duration-300 ${g?"opacity-20 pointer-events-none":""}`,children:b.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 sm:p-8 rounded-3xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-6 text-zinc-900 dark:text-white",children:[b.jsx(ys,{size:18,className:"text-zinc-900 dark:text-white"}),b.jsx("h2",{className:"font-semibold text-lg tracking-tight",children:"Product Context"})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"space-y-2.5",children:[b.jsx("label",{className:"text-xs font-bold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider",children:"Product Name"}),b.jsx("input",{type:"text",className:"w-full bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 rounded-xl px-4 py-3 text-base font-medium text-zinc-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-zinc-900 dark:focus:ring-zinc-50 focus:border-transparent transition-all shadow-sm",placeholder:"Name your product...",value:t.productName,onChange:x=>n("productName",x.target.value)})]}),b.jsxs("div",{className:"space-y-2.5",children:[b.jsx("label",{className:"text-xs font-bold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider",children:"Version"}),b.jsx("input",{type:"text",className:"w-full bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 rounded-xl px-4 py-3 text-base font-medium text-zinc-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-zinc-900 dark:focus:ring-zinc-50 focus:border-transparent transition-all shadow-sm",placeholder:"e.g., 1.0, 2.1.0, v1.0-beta",value:t.version,onChange:x=>n("version",x.target.value)})]})]}),b.jsxs("div",{className:"space-y-2.5 mt-6 relative",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("label",{className:"text-xs font-bold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider",children:"Description"}),b.jsxs("button",{onClick:o,disabled:f.isGeneratingDescription||!t.productName,className:"text-[10px] font-bold uppercase tracking-wider text-zinc-500 hover:text-zinc-900 dark:hover:text-white disabled:opacity-30 transition-colors flex items-center gap-1.5 px-2 py-1 rounded-full bg-zinc-50 hover:bg-zinc-100 dark:bg-zinc-800 dark:hover:bg-zinc-700 border border-zinc-200 dark:border-zinc-700",children:[f.isGeneratingDescription?b.jsx(Bl,{size:12,className:"animate-spin"}):b.jsx(ys,{size:12}),"Auto-Fill"]})]}),b.jsx("textarea",{className:"w-full bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 rounded-xl px-4 py-3 text-sm text-zinc-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-zinc-900 dark:focus:ring-zinc-50 focus:border-transparent transition-all resize-none leading-relaxed shadow-sm",rows:3,placeholder:"What does it do? Who is it for?",value:t.shortDescription,onChange:x=>n("shortDescription",x.target.value)})]})]})}),b.jsxs("div",{className:"space-y-8 pb-24 relative",children:[b.jsxs("div",{className:`flex items-center justify-between mb-4 transition-opacity duration-300 ${g?"opacity-20 pointer-events-none":""}`,children:[b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[b.jsx("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-white",children:"Content"}),b.jsxs("span",{className:"text-xs font-medium text-zinc-600 dark:text-zinc-500 px-2.5 py-1 rounded-full bg-zinc-100 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 self-start sm:self-auto",children:[t.sections.filter(x=>x.isEnabled).length," Sections"]})]}),b.jsxs("button",{onClick:u,disabled:f.isGeneratingAll||!t.productName,className:`
              flex items-center gap-2 px-5 py-2.5 rounded-full
              text-xs font-bold uppercase tracking-wider transition-all
              ${f.isGeneratingAll?"bg-zinc-100 dark:bg-zinc-800 text-zinc-400 cursor-wait":"bg-white dark:bg-zinc-900 border border-zinc-300 dark:border-zinc-800 text-zinc-900 dark:text-white hover:border-zinc-400 dark:hover:border-zinc-700 shadow-sm hover:shadow"}
            `,children:[f.isGeneratingAll?b.jsx(Bl,{size:14,className:"animate-spin"}):b.jsx(Dx,{size:14}),b.jsx("span",{children:f.isGeneratingAll?"Generating All...":"Generate All"})]})]}),t.sections.filter(x=>x.isEnabled).map(x=>b.jsxs(e_.Fragment,{children:[b.jsx(yO,{label:x.title,sectionId:x.id,value:x.content,placeholder:x.placeholder,description:x.description,context:e,onChange:w=>r(x.id,w),isGenerating:f.generatingSections[x.id]||!1,onGenerate:()=>a(x.id,x.title),isZoomed:g===x.id,onToggleZoom:()=>_(g===x.id?null:x.id)}),g===x.id&&b.jsx("div",{className:"h-[250px] w-full","aria-hidden":"true"})]},x.id)),b.jsxs("div",{className:`flex justify-between items-center pt-10 border-t border-zinc-200 dark:border-zinc-800 mt-12 transition-opacity duration-300 ${g?"opacity-20 pointer-events-none":""}`,children:[b.jsx(gt,{variant:"ghost",onClick:d,leftIcon:b.jsx(Ex,{size:16}),children:"Structure"}),b.jsx(gt,{onClick:p,size:"lg",rightIcon:b.jsx(pz,{size:16}),className:"shadow-lg shadow-zinc-200/50 dark:shadow-zinc-900/50",children:"Preview PRD"})]})]})]})},_b=({prd:t})=>{const e=t.sections.filter(d=>d.isEnabled),[n,r]=me.useState(!1),[o,a]=me.useState(null);me.useEffect(()=>{const d=()=>{const f=e.map(g=>document.getElementById(`section-${g.id}`)).find(g=>{if(!g)return!1;const _=g.getBoundingClientRect();return _.top<=150&&_.bottom>=150});f&&a(f.id.replace("section-",""))};return window.addEventListener("scroll",d),d(),()=>window.removeEventListener("scroll",d)},[e]);const u=d=>{const p=document.getElementById(`section-${d}`);if(p){const g=p.getBoundingClientRect().top+window.pageYOffset;window.scrollTo({top:g-100,behavior:"smooth"}),r(!1)}};return b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-xl md:rounded-2xl border-y md:border border-zinc-200 dark:border-zinc-800 shadow-sm min-h-[80vh] overflow-hidden transition-colors duration-300 relative",children:[b.jsx("div",{className:"fixed left-4 top-1/2 -translate-y-1/2 z-20 hidden lg:block",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:b.jsx("div",{className:`
          transition-all duration-300 ease-out
          ${n?"w-72":"w-12"}
        `,children:b.jsx("div",{className:`
            bg-white dark:bg-zinc-900 rounded-2xl shadow-lg border border-zinc-200 dark:border-zinc-800
            transition-all duration-300
            ${n?"p-4":"p-3"}
          `,children:n?b.jsxs("div",{className:"space-y-1 animate-in fade-in duration-200",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-3 border-b border-zinc-200 dark:border-zinc-800",children:[b.jsx(tz,{size:16,className:"text-zinc-500 dark:text-zinc-400"}),b.jsx("span",{className:"text-xs font-bold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider",children:"Contents"})]}),e.map((d,p)=>b.jsxs("button",{onClick:()=>u(d.id),className:`
                      w-full text-left px-3 py-2 rounded-lg text-sm transition-all
                      ${o===d.id?"bg-zinc-100 dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 font-semibold":"text-zinc-600 dark:text-zinc-400 hover:bg-zinc-50 dark:hover:bg-zinc-800/50 font-medium"}
                    `,children:[b.jsx("span",{className:"text-zinc-400 dark:text-zinc-600 mr-2",children:String(p+1).padStart(2,"0")}),d.title]},d.id))]}):b.jsx("div",{className:"flex flex-col gap-1.5",children:e.map(d=>b.jsx("div",{className:`h-1 rounded-full transition-all ${o===d.id?"bg-zinc-900 dark:bg-zinc-100 w-6":"bg-zinc-300 dark:bg-zinc-700 w-4"}`},d.id))})})})}),b.jsxs("div",{className:"bg-zinc-50/50 dark:bg-zinc-950/30 border-b border-zinc-100 dark:border-zinc-800 p-6 md:p-16 text-center",children:[b.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-zinc-100 dark:bg-zinc-800 text-zinc-500 dark:text-zinc-400 text-[10px] font-bold uppercase tracking-widest mb-6",children:"Product Requirements Document"}),b.jsx("h1",{className:"text-3xl md:text-5xl font-extrabold text-zinc-900 dark:text-white mb-6 tracking-tight leading-tight",children:t.productName||"Untitled Product"}),t.shortDescription&&b.jsx("p",{className:"text-lg md:text-xl text-zinc-500 dark:text-zinc-400 leading-relaxed max-w-2xl mx-auto font-light",children:t.shortDescription}),b.jsxs("div",{className:"mt-8 flex justify-center items-center gap-6 text-xs text-zinc-400 dark:text-zinc-500 font-medium uppercase tracking-wider",children:[b.jsxs("span",{children:["Version ",t.version]}),b.jsx("span",{children:""}),b.jsx("span",{children:new Date(t.lastUpdated).toLocaleDateString()})]})]}),b.jsx("div",{className:"p-6 md:p-16 max-w-3xl mx-auto space-y-12 md:space-y-16",children:e.map((d,p)=>b.jsxs("section",{id:`section-${d.id}`,className:"group scroll-mt-24",children:[b.jsxs("div",{className:"flex items-center gap-4 mb-4 md:mb-6",children:[b.jsx("span",{className:"text-zinc-200 dark:text-zinc-800 font-bold text-3xl md:text-4xl select-none group-hover:text-zinc-300 dark:group-hover:text-zinc-700 transition-colors",children:String(p+1).padStart(2,"0")}),b.jsx("h2",{className:"text-lg md:text-xl font-bold text-zinc-900 dark:text-zinc-100 tracking-tight",children:d.title})]}),b.jsx("div",{className:"pl-0 md:pl-12 prose prose-zinc dark:prose-invert prose-sm sm:prose-base max-w-none text-zinc-600 dark:text-zinc-300 leading-7",children:d.content?b.jsx(vb,{components:{h3:({node:f,...g})=>b.jsx("h3",{className:"text-zinc-900 dark:text-zinc-100 font-semibold mt-6 mb-3 text-base",...g}),ul:({node:f,...g})=>b.jsx("ul",{className:"list-disc pl-5 space-y-1 my-4 marker:text-zinc-300 dark:marker:text-zinc-600",...g}),li:({node:f,...g})=>b.jsx("li",{className:"pl-1",...g}),p:({node:f,...g})=>b.jsx("p",{className:"mb-4 text-zinc-600 dark:text-zinc-300",...g}),strong:({node:f,...g})=>b.jsx("strong",{className:"font-semibold text-zinc-900 dark:text-zinc-100",...g}),code:({node:f,...g})=>b.jsx("code",{className:"bg-zinc-100 dark:bg-zinc-800 px-1 py-0.5 rounded text-sm",...g})},children:d.content}):b.jsx("p",{className:"text-zinc-300 dark:text-zinc-600 italic font-light",children:"Content pending..."})})]},d.id))}),b.jsx("div",{className:"bg-zinc-50 dark:bg-zinc-950/50 border-t border-zinc-100 dark:border-zinc-800 p-8 text-center",children:b.jsx("p",{className:"text-zinc-400 dark:text-zinc-600 text-xs font-medium uppercase tracking-widest",children:"Generated with GZPRD"})})]})},_O=({onExport:t,onClose:e})=>{const n=[{id:"pdf",label:"Export as PDF",icon:b.jsx(Fo,{size:16})},{id:"markdown",label:"Export as Markdown",icon:b.jsx(GI,{size:16})},{id:"txt",label:"Export as Text",icon:b.jsx(jI,{size:16})},{id:"json",label:"Export as JSON",icon:b.jsx(HI,{size:16})},{id:"html",label:"Export as HTML",icon:b.jsx(YI,{size:16})}];return b.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-white dark:bg-zinc-900 rounded-xl shadow-xl ring-1 ring-black/5 dark:ring-white/10 overflow-hidden z-50 animate-enter origin-top-right p-1",children:b.jsx("div",{className:"flex flex-col gap-0.5",children:n.map(r=>b.jsxs("button",{onClick:()=>{t(r.id),e()},className:"flex items-center gap-3 px-4 py-3 text-sm font-medium text-zinc-700 dark:text-zinc-200 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg transition-colors text-left",children:[b.jsx("span",{className:"text-zinc-400 dark:text-zinc-500",children:r.icon}),r.label]},r.id))})})},Tl=(t,e,n)=>{const r=new Blob([t],{type:n}),o=URL.createObjectURL(r),a=document.createElement("a");a.href=o,a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(o)},xO=t=>{const e=t.sections.filter(r=>r.isEnabled);let n=`# ${t.productName||"Untitled Product"}

`;return t.shortDescription&&(n+=`> ${t.shortDescription}

`),n+=`**Version:** 1.0  
`,n+=`**Last Updated:** ${new Date(t.lastUpdated).toLocaleDateString()}

`,n+=`---

`,e.forEach(r=>{n+=`## ${r.title}

`,n+=`${r.content||"(No content)"}

`}),n+=`
---
*Generated with Propel PRD*`,n},bO=t=>{const e=t.sections.filter(r=>r.isEnabled);let n=`${t.productName||"Untitled Product"}
`;return n+=`${"=".repeat(n.length)}

`,t.shortDescription&&(n+=`${t.shortDescription}

`),n+=`Version: 1.0
`,n+=`Last Updated: ${new Date(t.lastUpdated).toLocaleDateString()}

`,e.forEach(r=>{n+=`
${r.title.toUpperCase()}
`,n+=`${"-".repeat(r.title.length)}
`,n+=`${r.content||"(No content)"}
`}),n},wO=t=>{const e=t.sections.filter(o=>o.isEnabled),n=t.productName||"Untitled Product";let r=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${n} - PRD</title>
    <style>
        body { font-family: system-ui, -apple-system, sans-serif; line-height: 1.6; color: #333; max-width: 800px; margin: 0 auto; padding: 2rem; }
        h1 { font-size: 2.5rem; margin-bottom: 0.5rem; color: #111; }
        .meta { color: #666; font-size: 0.9rem; margin-bottom: 2rem; border-bottom: 1px solid #eee; padding-bottom: 1rem; }
        h2 { margin-top: 2rem; border-bottom: 1px solid #eee; padding-bottom: 0.5rem; color: #111; }
        .description { font-size: 1.2rem; color: #555; margin-bottom: 2rem; font-weight: 300; }
        pre { background: #f4f4f5; padding: 1rem; border-radius: 0.5rem; overflow-x: auto; }
        code { font-family: monospace; background: #f4f4f5; padding: 0.2rem 0.4rem; border-radius: 0.25rem; }
        footer { margin-top: 4rem; text-align: center; color: #888; font-size: 0.8rem; }
    </style>
</head>
<body>
    <header>
        <h1>${n}</h1>
        <div class="description">${t.shortDescription||""}</div>
        <div class="meta">
            <span>Version 1.0</span>  
            <span>Last Updated: ${new Date(t.lastUpdated).toLocaleDateString()}</span>
        </div>
    </header>
    <main>`;return e.forEach(o=>{const a=o.content?o.content.split(`

`).map(u=>`<p>${u.replace(/\n/g,"<br>")}</p>`).join(""):"<p><em>(No content)</em></p>";r+=`
        <section>
            <h2>${o.title}</h2>
            <div>${a}</div>
        </section>`}),r+=`
    </main>
    <footer>
        Generated with Propel PRD
    </footer>
</body>
</html>`,r},SO=({prd:t,onBack:e,onPublish:n})=>{const[r,o]=me.useState(!1),a=u=>{const d=(t.productName||"prd").toLowerCase().replace(/[^a-z0-9]+/g,"-");switch(u){case"json":Tl(JSON.stringify(t,null,2),`${d}.json`,"application/json");break;case"markdown":Tl(xO(t),`${d}.md`,"text/markdown");break;case"txt":Tl(bO(t),`${d}.txt`,"text/plain");break;case"html":Tl(wO(t),`${d}.html`,"text/html");break;case"pdf":window.print();break;default:console.warn(`Export format '${u}' not implemented yet.`)}o(!1)};return b.jsxs("div",{className:"animate-enter space-y-8 max-w-4xl mx-auto",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 bg-white dark:bg-zinc-900 p-5 rounded-3xl border border-zinc-200 dark:border-zinc-800 shadow-sm relative z-40 print:hidden",children:[b.jsx(gt,{variant:"ghost",onClick:e,leftIcon:b.jsx(Ex,{size:16}),children:"Back to Editor"}),b.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[b.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[b.jsx(gt,{variant:"outline",className:"w-full",onClick:()=>o(!r),leftIcon:b.jsx(UI,{size:16}),children:"Export"}),r&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 z-40 cursor-default",onClick:()=>o(!1)}),b.jsx(_O,{onExport:a,onClose:()=>o(!1)})]})]}),b.jsx(gt,{variant:"primary",className:"flex-1 sm:flex-none",onClick:n,leftIcon:b.jsx(_z,{size:16}),children:"Publish"})]})]}),b.jsx("div",{className:"print:p-0",children:b.jsx(_b,{prd:t})})]})},EO=({prdId:t,prdTitle:e,currentStatus:n,onStatusChange:r})=>{const[o,a]=me.useState(!1),[u,d]=me.useState(""),[p,f]=me.useState(""),[g,_]=me.useState(""),[x,w]=me.useState(!1),T=async C=>{a(!0);try{await r(C,{title:e,comment:u,approverName:p,approverEmail:g}),d(""),f(""),_(""),w(!1)}catch(k){console.error("Failed to update status",k)}finally{a(!1)}};return n==="approved"?b.jsx("div",{className:"bg-green-50 dark:bg-green-900/10 rounded-2xl border border-green-200 dark:border-green-900/30 p-6 animate-enter",children:b.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[b.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 flex items-center justify-center mb-1",children:b.jsx(Bo,{size:24,strokeWidth:2.5})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-bold text-green-800 dark:text-green-100",children:"Approved"}),b.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"This PRD has been officially approved."})]}),b.jsx("button",{onClick:()=>T("pending"),className:"text-xs text-green-600/60 hover:text-green-600 underline mt-2",children:"Reset Status"})]})}):n==="rejected"?b.jsx("div",{className:"bg-red-50 dark:bg-red-900/10 rounded-2xl border border-red-200 dark:border-red-900/30 p-6 animate-enter",children:b.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[b.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 flex items-center justify-center mb-1",children:b.jsx(Ix,{size:24,strokeWidth:2.5})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-bold text-red-800 dark:text-red-100",children:"Changes Requested"}),b.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 font-medium",children:"This PRD has been marked for revision."})]}),b.jsx("button",{onClick:()=>T("pending"),className:"text-xs text-red-600/60 hover:text-red-600 underline mt-2",children:"Reset Status"})]})}):b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl border border-zinc-200 dark:border-zinc-800 p-6 shadow-sm transition-all duration-300",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[b.jsx(Bo,{size:20,className:"text-zinc-900 dark:text-zinc-100"}),b.jsx("h3",{className:"text-base font-bold text-zinc-900 dark:text-white",children:"Review & Approval"})]}),b.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mb-6 leading-relaxed",children:"Please review the requirements document. You can approve the PRD or request changes below."}),b.jsxs("button",{onClick:()=>w(!x),className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider text-zinc-500 hover:text-zinc-900 dark:hover:text-zinc-200 mb-5 transition-colors group select-none",children:[b.jsx("div",{className:"p-1 rounded-full bg-zinc-100 dark:bg-zinc-800 group-hover:bg-zinc-200 dark:group-hover:bg-zinc-700 transition-colors border border-zinc-200 dark:border-zinc-700",children:x?b.jsx(CI,{size:12}):b.jsx(Tx,{size:12})}),b.jsx("span",{children:x?"Hide Details":"Add Details & Feedback (Optional)"})]}),x&&b.jsxs("div",{className:"mb-6 animate-enter space-y-3",children:[b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[b.jsxs("div",{className:"relative group",children:[b.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400 group-focus-within:text-zinc-900 dark:group-focus-within:text-zinc-100 transition-colors pointer-events-none",children:b.jsx(Bz,{size:14})}),b.jsx("input",{type:"text",value:p,onChange:C=>f(C.target.value),placeholder:"Approver Name",className:"w-full bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 rounded-xl pl-9 pr-4 py-3 text-sm text-zinc-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-zinc-900 dark:focus:ring-zinc-50 focus:border-transparent transition-all placeholder:text-zinc-400 shadow-sm",disabled:o})]}),b.jsxs("div",{className:"relative group",children:[b.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400 group-focus-within:text-zinc-900 dark:group-focus-within:text-zinc-100 transition-colors pointer-events-none",children:b.jsx(kx,{size:14})}),b.jsx("input",{type:"email",value:g,onChange:C=>_(C.target.value),placeholder:"Approver Email",className:"w-full bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 rounded-xl pl-9 pr-4 py-3 text-sm text-zinc-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-zinc-900 dark:focus:ring-zinc-50 focus:border-transparent transition-all placeholder:text-zinc-400 shadow-sm",disabled:o})]})]}),b.jsx("textarea",{value:u,onChange:C=>d(C.target.value),placeholder:"Add notes, reasoning, or specific feedback...",className:"w-full bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 rounded-xl px-4 py-3 text-sm text-zinc-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-zinc-900 dark:focus:ring-zinc-50 focus:border-transparent transition-all resize-none placeholder:text-zinc-400 shadow-sm",rows:3,disabled:o})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsxs("button",{onClick:()=>T("rejected"),disabled:o,className:"flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 text-zinc-700 dark:text-zinc-300 hover:bg-red-50 hover:text-red-600 hover:border-red-200 dark:hover:bg-red-900/20 dark:hover:text-red-400 dark:hover:border-red-900/30 font-semibold text-sm transition-all disabled:opacity-50 shadow-sm",children:[b.jsx(Cs,{size:16}),"Reject"]}),b.jsxs("button",{onClick:()=>T("approved"),disabled:o,className:"flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 hover:opacity-90 font-semibold text-sm transition-all shadow-md hover:shadow-lg disabled:opacity-50",children:[o?b.jsx(Bf,{size:16,className:"animate-spin"}):b.jsx(gs,{size:16,strokeWidth:3}),o?"Sending...":"Approve"]})]})]})},TO=({prd:t,onBack:e,onComment:n,onUpvote:r,onStatusChange:o})=>{var F;const[a,u]=me.useState(""),[d,p]=me.useState(!1),[f,g]=me.useState(!1),[_,x]=me.useState(!1),[w,T]=me.useState(()=>typeof window<"u"?document.documentElement.classList.contains("dark"):!1);me.useEffect(()=>{const ie=()=>{x(window.scrollY>50)};return window.addEventListener("scroll",ie),()=>window.removeEventListener("scroll",ie)},[]);const C=()=>{const ie=!w;T(ie),ie?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},k=t.publicSettings||{allowComments:!0,allowUpvotes:!0,enableApprovalFlow:!1},{allowComments:N,allowUpvotes:U,enableApprovalFlow:R}=k,V=async()=>{d||(p(!0),await r())},W=async ie=>{ie.preventDefault(),a.trim()&&(await n(a),u(""))},P=()=>{const ie=window.location.href.includes("view=public")?window.location.href:`${window.location.origin}${window.location.pathname}?id=${t.id}&view=public`;navigator.clipboard.writeText(ie),g(!0),setTimeout(()=>g(!1),2e3)};return b.jsxs("div",{className:"min-h-screen bg-zinc-50/50 dark:bg-zinc-950 transition-colors duration-300",children:[b.jsx("nav",{className:`
        sticky top-0 z-10 transition-all duration-300
        ${_?"-translate-y-full opacity-0":"translate-y-0 opacity-100"}
        bg-white/80 dark:bg-zinc-900/80 backdrop-blur-sm border-b border-zinc-200 dark:border-zinc-800
      `,children:b.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[b.jsx("div",{className:"flex items-center gap-4",children:t.approvalStatus==="approved"&&b.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 rounded-full bg-green-500 text-white shadow-sm animate-enter",children:[b.jsx(Bo,{size:12,fill:"currentColor",strokeWidth:2.5}),b.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:"Approved"})]})}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("button",{onClick:C,className:"w-10 h-10 rounded-full flex items-center justify-center text-zinc-500 dark:text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-800 transition-colors",children:w?b.jsx(zx,{size:20}):b.jsx(Nx,{size:20})}),b.jsx(gt,{variant:"outline",size:"sm",onClick:P,leftIcon:f?b.jsx(gs,{size:14,className:"text-green-500"}):b.jsx(Tz,{size:14}),children:f?"Copied Link":"Share"})]})]})}),b.jsxs("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12 space-y-12",children:[b.jsx("div",{className:"w-full",children:b.jsx(_b,{prd:t})}),(N||U||R)&&b.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-8 animate-enter pb-16",children:[R&&b.jsx(EO,{prdId:t.id,prdTitle:t.productName,currentStatus:t.approvalStatus||"pending",onStatusChange:o}),(N||U)&&b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl border border-zinc-200 dark:border-zinc-800 p-6 sm:p-8 shadow-sm",children:[U&&b.jsxs("div",{className:"flex items-center justify-between mb-8",children:[b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"text-[10px] font-bold text-zinc-400 dark:text-zinc-500 uppercase tracking-widest",children:"Community"}),b.jsxs("span",{className:"text-2xl font-bold text-zinc-900 dark:text-white tracking-tight",children:[t.upvotes||0," Upvotes"]})]}),b.jsx("button",{onClick:V,disabled:d,className:`
                          w-12 h-12 rounded-full flex items-center justify-center transition-all
                          ${d?"bg-zinc-900 dark:bg-zinc-50 text-white dark:text-zinc-900 shadow-md transform scale-105 cursor-default":"bg-zinc-100 dark:bg-zinc-800 text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-700"}
                        `,children:b.jsx(Mx,{size:20,fill:d?"currentColor":"none"})})]}),U&&N&&b.jsx("div",{className:"h-px bg-zinc-100 dark:bg-zinc-800 w-full my-8"}),N&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"mb-6 flex items-center gap-2",children:b.jsxs("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white",children:["Discussion (",((F=t.comments)==null?void 0:F.length)||0,")"]})}),b.jsx("div",{className:"space-y-6 mb-8",children:t.comments&&t.comments.length>0?t.comments.map(ie=>b.jsxs("div",{className:"flex gap-4 animate-enter",children:[b.jsx("img",{src:ie.avatar,alt:ie.author,className:"w-10 h-10 rounded-full flex-shrink-0 bg-zinc-200 dark:bg-zinc-800"}),b.jsxs("div",{className:"space-y-1.5 w-full",children:[b.jsxs("div",{className:"flex justify-between items-baseline",children:[b.jsx("span",{className:"font-semibold text-zinc-900 dark:text-zinc-100 text-sm",children:ie.author}),b.jsx("span",{className:"text-xs text-zinc-400 dark:text-zinc-500",children:ie.date})]}),b.jsx("p",{className:"text-zinc-600 dark:text-zinc-300 text-sm leading-relaxed",children:ie.text})]})]},ie.id)):b.jsx("p",{className:"text-sm text-zinc-400 italic",children:"No comments yet. Be the first!"})}),b.jsx("form",{onSubmit:W,className:"relative",children:b.jsx("input",{type:"text",value:a,onChange:ie=>u(ie.target.value),placeholder:"Add a comment...",className:"w-full border border-zinc-200 dark:border-zinc-700 rounded-full px-5 py-3 focus:outline-none focus:ring-2 focus:ring-zinc-900 dark:focus:ring-zinc-50 focus:border-transparent bg-zinc-50 dark:bg-zinc-800 text-zinc-900 dark:text-white transition-all placeholder:text-zinc-400 text-sm"})})]})]})]})]})]})},CO=({isOpen:t,onClose:e,onImport:n,onImportById:r})=>{const[o,a]=me.useState("id"),[u,d]=me.useState(""),[p,f]=me.useState(!1),[g,_]=me.useState("");if(!t)return null;const x=async()=>{if(!u.trim()){_("Please enter a PRD ID");return}f(!0),_("");try{await r(u.trim()),e(),d("")}catch(C){_(C.message||"Failed to import PRD. Please check the ID and try again.")}finally{f(!1)}},w=C=>{var U;const k=(U=C.target.files)==null?void 0:U[0];if(!k)return;if(k.type!=="application/json"){_("Please upload a valid JSON file");return}const N=new FileReader;N.onload=R=>{var V;try{const W=(V=R.target)==null?void 0:V.result,P=JSON.parse(W);if(!P.productName||!P.sections)throw new Error("Invalid PRD format");n(P),e(),d(""),_("")}catch{_("Invalid JSON file. Please check the file format and try again.")}},N.readAsText(k)},T=()=>{e(),d(""),_(""),a("id")};return b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-enter",children:b.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl shadow-2xl max-w-lg w-full border border-zinc-200 dark:border-zinc-800 animate-enter",children:[b.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-zinc-200 dark:border-zinc-800",children:[b.jsx("h2",{className:"text-xl font-bold text-zinc-900 dark:text-white",children:"Import PRD"}),b.jsx("button",{onClick:T,className:"w-8 h-8 rounded-full flex items-center justify-center text-zinc-500 hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors",children:b.jsx(Cs,{size:20})})]}),b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{className:"flex gap-2 p-1 bg-zinc-100 dark:bg-zinc-800 rounded-full",children:[b.jsx("button",{onClick:()=>a("id"),className:`
                flex-1 py-2.5 rounded-full text-sm font-semibold transition-all
                ${o==="id"?"bg-white dark:bg-zinc-900 text-zinc-900 dark:text-white shadow-sm":"text-zinc-500 dark:text-zinc-400 hover:text-zinc-700 dark:hover:text-zinc-200"}
              `,children:"Import by ID"}),b.jsx("button",{onClick:()=>a("file"),className:`
                flex-1 py-2.5 rounded-full text-sm font-semibold transition-all
                ${o==="file"?"bg-white dark:bg-zinc-900 text-zinc-900 dark:text-white shadow-sm":"text-zinc-500 dark:text-zinc-400 hover:text-zinc-700 dark:hover:text-zinc-200"}
              `,children:"Upload JSON"})]}),o==="id"?b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-zinc-700 dark:text-zinc-300 mb-2",children:"PRD ID"}),b.jsx("input",{type:"text",value:u,onChange:C=>{d(C.target.value),_("")},placeholder:"Enter the PRD ID",className:"w-full px-4 py-3 rounded-lg border border-zinc-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-white placeholder:text-zinc-400 dark:placeholder:text-zinc-500 focus:outline-none focus:ring-2 focus:ring-zinc-900 dark:focus:ring-zinc-100",disabled:p}),b.jsx("p",{className:"mt-2 text-xs text-zinc-500 dark:text-zinc-400",children:"Enter the ID from a published PRD to load it into your workspace"})]}),g&&b.jsx("div",{className:"p-3 rounded-lg bg-red-50 dark:bg-red-950/30 border border-red-200 dark:border-red-800/50",children:b.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:g})}),b.jsx(gt,{onClick:x,disabled:p||!u.trim(),variant:"primary",size:"lg",className:"w-full",leftIcon:b.jsx(Fo,{size:18}),children:p?"Importing...":"Import PRD"})]}):b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-zinc-700 dark:text-zinc-300 mb-2",children:"JSON File"}),b.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-40 border-2 border-dashed border-zinc-300 dark:border-zinc-700 rounded-lg cursor-pointer hover:border-zinc-400 dark:hover:border-zinc-600 hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[b.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[b.jsx(Uz,{className:"w-10 h-10 mb-3 text-zinc-400 dark:text-zinc-500"}),b.jsx("p",{className:"mb-2 text-sm font-semibold text-zinc-700 dark:text-zinc-300",children:"Click to upload"}),b.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"JSON file exported from GZPRD"})]}),b.jsx("input",{type:"file",accept:"application/json",onChange:w,className:"hidden"})]})]}),g&&b.jsx("div",{className:"p-3 rounded-lg bg-red-50 dark:bg-red-950/30 border border-red-200 dark:border-red-800/50",children:b.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:g})}),b.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Upload a PRD JSON file previously exported from GZPRD. The file will be validated before importing."})]})]})]})})},AO=({onStart:t,onImport:e,onImportById:n})=>{const[r,o]=me.useState(!1),[a,u]=me.useState(""),[d,p]=me.useState(!1),[f,g]=me.useState(0),[_,x]=me.useState(150),w=["ship faster","matter","drive clarity","save time","reduce noise","make sense","move teams","make impact"];return me.useEffect(()=>{const C=setTimeout(()=>{const k=w[f%w.length],N=d?k.substring(0,a.length-1):k.substring(0,a.length+1);u(N),!d&&N===k?(setTimeout(()=>p(!0),2e3),x(2e3)):d&&N===""?(p(!1),g(f+1),x(500)):x(d?50:150)},_);return()=>clearTimeout(C)},[a,d,f,_]),b.jsxs("div",{className:"min-h-screen bg-[#FAFAFA] dark:bg-[#09090b] text-zinc-900 dark:text-zinc-50 flex flex-col font-sans selection:bg-zinc-900 selection:text-white dark:selection:bg-zinc-100 dark:selection:text-zinc-900",children:[b.jsx("nav",{className:"border-b border-zinc-200/50 dark:border-zinc-800/50 bg-white/50 dark:bg-zinc-950/50 backdrop-blur-md sticky top-0 z-50",children:b.jsxs("div",{className:"max-w-6xl mx-auto px-6 h-20 flex items-center justify-between w-full",children:[b.jsx("div",{className:"flex items-center gap-3",children:b.jsx("span",{className:"text-lg font-bold tracking-tight text-zinc-900 dark:text-white",children:"GZPRD"})}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("button",{onClick:()=>o(!0),className:"text-sm font-semibold text-zinc-600 dark:text-zinc-300 hover:text-zinc-900 dark:hover:text-white transition-colors hidden sm:flex px-3 py-2 rounded-md hover:bg-zinc-100 dark:hover:bg-zinc-800",children:"Import"}),b.jsx(gt,{size:"sm",onClick:t,children:"Get Started"})]})]})}),b.jsxs("main",{className:"flex-1 flex flex-col",children:[b.jsxs("header",{className:"flex flex-col items-center justify-center text-center px-6 pt-24 pb-16 md:pt-32 md:pb-20 max-w-4xl mx-auto animate-enter",children:[b.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 shadow-sm mb-8 hover:border-zinc-300 dark:hover:border-zinc-700 transition-colors cursor-default",children:[b.jsx(ys,{size:12,className:"text-amber-500 fill-amber-500"}),b.jsx("span",{className:"text-xs font-bold text-zinc-600 dark:text-zinc-300 tracking-wide uppercase",children:"Half Baked & Bolt Hackathon"})]}),b.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold tracking-tight text-zinc-900 dark:text-white leading-[1.4] mb-6 min-h-[180px] md:min-h-[220px] flex flex-col items-center justify-start pb-4",children:[b.jsx("span",{children:"Write PRDs that"}),b.jsxs("span",{className:"text-transparent bg-clip-text bg-gradient-to-br from-zinc-900 via-zinc-600 to-zinc-900 dark:from-white dark:via-zinc-400 dark:to-white animate-gradient inline-flex items-baseline py-2",children:[a,b.jsx("span",{className:"inline-block w-1 h-12 md:h-16 bg-zinc-900 dark:bg-white ml-1 animate-pulse"})]})]}),b.jsx("p",{className:"text-lg md:text-xl text-zinc-500 dark:text-zinc-400 max-w-2xl leading-relaxed mb-10",children:"AI-powered workspace for product teams. Draft specifications, collaborate with stakeholders, and automate approvals without leaving your workflow."}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full sm:w-auto",children:[b.jsx(gt,{size:"lg",onClick:t,rightIcon:b.jsx(qf,{size:18}),className:"h-14 px-8 text-lg w-full sm:w-auto shadow-xl shadow-zinc-200/50 dark:shadow-zinc-900/50",children:"Start Writing"}),b.jsx(gt,{size:"lg",variant:"outline",onClick:()=>window.open("https://gzprd.bolt.host/?id=d4d37efc-e910-4a83-bcef-4fccdc70504a","_blank"),className:"h-14 px-8 text-lg w-full sm:w-auto bg-white dark:bg-zinc-900",children:"View Example"})]})]}),b.jsx("section",{className:"px-6 mb-24 md:mb-32",children:b.jsxs("div",{className:"max-w-5xl mx-auto relative group",children:[b.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-zinc-200 to-zinc-400 dark:from-zinc-800 dark:to-zinc-700 rounded-2xl blur opacity-25 group-hover:opacity-50 transition duration-1000"}),b.jsxs("div",{className:"relative bg-white dark:bg-[#0C0C0E] rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-2xl overflow-hidden aspect-[16/10] md:aspect-[21/9] flex flex-col",children:[b.jsxs("div",{className:"h-10 border-b border-zinc-100 dark:border-zinc-800 bg-zinc-50/50 dark:bg-zinc-900/50 flex items-center px-4 gap-2",children:[b.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400/80"}),b.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-400/80"}),b.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400/80"}),b.jsx("div",{className:"ml-4 h-5 w-64 bg-zinc-200 dark:bg-zinc-800 rounded-md opacity-50"})]}),b.jsxs("div",{className:"flex-1 p-8 md:p-12 flex gap-8",children:[b.jsxs("div",{className:"w-1/4 space-y-4 hidden md:block",children:[b.jsx("div",{className:"h-4 w-2/3 bg-zinc-100 dark:bg-zinc-800 rounded"}),b.jsx("div",{className:"h-4 w-full bg-zinc-100 dark:bg-zinc-800 rounded opacity-60"}),b.jsx("div",{className:"h-4 w-3/4 bg-zinc-100 dark:bg-zinc-800 rounded opacity-60"}),b.jsx("div",{className:"h-4 w-1/2 bg-zinc-100 dark:bg-zinc-800 rounded opacity-60"})]}),b.jsxs("div",{className:"flex-1 space-y-6",children:[b.jsxs("div",{className:"space-y-3",children:[b.jsx("div",{className:"h-8 w-1/3 bg-zinc-900 dark:bg-zinc-100 rounded-lg opacity-10 dark:opacity-20"}),b.jsx("div",{className:"h-4 w-3/4 bg-zinc-200 dark:bg-zinc-800 rounded opacity-50"})]}),b.jsxs("div",{className:"p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 bg-zinc-50/50 dark:bg-zinc-900/20 space-y-3",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[b.jsx("div",{className:"w-6 h-6 rounded-full bg-indigo-500/20 text-indigo-500 flex items-center justify-center",children:b.jsx(ys,{size:12,fill:"currentColor"})}),b.jsx("div",{className:"h-3 w-24 bg-zinc-200 dark:bg-zinc-800 rounded"})]}),b.jsx("div",{className:"h-3 w-full bg-zinc-200 dark:bg-zinc-800 rounded opacity-60"}),b.jsx("div",{className:"h-3 w-full bg-zinc-200 dark:bg-zinc-800 rounded opacity-60"}),b.jsx("div",{className:"h-3 w-2/3 bg-zinc-200 dark:bg-zinc-800 rounded opacity-60"})]})]})]})]})]})}),b.jsx("section",{className:"py-24 border-t border-zinc-200/50 dark:border-zinc-800/50",children:b.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[b.jsxs("div",{className:"mb-16 md:text-center max-w-2xl mx-auto",children:[b.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-white mb-4",children:"Everything you need to ship."}),b.jsx("p",{className:"text-zinc-500 dark:text-zinc-400",children:"From the first draft to the final approval, GZPRD provides the structure and intelligence your product team needs."})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:[b.jsxs("div",{className:"p-8 rounded-3xl bg-white dark:bg-zinc-900/40 border border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700 transition-colors",children:[b.jsx("div",{className:"w-12 h-12 bg-zinc-50 dark:bg-zinc-900 rounded-2xl flex items-center justify-center text-zinc-900 dark:text-white mb-6 border border-zinc-100 dark:border-zinc-800 shadow-sm",children:b.jsx(ys,{size:24})}),b.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white mb-2",children:"Context-Aware AI"}),b.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 leading-relaxed",children:"Generate comprehensive PRD sections like Risks and Success Metrics instantly, tailored to your product description."})]}),b.jsxs("div",{className:"p-8 rounded-3xl bg-white dark:bg-zinc-900/40 border border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700 transition-colors",children:[b.jsx("div",{className:"w-12 h-12 bg-zinc-50 dark:bg-zinc-900 rounded-2xl flex items-center justify-center text-zinc-900 dark:text-white mb-6 border border-zinc-100 dark:border-zinc-800 shadow-sm",children:b.jsx(Bo,{size:24})}),b.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white mb-2",children:"Approval Workflows"}),b.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 leading-relaxed",children:"Formalize the process. Stakeholders can review, comment, and officially approve PRDs with a tracked audit trail."})]}),b.jsxs("div",{className:"p-8 rounded-3xl bg-white dark:bg-zinc-900/40 border border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700 transition-colors",children:[b.jsx("div",{className:"w-12 h-12 bg-zinc-50 dark:bg-zinc-900 rounded-2xl flex items-center justify-center text-zinc-900 dark:text-white mb-6 border border-zinc-100 dark:border-zinc-800 shadow-sm",children:b.jsx(Lz,{size:24})}),b.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white mb-2",children:"No Account Needed"}),b.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 leading-relaxed",children:"Start immediately. No sign-up walls or tracking. Your data is stored locally in your browser, ensuring privacy by default."})]}),b.jsxs("div",{className:"p-8 rounded-3xl bg-white dark:bg-zinc-900/40 border border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700 transition-colors",children:[b.jsx("div",{className:"w-12 h-12 bg-zinc-50 dark:bg-zinc-900 rounded-2xl flex items-center justify-center text-zinc-900 dark:text-white mb-6 border border-zinc-100 dark:border-zinc-800 shadow-sm",children:b.jsx(Ax,{size:24})}),b.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-white mb-2",children:"Bring Your Own Key"}),b.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 leading-relaxed",children:"Connect your own Gemini API key. You pay Google directly, avoiding vendor markup and retaining full control over limits."})]}),b.jsxs("div",{className:"p-8 rounded-3xl bg-white dark:bg-[#0F0F12] border border-zinc-200 dark:border-zinc-800 text-zinc-900 dark:text-white md:col-span-2 relative overflow-hidden group flex flex-col md:flex-row gap-8 items-start",children:[b.jsxs("div",{className:"relative z-10 flex-1 flex flex-col h-full justify-between",children:[b.jsxs("div",{children:[b.jsx("div",{className:"w-12 h-12 bg-zinc-100 dark:bg-zinc-800 rounded-2xl flex items-center justify-center text-zinc-900 dark:text-white mb-6 shadow-lg border border-zinc-200 dark:border-zinc-700",children:b.jsx(Px,{size:24})}),b.jsx("h3",{className:"text-xl font-bold mb-3 text-zinc-900 dark:text-white",children:"Powerful Webhook Integrations"}),b.jsx("p",{className:"text-zinc-600 dark:text-zinc-400 leading-relaxed text-sm",children:'Connect your PRDs to your engineering stack. Automatically trigger CI/CD pipelines, create Jira epics, or notify Slack channels when a PRD status changes to "Approved".'})]}),b.jsxs("div",{className:"flex items-center gap-3 mt-8",children:[b.jsx("div",{className:"px-3 py-1.5 rounded-md bg-zinc-100 dark:bg-white/10 text-zinc-600 dark:text-zinc-300 text-xs font-mono backdrop-blur-md border border-zinc-200 dark:border-white/10",children:"POST /your-custom-endpoint"}),b.jsxs("div",{className:"px-3 py-1.5 rounded-md bg-green-100 dark:bg-green-500/10 text-green-600 dark:text-green-400 text-xs font-bold flex items-center gap-1.5 border border-green-200 dark:border-green-500/20",children:[b.jsx(Cx,{size:12}),b.jsx("span",{children:"200 OK"})]})]})]}),b.jsx("div",{className:"relative z-10 w-full md:w-80 flex-shrink-0",children:b.jsxs("div",{className:"rounded-xl overflow-hidden bg-zinc-50 dark:bg-[#000000] border border-zinc-200 dark:border-zinc-800 shadow-2xl",children:[b.jsxs("div",{className:"flex items-center gap-1.5 px-4 py-3 border-b border-zinc-200 dark:border-zinc-800/50 bg-white dark:bg-zinc-900/50",children:[b.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-400 dark:bg-red-500/50"}),b.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-amber-400 dark:bg-amber-500/50"}),b.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-400 dark:bg-green-500/50"})]}),b.jsxs("div",{className:"p-4 font-mono text-[10px] sm:text-xs leading-relaxed text-zinc-700 dark:text-zinc-300",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2 text-zinc-400 dark:text-zinc-500 select-none",children:[b.jsx(Mz,{size:12}),b.jsx("span",{children:"payload.json"})]}),b.jsx("div",{children:b.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"{"})}),b.jsxs("div",{className:"pl-4",children:[b.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:'"event"'}),": ",b.jsx("span",{className:"text-green-600 dark:text-green-400",children:'"prd_approved"'}),","]}),b.jsxs("div",{className:"pl-4",children:[b.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:'"prd_id"'}),": ",b.jsx("span",{className:"text-green-600 dark:text-green-400",children:'"gzprd_123"'}),","]}),b.jsxs("div",{className:"pl-4",children:[b.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:'"title"'}),": ",b.jsx("span",{className:"text-green-600 dark:text-green-400",children:'"Q4 Roadmap"'}),","]}),b.jsxs("div",{className:"pl-4",children:[b.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:'"approver"'}),": ",b.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"{"})]}),b.jsxs("div",{className:"pl-8",children:[b.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:'"email"'}),": ",b.jsx("span",{className:"text-green-600 dark:text-green-400",children:'"alice@co.com"'})]}),b.jsx("div",{className:"pl-4",children:b.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"}"})}),b.jsx("div",{children:b.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"}"})})]})]})}),b.jsx("div",{className:"absolute right-0 top-0 w-2/3 h-full bg-gradient-to-l from-indigo-500/10 to-transparent pointer-events-none mix-blend-screen opacity-0 dark:opacity-100"}),b.jsx("div",{className:"absolute bottom-0 right-10 w-40 h-40 bg-purple-500/10 blur-[60px] pointer-events-none rounded-full opacity-0 dark:opacity-100"})]})]})]})}),b.jsx("section",{className:"py-24 px-6 text-center",children:b.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[b.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-zinc-900 dark:text-white tracking-tight",children:"Ready to streamline your PRDs?"}),b.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-lg",children:"Join thousands of Product Managers building the future with AI assistance. No credit card required."}),b.jsx("div",{className:"flex justify-center",children:b.jsx(gt,{size:"lg",onClick:t,className:"h-14 px-10 text-lg shadow-xl shadow-zinc-900/10 dark:shadow-black/50",children:"Create New PRD"})})]})})]}),b.jsx("footer",{className:"py-12 border-t border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-950",children:b.jsxs("div",{className:"max-w-6xl mx-auto px-6 flex flex-col md:flex-row items-center justify-between gap-6",children:[b.jsx("div",{className:"flex items-center gap-2",children:b.jsx("span",{className:"font-bold text-zinc-900 dark:text-white tracking-tight",children:"GZPRD"})}),b.jsxs("p",{className:"text-zinc-400 dark:text-zinc-600 text-sm",children:[" ",new Date().getFullYear()," GZPRD. Built with Bolt.new."]})]})}),b.jsx(CO,{isOpen:r,onClose:()=>o(!1),onImport:e,onImportById:n})]})},kO=({isOpen:t,onClose:e,onConfirm:n,initialSettings:r})=>{const[o,a]=me.useState(r);if(!t)return null;const u=d=>{a(p=>({...p,[d]:!p[d]}))};return b.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[b.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity",onClick:e}),b.jsxs("div",{className:"relative bg-white dark:bg-zinc-900 rounded-2xl w-full max-w-md shadow-2xl border border-zinc-200 dark:border-zinc-800 p-6 animate-enter",children:[b.jsxs("div",{className:"flex items-center justify-between mb-6",children:[b.jsx("h2",{className:"text-xl font-bold text-zinc-900 dark:text-white",children:"Publish Settings"}),b.jsx("button",{onClick:e,className:"text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300",children:b.jsx(Cs,{size:20})})]}),b.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 mb-6",children:"Configure how your PRD appears to the public. You can change these settings later."}),b.jsxs("div",{className:"space-y-3 mb-8",children:[b.jsxs("div",{onClick:()=>u("allowComments"),className:`
              flex items-center justify-between p-4 rounded-xl border cursor-pointer transition-all
              ${o.allowComments?"border-zinc-900 bg-zinc-50 dark:bg-zinc-800 dark:border-zinc-700":"border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900"}
            `,children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:`p-2 rounded-full ${o.allowComments?"bg-zinc-900 text-white dark:bg-zinc-50 dark:text-zinc-900":"bg-zinc-100 text-zinc-400 dark:bg-zinc-800"}`,children:b.jsx(az,{size:16})}),b.jsx("div",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100",children:"Allow Comments"})]}),b.jsx("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center ${o.allowComments?"bg-zinc-900 border-zinc-900 dark:bg-zinc-50 dark:border-zinc-50":"border-zinc-300 dark:border-zinc-700"}`,children:o.allowComments&&b.jsx(gs,{size:12,className:"text-white dark:text-zinc-900",strokeWidth:4})})]}),b.jsxs("div",{onClick:()=>u("allowUpvotes"),className:`
              flex items-center justify-between p-4 rounded-xl border cursor-pointer transition-all
              ${o.allowUpvotes?"border-zinc-900 bg-zinc-50 dark:bg-zinc-800 dark:border-zinc-700":"border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900"}
            `,children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:`p-2 rounded-full ${o.allowUpvotes?"bg-zinc-900 text-white dark:bg-zinc-50 dark:text-zinc-900":"bg-zinc-100 text-zinc-400 dark:bg-zinc-800"}`,children:b.jsx(Mx,{size:16})}),b.jsx("div",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100",children:"Enable Upvotes"})]}),b.jsx("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center ${o.allowUpvotes?"bg-zinc-900 border-zinc-900 dark:bg-zinc-50 dark:border-zinc-50":"border-zinc-300 dark:border-zinc-700"}`,children:o.allowUpvotes&&b.jsx(gs,{size:12,className:"text-white dark:text-zinc-900",strokeWidth:4})})]}),b.jsxs("div",{onClick:()=>u("enableApprovalFlow"),className:`
              flex items-center justify-between p-4 rounded-xl border cursor-pointer transition-all
              ${o.enableApprovalFlow?"border-zinc-900 bg-zinc-50 dark:bg-zinc-800 dark:border-zinc-700":"border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900"}
            `,children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:`p-2 rounded-full ${o.enableApprovalFlow?"bg-zinc-900 text-white dark:bg-zinc-50 dark:text-zinc-900":"bg-zinc-100 text-zinc-400 dark:bg-zinc-800"}`,children:b.jsx(Bo,{size:16})}),b.jsx("div",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100",children:"Enable Client Approval Flow"})]}),b.jsx("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center ${o.enableApprovalFlow?"bg-zinc-900 border-zinc-900 dark:bg-zinc-50 dark:border-zinc-50":"border-zinc-300 dark:border-zinc-700"}`,children:o.enableApprovalFlow&&b.jsx(gs,{size:12,className:"text-white dark:text-zinc-900",strokeWidth:4})})]})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx(gt,{variant:"outline",onClick:e,className:"flex-1",children:"Cancel"}),b.jsx(gt,{variant:"primary",onClick:()=>n(o),className:"flex-1",children:"Confirm & Publish"})]})]})]})},NO=({onSelect:t,onClose:e})=>{const n=[{id:"gemini-2.5-flash",label:"Gemini 2.5 Flash",description:"Fast & Efficient",icon:b.jsx(Ux,{size:16})},{id:"gemini-3-pro-preview",label:"Gemini 3.0 Pro",description:"Complex Reasoning",icon:b.jsx(yI,{size:16})}];return b.jsx("div",{className:"absolute top-full left-0 mt-2 w-full bg-white dark:bg-zinc-900 rounded-xl shadow-xl ring-1 ring-black/5 dark:ring-white/10 overflow-hidden z-50 animate-enter origin-top p-1",children:b.jsx("div",{className:"flex flex-col gap-0.5",children:n.map(r=>b.jsxs("button",{onClick:()=>{t(r.id),e()},className:"flex items-center gap-3 px-4 py-3 text-sm font-medium text-zinc-700 dark:text-zinc-200 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg transition-colors text-left",children:[b.jsx("span",{className:"text-zinc-400 dark:text-zinc-500",children:r.icon}),b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"font-semibold text-zinc-900 dark:text-white",children:r.label}),b.jsx("span",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:r.description})]})]},r.id))})})},RO=({isOpen:t,onClose:e,settings:n,onSave:r})=>{const[o,a]=me.useState(n),[u,d]=me.useState("idle"),[p,f]=me.useState(!1);me.useEffect(()=>{t&&(a(n),d("idle"),f(!1))},[t,n]);const g=async()=>{if(!o.webhookUrl)return;d("loading");const _=new Promise(w=>setTimeout(w,600)),[x]=await Promise.all([EN(o.webhookUrl),_]);d(x?"success":"error"),setTimeout(()=>{d("idle")},3e3)};return t?b.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[b.jsx("div",{className:"absolute inset-0 bg-zinc-900/40 backdrop-blur-sm transition-opacity",onClick:e}),b.jsxs("div",{className:"relative bg-white dark:bg-zinc-900 rounded-2xl w-full max-w-2xl shadow-2xl border border-zinc-200 dark:border-zinc-800 flex flex-col max-h-[90vh] animate-enter",children:[b.jsxs("div",{className:"px-8 py-6 border-b border-zinc-100 dark:border-zinc-800 flex items-center justify-between flex-shrink-0",children:[b.jsxs("div",{children:[b.jsxs("h2",{className:"text-xl font-bold text-zinc-900 dark:text-white flex items-center gap-2",children:[b.jsx(Hf,{size:24,className:"text-zinc-900 dark:text-white"}),"Configuration"]}),b.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 mt-1",children:"Manage your AI model, integrations, and preferences."})]}),b.jsx("button",{onClick:e,className:"p-2 -mr-2 text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors rounded-full hover:bg-zinc-100 dark:hover:bg-zinc-800",children:b.jsx(Cs,{size:20})})]}),b.jsxs("div",{className:"overflow-y-auto flex-1 px-8 py-8 space-y-10",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 md:gap-8",children:[b.jsxs("div",{className:"md:col-span-4",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx(mI,{size:18,className:"text-indigo-600 dark:text-indigo-400"}),b.jsx("h3",{className:"text-sm font-bold text-zinc-900 dark:text-white",children:"AI Engine"})]}),b.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 leading-relaxed",children:"Configure the Gemini model used for generation and your API credentials."})]}),b.jsxs("div",{className:"md:col-span-8 space-y-5",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"block text-xs font-bold text-zinc-700 dark:text-zinc-300 uppercase tracking-wider",children:"Gemini Model"}),b.jsxs("div",{className:"relative",children:[b.jsx(zI,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400 pointer-events-none z-10"}),b.jsx("button",{type:"button",onClick:()=>f(!p),className:"w-full bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 rounded-xl pl-10 pr-10 py-3 text-sm text-zinc-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-zinc-900 dark:focus:ring-zinc-50 focus:border-transparent cursor-pointer shadow-sm hover:border-zinc-400 dark:hover:border-zinc-700 transition-colors text-left",children:o.geminiModel==="gemini-2.5-flash"?"Gemini 2.5 Flash (Fast & Efficient)":"Gemini 3.0 Pro (Complex Reasoning)"}),b.jsx(Tx,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 pointer-events-none"}),p&&b.jsx(NO,{onSelect:_=>a({...o,geminiModel:_}),onClose:()=>f(!1)})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("label",{className:"block text-xs font-bold text-zinc-700 dark:text-zinc-300 uppercase tracking-wider",children:["API Key ",b.jsx("span",{className:"text-red-500",children:"*"})]}),b.jsxs("div",{className:"relative",children:[b.jsx(Ax,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400 pointer-events-none"}),b.jsx("input",{type:"password",value:o.geminiApiKey,onChange:_=>a({...o,geminiApiKey:_.target.value}),placeholder:"Enter your Google GenAI API Key",className:"w-full bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 rounded-xl pl-10 pr-4 py-3 text-sm text-zinc-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-zinc-900 dark:focus:ring-zinc-50 focus:border-transparent placeholder:text-zinc-400 shadow-sm transition-all"})]}),!o.geminiApiKey&&b.jsxs("div",{className:"flex items-start gap-2 p-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg",children:[b.jsx(Ll,{size:16,className:"text-amber-600 dark:text-amber-400 flex-shrink-0 mt-0.5"}),b.jsxs("div",{className:"text-xs text-amber-700 dark:text-amber-300",children:[b.jsx("p",{className:"font-semibold mb-1",children:"API Key Required"}),b.jsxs("p",{children:["AI generation features will not work without a valid Gemini API key. ",b.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-amber-800 dark:hover:text-amber-200",children:"Get your free API key here"}),"."]})]})]})]})]})]}),b.jsx("div",{className:"h-px bg-zinc-100 dark:bg-zinc-800 w-full"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 md:gap-8",children:[b.jsxs("div",{className:"md:col-span-4",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx(Px,{size:18,className:"text-pink-600 dark:text-pink-400"}),b.jsx("h3",{className:"text-sm font-bold text-zinc-900 dark:text-white",children:"Webhooks"})]}),b.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 leading-relaxed",children:"Send a JSON payload to an external URL when the PRD approval status changes."})]}),b.jsxs("div",{className:"md:col-span-8 space-y-3",children:[b.jsx("label",{className:"block text-xs font-bold text-zinc-700 dark:text-zinc-300 uppercase tracking-wider",children:"Endpoint URL"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("div",{className:"relative flex-1",children:b.jsx("input",{type:"url",value:o.webhookUrl,onChange:_=>{a({...o,webhookUrl:_.target.value}),d("idle")},placeholder:"https://api.yourdomain.com/webhooks/prd-approval",className:"w-full bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 rounded-xl px-4 py-3 text-sm text-zinc-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-zinc-900 dark:focus:ring-zinc-50 focus:border-transparent placeholder:text-zinc-400 shadow-sm transition-all"})}),b.jsxs(gt,{type:"button",variant:"secondary",onClick:g,disabled:!o.webhookUrl||u==="loading",className:`
                                min-w-[100px] transition-all duration-300
                                ${u==="success"?"border-green-300 bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-300 dark:border-green-800":""}
                                ${u==="error"?"border-red-300 bg-red-50 text-red-700 dark:bg-red-900/20 dark:text-red-300 dark:border-red-800":""}
                            `,children:[u==="loading"&&b.jsx(Bf,{size:16,className:"animate-spin"}),u==="success"&&b.jsxs("div",{className:"flex items-center gap-1.5 animate-enter",children:[b.jsx(Cx,{size:16}),b.jsx("span",{children:"200 OK"})]}),u==="error"&&b.jsxs("div",{className:"flex items-center gap-1.5 animate-enter",children:[b.jsx(Ll,{size:16}),b.jsx("span",{children:"Failed"})]}),u==="idle"&&b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Ux,{size:16}),b.jsx("span",{children:"Test"})]})]})]})]})]}),b.jsx("div",{className:"h-px bg-zinc-100 dark:bg-zinc-800 w-full"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 md:gap-8",children:[b.jsxs("div",{className:"md:col-span-4",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx(kx,{size:18,className:"text-blue-600 dark:text-blue-400"}),b.jsx("h3",{className:"text-sm font-bold text-zinc-900 dark:text-white",children:"Notifications"})]}),b.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 leading-relaxed",children:"Where should we send confirmation emails and export links?"})]}),b.jsxs("div",{className:"md:col-span-8 space-y-3",children:[b.jsx("label",{className:"block text-xs font-bold text-zinc-700 dark:text-zinc-300 uppercase tracking-wider",children:"Email Address"}),b.jsx("input",{type:"email",value:o.email,onChange:_=>a({...o,email:_.target.value}),placeholder:"you@company.com",className:"w-full bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 rounded-xl px-4 py-3 text-sm text-zinc-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-zinc-900 dark:focus:ring-zinc-50 focus:border-transparent placeholder:text-zinc-400 shadow-sm transition-all"})]})]})]}),b.jsxs("div",{className:"px-8 py-6 border-t border-zinc-100 dark:border-zinc-800 flex justify-end gap-3 flex-shrink-0 bg-zinc-50/50 dark:bg-zinc-900/50 rounded-b-2xl",children:[b.jsx(gt,{variant:"ghost",onClick:e,children:"Cancel"}),b.jsx(gt,{variant:"primary",onClick:()=>r(o),leftIcon:b.jsx(bz,{size:16}),children:"Save Changes"})]})]})]}):null},IO=({view:t,onViewChange:e,steps:n})=>b.jsx("div",{className:"md:hidden px-4 pb-4 pt-2 bg-white/80 dark:bg-zinc-950/80 backdrop-blur-md sticky top-20 z-20 flex justify-center w-full border-b border-zinc-200/50 dark:border-zinc-800/50",children:b.jsx("div",{className:"flex items-center space-x-2 bg-zinc-100 dark:bg-zinc-900 p-2 rounded-full shadow-inner overflow-x-auto max-w-full",children:n.map(r=>{const o=t===r.id;return b.jsxs("button",{onClick:()=>e(r.id),className:`
                          flex items-center gap-2 px-5 py-3 rounded-full text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap
                          ${o?"bg-white dark:bg-zinc-800 text-zinc-900 dark:text-white shadow-sm ring-1 ring-black/5 dark:ring-white/5":"text-zinc-500 dark:text-zinc-400 hover:text-zinc-700 dark:hover:text-zinc-200"}
                      `,children:[o&&b.jsx("span",{className:"opacity-75",children:r.icon}),r.label]},r.id)})})}),zO=()=>{me.useEffect(()=>{(()=>{const Z=document.querySelector("title"),ce=document.querySelector('meta[name="description"]');Z&&(Z.textContent="GZPRD - AI-Powered Product Requirements Tool"),ce&&ce.setAttribute("content","Write product requirements that ship faster. AI-powered workspace for product teams to draft specifications, collaborate with stakeholders, and automate approvals.")})()},[]);const{view:t,setView:e,isLoading:n,prd:r,scrolled:o,isDark:a,toggleTheme:u,settings:d,isSettingsOpen:p,setIsSettingsOpen:f,handleUpdateSettings:g,handleSectionToggle:_,updateSectionContent:x,updateContext:w,getGenerationContext:T,handleGenerateDescription:C,handleGenerateSection:k,handleGenerateAll:N,initiatePublish:U,confirmPublish:R,isPublishModalOpen:V,setIsPublishModalOpen:W,loadingStates:P,handlePublicComment:F,handlePublicUpvote:ie,handleStatusChange:te,handleImportPRD:ue,handleImportById:se}=iI(),[X,pe]=me.useState(!1);me.useEffect(()=>{const L=localStorage.getItem("apiKeyBannerDismissed");!d.geminiApiKey&&!L?pe(!0):pe(!1)},[d.geminiApiKey]);const de=()=>{localStorage.setItem("apiKeyBannerDismissed","true"),pe(!1)},oe=[{id:"config",label:"Structure",icon:b.jsx(Hf,{size:16})},{id:"edit",label:"Write",icon:b.jsx(Fo,{size:16})},{id:"preview",label:"Preview",icon:b.jsx(ql,{size:16})}];return n?b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#FAFAFA] dark:bg-[#09090b]",children:b.jsxs("div",{className:"flex flex-col items-center gap-4 animate-enter",children:[b.jsx(Bf,{size:32,className:"text-zinc-400 animate-spin"}),b.jsx("span",{className:"text-sm font-medium text-zinc-500",children:"Loading GZPRD..."})]})}):t==="landing"?b.jsx(AO,{onStart:()=>e("config"),onImport:ue,onImportById:se}):t==="public"?b.jsx(TO,{prd:r,onBack:()=>e("edit"),onComment:F,onUpvote:ie,onStatusChange:te}):b.jsxs("div",{className:"min-h-screen flex flex-col bg-[#FAFAFA] dark:bg-[#09090b] text-zinc-900 dark:text-zinc-50 font-sans transition-colors duration-300 selection:bg-zinc-900 selection:text-white dark:selection:bg-zinc-100 dark:selection:text-zinc-900",children:[b.jsx(Jz,{scrolled:o,view:t,setView:e,isDark:a,toggleTheme:u,onPublish:U,onOpenSettings:()=>f(!0),hasApiKey:!!d.geminiApiKey}),X&&b.jsx(Yz,{onDismiss:de,onOpenSettings:()=>f(!0)}),b.jsx(IO,{view:t,onViewChange:e,steps:oe}),b.jsxs("main",{className:"flex-1 max-w-5xl mx-auto w-full px-4 sm:px-6 lg:px-8 py-8 md:py-16",children:[t==="config"&&b.jsx(Xz,{prd:r,onSectionToggle:_,onNext:()=>e("edit")}),t==="edit"&&b.jsx(vO,{prd:r,context:T(),onUpdateContext:w,onUpdateSection:x,onGenerateDescription:C,onGenerateSection:k,onGenerateAll:N,onBack:()=>e("config"),onPreview:()=>e("preview"),loadingStates:P}),t==="preview"&&b.jsx(SO,{prd:r,onBack:()=>e("edit"),onPublish:U})]}),b.jsx(kO,{isOpen:V,onClose:()=>W(!1),onConfirm:R,initialSettings:r.publicSettings}),b.jsx(RO,{isOpen:p,onClose:()=>f(!1),settings:d,onSave:g})]})},xb=document.getElementById("root");if(!xb)throw new Error("Could not find root element to mount to");const MO=jS.createRoot(xb);MO.render(b.jsx(e_.StrictMode,{children:b.jsx(zO,{})}));
